{
  "hash": "3e9099a5d6107e7ca634d7af1e3cb249",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take Home Exercise 01\"\nauthor: \"Ee Fook Ming\"\ndate: \"February 8, 2025\"\ndate-modified: last-modified\nexecute:\n  echo: true\n  code-fold: true\n  code-summary: \"Show Code\"\n  eval: true\n  warning: false\n  freeze: true\nformat:\n  html:\n    toc: true\n    number-sections: true\n---\n\n\n\n\n[Overview and Background: Ship Performance in the Gulf of Guinea]{style=\"font-size: 44px; font-weight: bold;\"}\n\n# Introduction\n\nThe maritime industry is a cornerstone of global trade, ensuring the smooth transportation of goods across continents. The efficient performance of ships is crucial to optimizing fuel consumption, minimizing operational costs, and maximizing revenue. This assignment explores ship performance trends using the Ship Performance Clustering Dataset, focusing on ships operating in the Gulf of Guinea—a vital maritime region known for its economic and strategic importance.\n\nBy analyzing ship performance metrics such as speed, efficiency, operational cost, and revenue, we aim to uncover insights that can enhance operational decision-making. This study employs data visualization techniques to identify key patterns, trends, and potential optimizations in ship performance.\n\n![](images/clipboard-4268411684.png)\n\n### Key Observations from the Map\n\n**Countries Surrounding the Gulf of Guinea**\n\n-   The Gulf of Guinea is bordered by West and Central African nations, including: Nigeria, Ghana, Ivory Coast, Liberia, Senegal, Benin, Togo, Cameroon, Gabon, Angola, Equatorial Guinea, and the Democratic Republic of the Congo.\n-   These countries rely heavily on ports, fishing, and offshore oil production.\n\n**Strategic Maritime Significance**\n\n-   The Niger Delta, highlighted in yellow, is a key oil-producing region in Nigeria, contributing to the global energy supply.\n-   The ports along the Gulf of Guinea serve as major hubs for international trade, handling large volumes of cargo and oil shipments.\n\n**Security Concerns:**\n\n-   The Gulf of Guinea is a hotspot for maritime piracy, especially near Nigeria, Cameroon, and Ghana.\n-   Ships navigating these waters often face security risks, requiring escort vessels, naval patrols, and advanced tracking systems.\n\n**Shipping and Economic Importance**\n\n-   The Atlantic Ocean shipping lanes passing through the Gulf of Guinea connect Africa to Europe, Asia, and the Americas.\n-   Major exports include crude oil, liquefied natural gas (LNG), timber, cocoa, and fish.\n\n### Relevance to This Assignment\n\nFor an analysis of ship performance **in terms of profitability** in the Gulf of Guinea, it would involve integrating the following tasks:\n\n1.  Route efficiency for profit optimization: Compare vessel performance and profit margins across short-haul, long-haul, and transoceanic routes. Identify which routes yield the highest returns relative to operational costs.\n\n2.  Weather impact on profitability: Examine how adverse conditions (e.g., storms, rough seas) influence speed, fuel consumption, and ultimately, voyage revenue and profitability.\n\n3.  Operational cost variations: Investigate differences in costs tied to fuel prices, maintenance, and shipping lanes to pinpoint opportunities for cost savings and revenue maximization.\n\n# Background and Content\n\n## Maritime Significance of the Gulf of Guinea\n\nThe Gulf of Guinea serves as a major maritime trade route, connecting West Africa to global markets. The region hosts various types of commercial ships, including tankers, container ships, and bulk carriers, each operating under different economic and environmental conditions. Given the challenges posed by fuel costs, maintenance, and weather conditions, shipowners and operators constantly seek ways to improve efficiency while reducing operational expenses.\n\n## Data Overview\n\nThe dataset used in this study is a synthetic but realistic representation of maritime operations. The key attributes include:\n\n-   Speed Over Ground (knots)\n-   Distance Traveled (nautical miles)\n-   Engine Power (kW)\n-   Operational Cost per Voyage (USD)\n-   Revenue per Voyage (USD)\n-   Efficiency (nautical miles per kilowatt-hour)\n-   Ship Type, Route Type, Engine Type, and Maintenance Status\n\nThis dataset provides a rich foundation for exploratory data analysis (EDA), clustering analysis, and performance optimization.\n\n### Understanding the Dataset\n\nThis dataset consists of 2736 rows and 18 columns, categorized into numerical and categorical features. Key attributes include:\n\n#### Numerical Features (12 Columns)\n\n1.  Speed_Over_Ground_knots – Ship speed over water (knots)\n2.  Engine_Power_kW – Engine power output (kilowatts)\n3.  Distance_Traveled_nm – Distance traveled per voyage (nautical miles)\n4.  Draft_meters – The vertical distance from the waterline to the bottom of the hull (meters)\n5.  Cargo_Weight_tons – Weight of the cargo transported (metric tons)\n6.  Operational_Cost_USD – Cost per voyage (USD)\n7.  Revenue_per_Voyage_USD – Revenue per voyage (USD)\n8.  Turnaround_Time_hours – Time spent in port between arrival and departure (hours)\n9.  Efficiency_nm_per_kWh – Energy efficiency in nautical miles per kilowatt-hour\n10. Seasonal_Impact_Score – Factor capturing how seasonal conditions affect operations (e.g., ice, monsoons)\n11. Weekly_Voyage_Count – Number of voyages carried out on a weekly basis\n12. Average_Load_Percentage – Percentage of the ship’s cargo capacity utilized per voyage\n\n#### Categorical Features (5 Columns)\n\n1.  Ship_Type – Type of the ship (e.g., Container Ship, Fish Carrier, Bulk Carrier)\n2.  Route_Type – Type of route (e.g., Short-haul, Long-haul, Transoceanic)\n3.  Engine_Type – Type of engine/fuel (e.g., Diesel, Heavy Fuel Oil, Steam Turbine)\n4.  Maintenance_Status – Overall maintenance condition (e.g., Good, Fair, Critical)\n5.  Weather_Condition – Weather or sea state during the voyage (e.g., Calm, Moderate, Rough)\n\n### Summary\n\n-   Total Columns: 18\n-   Breakdown by Data Type:\n    -   Date/Time: 1 column (Date)\n    -   Numeric: 12 columns (e.g., Speed_Over_Ground_knots, Cargo_Weight_tons)\n    -   Categorical: 5 columns (e.g., Ship_Type, Engine_Type)\n\nThese columns collectively capture operational, financial, and environmental factors that can be used to measure profitability and optimize operational efficiency. By examining the interplay between operational costs, revenue, speed, and fuel consumption—and factoring in variables like maintenance status, seasonal impact, and route characteristics—shipping companies gain actionable insights into how best to manage costs, improve turnaround times, and increase revenue. This, in turn, supports data-driven decisions aimed at maximizing margins, minimizing environmental impact, and ensuring sustainable, efficient voyages.\n\n# Load & Explore the Dataset\n\n-   Loading the required libraries\n-   Loading the dataset into R.\n-   Checking the structure (columns, data types).\n-   Identifying missing values and duplicates.\n\n## Loading Libraries\n\n## Essential R Packages for Data Science and Visualization\n\nThis document provides an overview of essential R packages commonly used for data science, data visualization, and dynamic reporting.\n\n### Core Data Science Libraries\n\n-   [**tidyverse**](https://www.tidyverse.org/): A collection of integrated packages designed for modern data science workflows, including data import, tidying, transformation, visualization, and modeling.\n-   [**haven**](https://haven.tidyverse.org/): Enables R to read and write data stored in SAS, SPSS, and Stata formats, ensuring seamless interoperability with statistical software.\n-   [**knitr**](https://yihui.org/knitr/): Facilitates dynamic report generation, allowing users to embed R code in markdown and generate high-quality documents.\n\n### Visualization Enhancements for ggplot2\n\n-   [**patchwork**](https://patchwork.data-imaginist.com/): Simplifies the arrangement of multiple ggplot2-based visualizations into composite figures for improved storytelling.\n-   [**ggthemes**](https://jrnold.github.io/ggthemes/): Provides additional themes, scales, and geoms to enhance the appearance of ggplot2 visualizations.\n-   [**scales**](https://scales.r-lib.org/): Supports improved data labeling, annotation, and scale transformations for ggplot2.\n-   [**ggridges**](https://wilkelab.org/ggridges/): Enables the creation of ridgeline plots, useful for visualizing distribution changes over time or across categories.\n-   [**ggpubr**](https://rpkgs.datanovia.com/ggpubr/): Provides functions for creating publication-ready plots with minimal effort.\n-   [**gganimate**](https://gganimate.com/): Extends ggplot2 to include animation, making it possible to visualize dynamic data over time.\n-   [**ggdist**](https://mjskay.github.io/ggdist/): Offers enhanced tools for visualizing statistical distributions and uncertainties in data.\n-   [**ggtext**](https://wilkelab.org/ggtext/): Enhances text rendering and formatting in ggplot2 visualizations.\n-   [**ggalt**](https://github.com/hrbrmstr/ggalt): A collection of additional geoms, coordinates, and statistics that extend ggplot2 capabilities.\n-   [**ggextra**](https://cran.r-project.org/package=ggExtra): Adds marginal plots and supplementary visual elements to ggplot2 graphics.\n-   [**cowplot**](https://wilkelab.org/cowplot/): Provides tools for creating publication-quality figures, including alignment functions and themes for consistent presentation.\n-   [**ggnewscale**](https://github.com/eliocamp/ggnewscale): Allows the definition of multiple independent scales within a single ggplot2 visualization, useful for complex multivariate plots.\n\n## Loading the libraries using Pacman\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse, \n               ggplot2, \n               skimr,  # For data summary \n               janitor, # For cleaning column names\n               SmartEDA,\n               easystats,\n               gtsummary,\n               ggstatsplot,\n               knitr,\n               kableExtra,\n               patchwork)\n```\n:::\n\n\n\n\n## Load & Inspect Data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data <- read.csv(\"data/Ship_Performance_Dataset.csv\")\n```\n:::\n\n\n\n\n### Data Overview\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data %>%\n  ExpData(type = 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                                          Descriptions     Value\n1                                   Sample size (nrow)      2736\n2                              No. of variables (ncol)        18\n3                    No. of numeric/interger variables        12\n4                              No. of factor variables         0\n5                                No. of text variables         6\n6                             No. of logical variables         0\n7                          No. of identifier variables        11\n8                                No. of date variables         0\n9             No. of zero variance variables (uniform)         0\n10               %. of variables having complete cases 100% (18)\n11   %. of variables having >0% and <50% missing cases    0% (0)\n12 %. of variables having >=50% and <90% missing cases    0% (0)\n13          %. of variables having >=90% missing cases    0% (0)\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data %>%\n  ExpData(type = 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Index           Variable_Name Variable_Type Sample_n Missing_Count\n1      1                    Date     character     2736             0\n2      2               Ship_Type     character     2736             0\n3      3              Route_Type     character     2736             0\n4      4             Engine_Type     character     2736             0\n5      5      Maintenance_Status     character     2736             0\n6      6 Speed_Over_Ground_knots       numeric     2736             0\n7      7         Engine_Power_kW       numeric     2736             0\n8      8    Distance_Traveled_nm       numeric     2736             0\n9      9            Draft_meters       numeric     2736             0\n10    10       Weather_Condition     character     2736             0\n11    11       Cargo_Weight_tons       numeric     2736             0\n12    12    Operational_Cost_USD       numeric     2736             0\n13    13  Revenue_per_Voyage_USD       numeric     2736             0\n14    14   Turnaround_Time_hours       numeric     2736             0\n15    15   Efficiency_nm_per_kWh       numeric     2736             0\n16    16   Seasonal_Impact_Score       numeric     2736             0\n17    17     Weekly_Voyage_Count       integer     2736             0\n18    18 Average_Load_Percentage       numeric     2736             0\n   Per_of_Missing No_of_distinct_values\n1               0                    57\n2               0                     5\n3               0                     5\n4               0                     4\n5               0                     4\n6               0                  2736\n7               0                  2736\n8               0                  2736\n9               0                  2736\n10              0                     4\n11              0                  2736\n12              0                  2736\n13              0                  2736\n14              0                  2736\n15              0                  2736\n16              0                  2736\n17              0                     9\n18              0                  2736\n```\n\n\n:::\n:::\n\n\n\n\n### Glimpse the Data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Check structure\nglimpse(ship_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 2,736\nColumns: 18\n$ Date                    <chr> \"2023-06-04\", \"2023-06-11\", \"2023-06-18\", \"202…\n$ Ship_Type               <chr> \"Container Ship\", \"Fish Carrier\", \"Container S…\n$ Route_Type              <chr> \"None\", \"Short-haul\", \"Long-haul\", \"Transocean…\n$ Engine_Type             <chr> \"Heavy Fuel Oil (HFO)\", \"Steam Turbine\", \"Dies…\n$ Maintenance_Status      <chr> \"Critical\", \"Good\", \"Fair\", \"Fair\", \"Fair\", \"F…\n$ Speed_Over_Ground_knots <dbl> 12.59756, 10.38758, 20.74975, 21.05510, 13.742…\n$ Engine_Power_kW         <dbl> 2062.9840, 1796.0574, 1648.5567, 915.2618, 108…\n$ Distance_Traveled_nm    <dbl> 1030.9436, 1060.4864, 658.8741, 1126.8225, 144…\n$ Draft_meters            <dbl> 14.132284, 14.653083, 7.199261, 11.789063, 9.7…\n$ Weather_Condition       <chr> \"Moderate\", \"Rough\", \"Moderate\", \"Moderate\", \"…\n$ Cargo_Weight_tons       <dbl> 1959.0179, 162.3947, 178.0409, 1737.3853, 260.…\n$ Operational_Cost_USD    <dbl> 483832.35, 483388.00, 448543.40, 261349.61, 28…\n$ Revenue_per_Voyage_USD  <dbl> 292183.27, 883765.79, 394018.75, 87551.38, 676…\n$ Turnaround_Time_hours   <dbl> 25.86708, 63.24820, 49.41815, 22.40911, 64.158…\n$ Efficiency_nm_per_kWh   <dbl> 1.4551789, 0.2903614, 0.4995945, 0.7029057, 1.…\n$ Seasonal_Impact_Score   <dbl> 1.4156533, 0.8856478, 1.4058132, 1.3707043, 0.…\n$ Weekly_Voyage_Count     <int> 1, 6, 9, 1, 8, 7, 3, 6, 8, 2, 9, 4, 3, 7, 7, 3…\n$ Average_Load_Percentage <dbl> 93.76925, 93.89537, 96.21824, 66.19370, 80.008…\n```\n\n\n:::\n\n```{.r .cell-code}\n# Summary statistics\nskim(ship_data)\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |          |\n|:------------------------|:---------|\n|Name                     |ship_data |\n|Number of rows           |2736      |\n|Number of columns        |18        |\n|_______________________  |          |\n|Column type frequency:   |          |\n|character                |6         |\n|numeric                  |12        |\n|________________________ |          |\n|Group variables          |None      |\n\n\n**Variable type: character**\n\n|skim_variable      | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:------------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|Date               |         0|             1|  10|  10|     0|       57|          0|\n|Ship_Type          |         0|             1|   4|  14|     0|        5|          0|\n|Route_Type         |         0|             1|   4|  12|     0|        5|          0|\n|Engine_Type        |         0|             1|   4|  20|     0|        4|          0|\n|Maintenance_Status |         0|             1|   4|   8|     0|        4|          0|\n|Weather_Condition  |         0|             1|   4|   8|     0|        4|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable           | n_missing| complete_rate|      mean|        sd|       p0|       p25|       p50|       p75|      p100|hist  |\n|:-----------------------|---------:|-------------:|---------:|---------:|--------:|---------:|---------:|---------:|---------:|:-----|\n|Speed_Over_Ground_knots |         0|             1|     17.60|      4.31|    10.01|     13.93|     17.71|     21.28|     25.00|▇▇▇▇▇ |\n|Engine_Power_kW         |         0|             1|   1757.61|    717.00|   501.03|   1148.10|   1757.49|   2382.59|   2998.73|▇▇▇▇▇ |\n|Distance_Traveled_nm    |         0|             1|   1036.41|    568.63|    50.43|    548.51|   1037.82|   1540.93|   1998.34|▇▇▇▇▇ |\n|Draft_meters            |         0|             1|      9.93|      2.88|     5.00|      7.44|      9.92|     12.41|     14.99|▇▇▇▇▇ |\n|Cargo_Weight_tons       |         0|             1|   1032.57|    558.70|    50.23|    553.98|   1043.21|   1527.72|   1999.13|▇▇▇▇▇ |\n|Operational_Cost_USD    |         0|             1| 255143.34| 140890.48| 10092.31| 131293.38| 257157.65| 381796.93| 499734.87|▇▇▇▇▇ |\n|Revenue_per_Voyage_USD  |         0|             1| 521362.06| 271211.63| 50351.81| 290346.39| 520176.93| 750072.79| 999916.70|▇▇▇▇▇ |\n|Turnaround_Time_hours   |         0|             1|     41.75|     17.63|    12.02|     26.17|     41.59|     57.36|     71.97|▇▇▇▇▇ |\n|Efficiency_nm_per_kWh   |         0|             1|      0.80|      0.40|     0.10|      0.46|      0.79|      1.15|      1.50|▇▇▇▇▇ |\n|Seasonal_Impact_Score   |         0|             1|      1.00|      0.29|     0.50|      0.76|      1.01|      1.25|      1.50|▇▇▇▇▇ |\n|Weekly_Voyage_Count     |         0|             1|      4.91|      2.60|     1.00|      3.00|      5.00|      7.00|      9.00|▇▇▃▇▇ |\n|Average_Load_Percentage |         0|             1|     75.22|     14.51|    50.01|     62.70|     75.50|     87.72|    100.00|▇▇▇▇▇ |\n\n\n:::\n\n```{.r .cell-code}\n# Check for missing values\ncolSums(is.na(ship_data))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                   Date               Ship_Type              Route_Type \n                      0                       0                       0 \n            Engine_Type      Maintenance_Status Speed_Over_Ground_knots \n                      0                       0                       0 \n        Engine_Power_kW    Distance_Traveled_nm            Draft_meters \n                      0                       0                       0 \n      Weather_Condition       Cargo_Weight_tons    Operational_Cost_USD \n                      0                       0                       0 \n Revenue_per_Voyage_USD   Turnaround_Time_hours   Efficiency_nm_per_kWh \n                      0                       0                       0 \n  Seasonal_Impact_Score     Weekly_Voyage_Count Average_Load_Percentage \n                      0                       0                       0 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Check for duplicates\nsum(duplicated(ship_data))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0\n```\n\n\n:::\n:::\n\n\n\n\n### Inspect Unique Values of Categorical Data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Identify columns that are character or factor\ncat_cols <- sapply(ship_data, function(x) is.character(x) || is.factor(x))\n\n# Create a vector of categorical column names, excluding \"Date\"\ncat_cols_no_date <- setdiff(names(ship_data)[cat_cols], \"Date\")\n\n# Loop over those categorical columns (excluding \"Date\")\nfor (col_name in cat_cols_no_date) {\n  cat(\"\\n----------------------------------------\\n\")\n  cat(\"COLUMN:\", col_name, \"\\n\")\n  cat(\"----------------------------------------\\n\")\n  \n  # Show the unique values\n  print(unique(ship_data[[col_name]]))\n}\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n----------------------------------------\nCOLUMN: Ship_Type \n----------------------------------------\n[1] \"Container Ship\" \"Fish Carrier\"   \"Bulk Carrier\"   \"None\"          \n[5] \"Tanker\"        \n\n----------------------------------------\nCOLUMN: Route_Type \n----------------------------------------\n[1] \"None\"         \"Short-haul\"   \"Long-haul\"    \"Transoceanic\" \"Coastal\"     \n\n----------------------------------------\nCOLUMN: Engine_Type \n----------------------------------------\n[1] \"Heavy Fuel Oil (HFO)\" \"Steam Turbine\"        \"Diesel\"              \n[4] \"None\"                \n\n----------------------------------------\nCOLUMN: Maintenance_Status \n----------------------------------------\n[1] \"Critical\" \"Good\"     \"Fair\"     \"None\"    \n\n----------------------------------------\nCOLUMN: Weather_Condition \n----------------------------------------\n[1] \"Moderate\" \"Rough\"    \"Calm\"     \"None\"    \n```\n\n\n:::\n:::\n\n\n\n\n### Checking for value=\"None\" in Categorical Data\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n### Removing Rows with None in the Categorical Columns\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Identify categorical columns (character or factor)\ncat_cols <- sapply(ship_data, function(x) is.character(x) || is.factor(x))\n\n# Store the number of rows before filtering\nnum_rows_before <- nrow(ship_data)\n\n# Remove rows where ANY categorical column contains \"None\"\nship_data_clean <- ship_data %>%\n  filter(!rowSums(across(which(cat_cols), ~ . == \"None\")) > 0)\n\n# Store the number of rows after filtering\nnum_rows_after <- nrow(ship_data_clean)\n\n# Calculate how many rows were deleted\nrows_deleted <- num_rows_before - num_rows_after\n\n# Print summary\ncat(\"\\n## Summary of Rows Deleted\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n## Summary of Rows Deleted\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"Total rows removed:\", rows_deleted, \"\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nTotal rows removed: 609 \n```\n\n\n:::\n\n```{.r .cell-code}\n# Glimpse the cleaned data\nship_data <- ship_data_clean\n# glimpse(ship_data)\n\nship_data %>%\n  head(10) %>%\n  kable() %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Date </th>\n   <th style=\"text-align:left;\"> Ship_Type </th>\n   <th style=\"text-align:left;\"> Route_Type </th>\n   <th style=\"text-align:left;\"> Engine_Type </th>\n   <th style=\"text-align:left;\"> Maintenance_Status </th>\n   <th style=\"text-align:right;\"> Speed_Over_Ground_knots </th>\n   <th style=\"text-align:right;\"> Engine_Power_kW </th>\n   <th style=\"text-align:right;\"> Distance_Traveled_nm </th>\n   <th style=\"text-align:right;\"> Draft_meters </th>\n   <th style=\"text-align:left;\"> Weather_Condition </th>\n   <th style=\"text-align:right;\"> Cargo_Weight_tons </th>\n   <th style=\"text-align:right;\"> Operational_Cost_USD </th>\n   <th style=\"text-align:right;\"> Revenue_per_Voyage_USD </th>\n   <th style=\"text-align:right;\"> Turnaround_Time_hours </th>\n   <th style=\"text-align:right;\"> Efficiency_nm_per_kWh </th>\n   <th style=\"text-align:right;\"> Seasonal_Impact_Score </th>\n   <th style=\"text-align:right;\"> Weekly_Voyage_Count </th>\n   <th style=\"text-align:right;\"> Average_Load_Percentage </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-11 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Good </td>\n   <td style=\"text-align:right;\"> 10.38758 </td>\n   <td style=\"text-align:right;\"> 1796.0574 </td>\n   <td style=\"text-align:right;\"> 1060.4864 </td>\n   <td style=\"text-align:right;\"> 14.653083 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 162.3947 </td>\n   <td style=\"text-align:right;\"> 483388.0 </td>\n   <td style=\"text-align:right;\"> 883765.79 </td>\n   <td style=\"text-align:right;\"> 63.24820 </td>\n   <td style=\"text-align:right;\"> 0.2903614 </td>\n   <td style=\"text-align:right;\"> 0.8856478 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 93.89537 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-18 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 20.74975 </td>\n   <td style=\"text-align:right;\"> 1648.5567 </td>\n   <td style=\"text-align:right;\"> 658.8741 </td>\n   <td style=\"text-align:right;\"> 7.199261 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 178.0409 </td>\n   <td style=\"text-align:right;\"> 448543.4 </td>\n   <td style=\"text-align:right;\"> 394018.75 </td>\n   <td style=\"text-align:right;\"> 49.41815 </td>\n   <td style=\"text-align:right;\"> 0.4995945 </td>\n   <td style=\"text-align:right;\"> 1.4058132 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 96.21824 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-25 </td>\n   <td style=\"text-align:left;\"> Bulk Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 21.05510 </td>\n   <td style=\"text-align:right;\"> 915.2618 </td>\n   <td style=\"text-align:right;\"> 1126.8225 </td>\n   <td style=\"text-align:right;\"> 11.789062 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 1737.3853 </td>\n   <td style=\"text-align:right;\"> 261349.6 </td>\n   <td style=\"text-align:right;\"> 87551.38 </td>\n   <td style=\"text-align:right;\"> 22.40911 </td>\n   <td style=\"text-align:right;\"> 0.7029057 </td>\n   <td style=\"text-align:right;\"> 1.3707043 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 66.19370 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-02 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 13.74278 </td>\n   <td style=\"text-align:right;\"> 1089.7218 </td>\n   <td style=\"text-align:right;\"> 1445.2812 </td>\n   <td style=\"text-align:right;\"> 9.727833 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 260.5951 </td>\n   <td style=\"text-align:right;\"> 287718.4 </td>\n   <td style=\"text-align:right;\"> 676121.46 </td>\n   <td style=\"text-align:right;\"> 64.15823 </td>\n   <td style=\"text-align:right;\"> 1.3313431 </td>\n   <td style=\"text-align:right;\"> 0.5833834 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 80.00858 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-09 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Heavy Fuel Oil (HFO) </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 18.61620 </td>\n   <td style=\"text-align:right;\"> 2171.6466 </td>\n   <td style=\"text-align:right;\"> 723.3042 </td>\n   <td style=\"text-align:right;\"> 14.916320 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 1912.5098 </td>\n   <td style=\"text-align:right;\"> 184569.0 </td>\n   <td style=\"text-align:right;\"> 776698.35 </td>\n   <td style=\"text-align:right;\"> 47.47615 </td>\n   <td style=\"text-align:right;\"> 1.3702060 </td>\n   <td style=\"text-align:right;\"> 1.4377250 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 53.17490 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-16 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Heavy Fuel Oil (HFO) </td>\n   <td style=\"text-align:left;\"> Critical </td>\n   <td style=\"text-align:right;\"> 20.43312 </td>\n   <td style=\"text-align:right;\"> 2505.0435 </td>\n   <td style=\"text-align:right;\"> 270.1186 </td>\n   <td style=\"text-align:right;\"> 8.455264 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 1191.4364 </td>\n   <td style=\"text-align:right;\"> 434449.3 </td>\n   <td style=\"text-align:right;\"> 739431.83 </td>\n   <td style=\"text-align:right;\"> 29.04042 </td>\n   <td style=\"text-align:right;\"> 1.1203894 </td>\n   <td style=\"text-align:right;\"> 0.6029316 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 58.50864 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-23 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Critical </td>\n   <td style=\"text-align:right;\"> 23.49805 </td>\n   <td style=\"text-align:right;\"> 814.8065 </td>\n   <td style=\"text-align:right;\"> 1717.3284 </td>\n   <td style=\"text-align:right;\"> 9.283780 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 318.4493 </td>\n   <td style=\"text-align:right;\"> 348380.6 </td>\n   <td style=\"text-align:right;\"> 462211.40 </td>\n   <td style=\"text-align:right;\"> 52.47860 </td>\n   <td style=\"text-align:right;\"> 0.6959746 </td>\n   <td style=\"text-align:right;\"> 1.4086634 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 94.59197 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-06 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 23.22710 </td>\n   <td style=\"text-align:right;\"> 2685.4017 </td>\n   <td style=\"text-align:right;\"> 1588.7923 </td>\n   <td style=\"text-align:right;\"> 11.721261 </td>\n   <td style=\"text-align:left;\"> Calm </td>\n   <td style=\"text-align:right;\"> 1843.4383 </td>\n   <td style=\"text-align:right;\"> 149790.2 </td>\n   <td style=\"text-align:right;\"> 615230.86 </td>\n   <td style=\"text-align:right;\"> 63.74276 </td>\n   <td style=\"text-align:right;\"> 0.4406762 </td>\n   <td style=\"text-align:right;\"> 1.4355687 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 79.45133 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-13 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 11.63511 </td>\n   <td style=\"text-align:right;\"> 2522.6972 </td>\n   <td style=\"text-align:right;\"> 1224.8463 </td>\n   <td style=\"text-align:right;\"> 10.900540 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 1130.6046 </td>\n   <td style=\"text-align:right;\"> 299189.3 </td>\n   <td style=\"text-align:right;\"> 749334.91 </td>\n   <td style=\"text-align:right;\"> 47.66533 </td>\n   <td style=\"text-align:right;\"> 0.4378355 </td>\n   <td style=\"text-align:right;\"> 1.1052602 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 70.50445 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-20 </td>\n   <td style=\"text-align:left;\"> Tanker </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Good </td>\n   <td style=\"text-align:right;\"> 18.25358 </td>\n   <td style=\"text-align:right;\"> 2129.5179 </td>\n   <td style=\"text-align:right;\"> 1311.9786 </td>\n   <td style=\"text-align:right;\"> 11.955648 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 441.2600 </td>\n   <td style=\"text-align:right;\"> 481866.3 </td>\n   <td style=\"text-align:right;\"> 738063.17 </td>\n   <td style=\"text-align:right;\"> 48.18567 </td>\n   <td style=\"text-align:right;\"> 1.2270642 </td>\n   <td style=\"text-align:right;\"> 0.9414481 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 65.98470 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n## New Variables Created for Analysis\n\nBy adding these new variables—such as net profit per voyage, weekly totals for profit, revenue, and cost, as well as profit per nautical mile (NM) and per ton—we gain a clearer, more granular perspective on each voyage’s financial performance and operational efficiency. Net profit and weekly totals help reveal whether repeating a given voyage multiple times amplifies gains or losses, while profit margin captures the relative profitability regardless of absolute cost or revenue scale. Metrics like cost per NM, revenue per NM, and profit per NM clarify how well resources are being utilized across varying distances, and analyzing cost, revenue, and profit per ton provides insight into cargo handling efficiency. Altogether, these derived columns facilitate a richer, data‐driven understanding of route profitability, capacity utilization, and operational strategy—essential for making informed decisions in shipping performance analysis.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data <- ship_data %>%\n  mutate(\n    # Net profit per voyage\n    Net_Profit = Revenue_per_Voyage_USD - Operational_Cost_USD,\n    \n    # Weekly total profit = net profit * weekly voyage count\n    Weekly_Total_Profit = Net_Profit * Weekly_Voyage_Count,\n    \n    # Profit margin (per voyage)\n    Profit_Margin = Net_Profit / Revenue_per_Voyage_USD,\n    \n    # Weekly totals for revenue and cost\n    Weekly_Total_Revenue = Revenue_per_Voyage_USD * Weekly_Voyage_Count,\n    Weekly_Total_Operational_Cost = Operational_Cost_USD * Weekly_Voyage_Count,\n    \n    # Cost per NM, Revenue per NM\n    Cost_per_NM = Operational_Cost_USD / Distance_Traveled_nm,\n    Revenue_per_NM = Revenue_per_Voyage_USD / Distance_Traveled_nm,\n    \n    # Additional variables requested\n    Profit_per_NM     = (Revenue_per_Voyage_USD - Operational_Cost_USD) / Distance_Traveled_nm,\n    Cost_per_Ton      = Operational_Cost_USD / Cargo_Weight_tons,\n    Revenue_per_Ton   = Revenue_per_Voyage_USD / Cargo_Weight_tons,\n    Profit_per_Ton    = (Revenue_per_Voyage_USD - Operational_Cost_USD) / Cargo_Weight_tons\n  )\n\n# Quick check of the new columns\n# glimpse(ship_data)\nship_data %>%\n  head(10) %>%\n  kable() %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Date </th>\n   <th style=\"text-align:left;\"> Ship_Type </th>\n   <th style=\"text-align:left;\"> Route_Type </th>\n   <th style=\"text-align:left;\"> Engine_Type </th>\n   <th style=\"text-align:left;\"> Maintenance_Status </th>\n   <th style=\"text-align:right;\"> Speed_Over_Ground_knots </th>\n   <th style=\"text-align:right;\"> Engine_Power_kW </th>\n   <th style=\"text-align:right;\"> Distance_Traveled_nm </th>\n   <th style=\"text-align:right;\"> Draft_meters </th>\n   <th style=\"text-align:left;\"> Weather_Condition </th>\n   <th style=\"text-align:right;\"> Cargo_Weight_tons </th>\n   <th style=\"text-align:right;\"> Operational_Cost_USD </th>\n   <th style=\"text-align:right;\"> Revenue_per_Voyage_USD </th>\n   <th style=\"text-align:right;\"> Turnaround_Time_hours </th>\n   <th style=\"text-align:right;\"> Efficiency_nm_per_kWh </th>\n   <th style=\"text-align:right;\"> Seasonal_Impact_Score </th>\n   <th style=\"text-align:right;\"> Weekly_Voyage_Count </th>\n   <th style=\"text-align:right;\"> Average_Load_Percentage </th>\n   <th style=\"text-align:right;\"> Net_Profit </th>\n   <th style=\"text-align:right;\"> Weekly_Total_Profit </th>\n   <th style=\"text-align:right;\"> Profit_Margin </th>\n   <th style=\"text-align:right;\"> Weekly_Total_Revenue </th>\n   <th style=\"text-align:right;\"> Weekly_Total_Operational_Cost </th>\n   <th style=\"text-align:right;\"> Cost_per_NM </th>\n   <th style=\"text-align:right;\"> Revenue_per_NM </th>\n   <th style=\"text-align:right;\"> Profit_per_NM </th>\n   <th style=\"text-align:right;\"> Cost_per_Ton </th>\n   <th style=\"text-align:right;\"> Revenue_per_Ton </th>\n   <th style=\"text-align:right;\"> Profit_per_Ton </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-11 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Good </td>\n   <td style=\"text-align:right;\"> 10.38758 </td>\n   <td style=\"text-align:right;\"> 1796.0574 </td>\n   <td style=\"text-align:right;\"> 1060.4864 </td>\n   <td style=\"text-align:right;\"> 14.653083 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 162.3947 </td>\n   <td style=\"text-align:right;\"> 483388.0 </td>\n   <td style=\"text-align:right;\"> 883765.79 </td>\n   <td style=\"text-align:right;\"> 63.24820 </td>\n   <td style=\"text-align:right;\"> 0.2903614 </td>\n   <td style=\"text-align:right;\"> 0.8856478 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 93.89537 </td>\n   <td style=\"text-align:right;\"> 400377.79 </td>\n   <td style=\"text-align:right;\"> 2402266.7 </td>\n   <td style=\"text-align:right;\"> 0.4530361 </td>\n   <td style=\"text-align:right;\"> 5302594.72 </td>\n   <td style=\"text-align:right;\"> 2900328.0 </td>\n   <td style=\"text-align:right;\"> 455.81726 </td>\n   <td style=\"text-align:right;\"> 833.35892 </td>\n   <td style=\"text-align:right;\"> 377.54166 </td>\n   <td style=\"text-align:right;\"> 2976.62403 </td>\n   <td style=\"text-align:right;\"> 5442.08478 </td>\n   <td style=\"text-align:right;\"> 2465.4607 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-18 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 20.74975 </td>\n   <td style=\"text-align:right;\"> 1648.5567 </td>\n   <td style=\"text-align:right;\"> 658.8741 </td>\n   <td style=\"text-align:right;\"> 7.199261 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 178.0409 </td>\n   <td style=\"text-align:right;\"> 448543.4 </td>\n   <td style=\"text-align:right;\"> 394018.75 </td>\n   <td style=\"text-align:right;\"> 49.41815 </td>\n   <td style=\"text-align:right;\"> 0.4995945 </td>\n   <td style=\"text-align:right;\"> 1.4058132 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 96.21824 </td>\n   <td style=\"text-align:right;\"> -54524.66 </td>\n   <td style=\"text-align:right;\"> -490721.9 </td>\n   <td style=\"text-align:right;\"> -0.1383809 </td>\n   <td style=\"text-align:right;\"> 3546168.72 </td>\n   <td style=\"text-align:right;\"> 4036890.6 </td>\n   <td style=\"text-align:right;\"> 680.77251 </td>\n   <td style=\"text-align:right;\"> 598.01823 </td>\n   <td style=\"text-align:right;\"> -82.75428 </td>\n   <td style=\"text-align:right;\"> 2519.32765 </td>\n   <td style=\"text-align:right;\"> 2213.07975 </td>\n   <td style=\"text-align:right;\"> -306.2479 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-25 </td>\n   <td style=\"text-align:left;\"> Bulk Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 21.05510 </td>\n   <td style=\"text-align:right;\"> 915.2618 </td>\n   <td style=\"text-align:right;\"> 1126.8225 </td>\n   <td style=\"text-align:right;\"> 11.789062 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 1737.3853 </td>\n   <td style=\"text-align:right;\"> 261349.6 </td>\n   <td style=\"text-align:right;\"> 87551.38 </td>\n   <td style=\"text-align:right;\"> 22.40911 </td>\n   <td style=\"text-align:right;\"> 0.7029057 </td>\n   <td style=\"text-align:right;\"> 1.3707043 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 66.19370 </td>\n   <td style=\"text-align:right;\"> -173798.23 </td>\n   <td style=\"text-align:right;\"> -173798.2 </td>\n   <td style=\"text-align:right;\"> -1.9850999 </td>\n   <td style=\"text-align:right;\"> 87551.38 </td>\n   <td style=\"text-align:right;\"> 261349.6 </td>\n   <td style=\"text-align:right;\"> 231.93502 </td>\n   <td style=\"text-align:right;\"> 77.69757 </td>\n   <td style=\"text-align:right;\"> -154.23745 </td>\n   <td style=\"text-align:right;\"> 150.42697 </td>\n   <td style=\"text-align:right;\"> 50.39261 </td>\n   <td style=\"text-align:right;\"> -100.0344 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-02 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 13.74278 </td>\n   <td style=\"text-align:right;\"> 1089.7218 </td>\n   <td style=\"text-align:right;\"> 1445.2812 </td>\n   <td style=\"text-align:right;\"> 9.727833 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 260.5951 </td>\n   <td style=\"text-align:right;\"> 287718.4 </td>\n   <td style=\"text-align:right;\"> 676121.46 </td>\n   <td style=\"text-align:right;\"> 64.15823 </td>\n   <td style=\"text-align:right;\"> 1.3313431 </td>\n   <td style=\"text-align:right;\"> 0.5833834 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 80.00858 </td>\n   <td style=\"text-align:right;\"> 388403.08 </td>\n   <td style=\"text-align:right;\"> 3107224.7 </td>\n   <td style=\"text-align:right;\"> 0.5744576 </td>\n   <td style=\"text-align:right;\"> 5408971.68 </td>\n   <td style=\"text-align:right;\"> 2301747.0 </td>\n   <td style=\"text-align:right;\"> 199.07433 </td>\n   <td style=\"text-align:right;\"> 467.81310 </td>\n   <td style=\"text-align:right;\"> 268.73877 </td>\n   <td style=\"text-align:right;\"> 1104.08205 </td>\n   <td style=\"text-align:right;\"> 2594.52864 </td>\n   <td style=\"text-align:right;\"> 1490.4466 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-09 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Heavy Fuel Oil (HFO) </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 18.61620 </td>\n   <td style=\"text-align:right;\"> 2171.6466 </td>\n   <td style=\"text-align:right;\"> 723.3042 </td>\n   <td style=\"text-align:right;\"> 14.916320 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 1912.5098 </td>\n   <td style=\"text-align:right;\"> 184569.0 </td>\n   <td style=\"text-align:right;\"> 776698.35 </td>\n   <td style=\"text-align:right;\"> 47.47615 </td>\n   <td style=\"text-align:right;\"> 1.3702060 </td>\n   <td style=\"text-align:right;\"> 1.4377250 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 53.17490 </td>\n   <td style=\"text-align:right;\"> 592129.31 </td>\n   <td style=\"text-align:right;\"> 4144905.2 </td>\n   <td style=\"text-align:right;\"> 0.7623671 </td>\n   <td style=\"text-align:right;\"> 5436888.48 </td>\n   <td style=\"text-align:right;\"> 1291983.3 </td>\n   <td style=\"text-align:right;\"> 255.17485 </td>\n   <td style=\"text-align:right;\"> 1073.81976 </td>\n   <td style=\"text-align:right;\"> 818.64490 </td>\n   <td style=\"text-align:right;\"> 96.50620 </td>\n   <td style=\"text-align:right;\"> 406.11472 </td>\n   <td style=\"text-align:right;\"> 309.6085 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-16 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Heavy Fuel Oil (HFO) </td>\n   <td style=\"text-align:left;\"> Critical </td>\n   <td style=\"text-align:right;\"> 20.43312 </td>\n   <td style=\"text-align:right;\"> 2505.0435 </td>\n   <td style=\"text-align:right;\"> 270.1186 </td>\n   <td style=\"text-align:right;\"> 8.455264 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 1191.4364 </td>\n   <td style=\"text-align:right;\"> 434449.3 </td>\n   <td style=\"text-align:right;\"> 739431.83 </td>\n   <td style=\"text-align:right;\"> 29.04042 </td>\n   <td style=\"text-align:right;\"> 1.1203894 </td>\n   <td style=\"text-align:right;\"> 0.6029316 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 58.50864 </td>\n   <td style=\"text-align:right;\"> 304982.56 </td>\n   <td style=\"text-align:right;\"> 914947.7 </td>\n   <td style=\"text-align:right;\"> 0.4124553 </td>\n   <td style=\"text-align:right;\"> 2218295.48 </td>\n   <td style=\"text-align:right;\"> 1303347.8 </td>\n   <td style=\"text-align:right;\"> 1608.36493 </td>\n   <td style=\"text-align:right;\"> 2737.43407 </td>\n   <td style=\"text-align:right;\"> 1129.06914 </td>\n   <td style=\"text-align:right;\"> 364.64326 </td>\n   <td style=\"text-align:right;\"> 620.62215 </td>\n   <td style=\"text-align:right;\"> 255.9789 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-23 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Critical </td>\n   <td style=\"text-align:right;\"> 23.49805 </td>\n   <td style=\"text-align:right;\"> 814.8065 </td>\n   <td style=\"text-align:right;\"> 1717.3284 </td>\n   <td style=\"text-align:right;\"> 9.283780 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 318.4493 </td>\n   <td style=\"text-align:right;\"> 348380.6 </td>\n   <td style=\"text-align:right;\"> 462211.40 </td>\n   <td style=\"text-align:right;\"> 52.47860 </td>\n   <td style=\"text-align:right;\"> 0.6959746 </td>\n   <td style=\"text-align:right;\"> 1.4086634 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 94.59197 </td>\n   <td style=\"text-align:right;\"> 113830.79 </td>\n   <td style=\"text-align:right;\"> 682984.8 </td>\n   <td style=\"text-align:right;\"> 0.2462743 </td>\n   <td style=\"text-align:right;\"> 2773268.41 </td>\n   <td style=\"text-align:right;\"> 2090283.6 </td>\n   <td style=\"text-align:right;\"> 202.86196 </td>\n   <td style=\"text-align:right;\"> 269.14561 </td>\n   <td style=\"text-align:right;\"> 66.28365 </td>\n   <td style=\"text-align:right;\"> 1093.99093 </td>\n   <td style=\"text-align:right;\"> 1451.44440 </td>\n   <td style=\"text-align:right;\"> 357.4535 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-06 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 23.22710 </td>\n   <td style=\"text-align:right;\"> 2685.4017 </td>\n   <td style=\"text-align:right;\"> 1588.7923 </td>\n   <td style=\"text-align:right;\"> 11.721261 </td>\n   <td style=\"text-align:left;\"> Calm </td>\n   <td style=\"text-align:right;\"> 1843.4383 </td>\n   <td style=\"text-align:right;\"> 149790.2 </td>\n   <td style=\"text-align:right;\"> 615230.86 </td>\n   <td style=\"text-align:right;\"> 63.74276 </td>\n   <td style=\"text-align:right;\"> 0.4406762 </td>\n   <td style=\"text-align:right;\"> 1.4355687 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 79.45133 </td>\n   <td style=\"text-align:right;\"> 465440.65 </td>\n   <td style=\"text-align:right;\"> 930881.3 </td>\n   <td style=\"text-align:right;\"> 0.7565301 </td>\n   <td style=\"text-align:right;\"> 1230461.71 </td>\n   <td style=\"text-align:right;\"> 299580.4 </td>\n   <td style=\"text-align:right;\"> 94.27929 </td>\n   <td style=\"text-align:right;\"> 387.23178 </td>\n   <td style=\"text-align:right;\"> 292.95249 </td>\n   <td style=\"text-align:right;\"> 81.25589 </td>\n   <td style=\"text-align:right;\"> 333.74096 </td>\n   <td style=\"text-align:right;\"> 252.4851 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-13 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 11.63511 </td>\n   <td style=\"text-align:right;\"> 2522.6972 </td>\n   <td style=\"text-align:right;\"> 1224.8463 </td>\n   <td style=\"text-align:right;\"> 10.900540 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 1130.6046 </td>\n   <td style=\"text-align:right;\"> 299189.3 </td>\n   <td style=\"text-align:right;\"> 749334.91 </td>\n   <td style=\"text-align:right;\"> 47.66533 </td>\n   <td style=\"text-align:right;\"> 0.4378355 </td>\n   <td style=\"text-align:right;\"> 1.1052602 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 70.50445 </td>\n   <td style=\"text-align:right;\"> 450145.58 </td>\n   <td style=\"text-align:right;\"> 4051310.3 </td>\n   <td style=\"text-align:right;\"> 0.6007268 </td>\n   <td style=\"text-align:right;\"> 6744014.23 </td>\n   <td style=\"text-align:right;\"> 2692704.0 </td>\n   <td style=\"text-align:right;\"> 244.26684 </td>\n   <td style=\"text-align:right;\"> 611.77875 </td>\n   <td style=\"text-align:right;\"> 367.51190 </td>\n   <td style=\"text-align:right;\"> 264.62772 </td>\n   <td style=\"text-align:right;\"> 662.77361 </td>\n   <td style=\"text-align:right;\"> 398.1459 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-20 </td>\n   <td style=\"text-align:left;\"> Tanker </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Good </td>\n   <td style=\"text-align:right;\"> 18.25358 </td>\n   <td style=\"text-align:right;\"> 2129.5179 </td>\n   <td style=\"text-align:right;\"> 1311.9786 </td>\n   <td style=\"text-align:right;\"> 11.955648 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 441.2600 </td>\n   <td style=\"text-align:right;\"> 481866.3 </td>\n   <td style=\"text-align:right;\"> 738063.17 </td>\n   <td style=\"text-align:right;\"> 48.18567 </td>\n   <td style=\"text-align:right;\"> 1.2270642 </td>\n   <td style=\"text-align:right;\"> 0.9414481 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 65.98470 </td>\n   <td style=\"text-align:right;\"> 256196.91 </td>\n   <td style=\"text-align:right;\"> 1024787.6 </td>\n   <td style=\"text-align:right;\"> 0.3471206 </td>\n   <td style=\"text-align:right;\"> 2952252.69 </td>\n   <td style=\"text-align:right;\"> 1927465.0 </td>\n   <td style=\"text-align:right;\"> 367.28211 </td>\n   <td style=\"text-align:right;\"> 562.55733 </td>\n   <td style=\"text-align:right;\"> 195.27522 </td>\n   <td style=\"text-align:right;\"> 1092.02351 </td>\n   <td style=\"text-align:right;\"> 1672.62662 </td>\n   <td style=\"text-align:right;\"> 580.6031 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n### Revenue Leakage Estimates from Average_Load_Percentage\n\nRevenue Leakage quantifies how much revenue is foregone by not operating at full capacity. By comparing the actual revenue per voyage against a hypothetical 100% load scenario, the new Revenue_Leakage field highlights how much potential income is lost when ships sail below maximum utilization. This metric provides a tangible financial estimate of the cost of underused capacity, guiding decisions about pricing, scheduling, and cargo allocation to maximize profitability.\n\n-   Average_Load_Percentage / 100 converts the percentage to a decimal (e.g., 80 → 0.80).\n-   Revenue_per_Voyage_USD / (Average_Load_Percentage / 100) estimates the hypothetical revenue if the ship had been at 100% load.\n-   Subtracting Revenue_per_Voyage_USD gives the Revenue_Leakage (the amount “lost” by operating below full capacity).\n-   case_when ensures that if the load is already at or above 100%, leakage is 0, and handles other edge cases.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data <- ship_data %>%\n  mutate(\n    Revenue_Leakage = case_when(\n      # If load is at or above 100%, there's no \"lost\" revenue\n      Average_Load_Percentage >= 100 ~ 0,\n      \n      # Otherwise, compute the difference between \n      # \"full-load\" revenue and actual revenue.\n      Average_Load_Percentage > 0 ~\n        (Revenue_per_Voyage_USD / (Average_Load_Percentage / 100)) - Revenue_per_Voyage_USD,\n      \n      # If load is zero or missing, set leakage to 0 or NA, as appropriate\n      TRUE ~ 0\n    )\n  )\n```\n:::\n\n\n\n\n\nThis formula (Weekly_Revenue_Leakage = Revenue_Leakage × Weekly_Voyage_Count) converts the per-voyage leakage into a total weekly leakage, reflecting how repeated voyages in the same week amplify revenue loss.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data <- ship_data %>%\n  mutate(\n    # Weekly revenue leakage is per-voyage leakage multiplied by how many voyages occur that week\n    Weekly_Revenue_Leakage = Revenue_Leakage * Weekly_Voyage_Count\n  )\n\ncolnames(ship_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Date\"                          \"Ship_Type\"                    \n [3] \"Route_Type\"                    \"Engine_Type\"                  \n [5] \"Maintenance_Status\"            \"Speed_Over_Ground_knots\"      \n [7] \"Engine_Power_kW\"               \"Distance_Traveled_nm\"         \n [9] \"Draft_meters\"                  \"Weather_Condition\"            \n[11] \"Cargo_Weight_tons\"             \"Operational_Cost_USD\"         \n[13] \"Revenue_per_Voyage_USD\"        \"Turnaround_Time_hours\"        \n[15] \"Efficiency_nm_per_kWh\"         \"Seasonal_Impact_Score\"        \n[17] \"Weekly_Voyage_Count\"           \"Average_Load_Percentage\"      \n[19] \"Net_Profit\"                    \"Weekly_Total_Profit\"          \n[21] \"Profit_Margin\"                 \"Weekly_Total_Revenue\"         \n[23] \"Weekly_Total_Operational_Cost\" \"Cost_per_NM\"                  \n[25] \"Revenue_per_NM\"                \"Profit_per_NM\"                \n[27] \"Cost_per_Ton\"                  \"Revenue_per_Ton\"              \n[29] \"Profit_per_Ton\"                \"Revenue_Leakage\"              \n[31] \"Weekly_Revenue_Leakage\"       \n```\n\n\n:::\n\n```{.r .cell-code}\nship_data %>%\n  head(10) %>%\n  kable() %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Date </th>\n   <th style=\"text-align:left;\"> Ship_Type </th>\n   <th style=\"text-align:left;\"> Route_Type </th>\n   <th style=\"text-align:left;\"> Engine_Type </th>\n   <th style=\"text-align:left;\"> Maintenance_Status </th>\n   <th style=\"text-align:right;\"> Speed_Over_Ground_knots </th>\n   <th style=\"text-align:right;\"> Engine_Power_kW </th>\n   <th style=\"text-align:right;\"> Distance_Traveled_nm </th>\n   <th style=\"text-align:right;\"> Draft_meters </th>\n   <th style=\"text-align:left;\"> Weather_Condition </th>\n   <th style=\"text-align:right;\"> Cargo_Weight_tons </th>\n   <th style=\"text-align:right;\"> Operational_Cost_USD </th>\n   <th style=\"text-align:right;\"> Revenue_per_Voyage_USD </th>\n   <th style=\"text-align:right;\"> Turnaround_Time_hours </th>\n   <th style=\"text-align:right;\"> Efficiency_nm_per_kWh </th>\n   <th style=\"text-align:right;\"> Seasonal_Impact_Score </th>\n   <th style=\"text-align:right;\"> Weekly_Voyage_Count </th>\n   <th style=\"text-align:right;\"> Average_Load_Percentage </th>\n   <th style=\"text-align:right;\"> Net_Profit </th>\n   <th style=\"text-align:right;\"> Weekly_Total_Profit </th>\n   <th style=\"text-align:right;\"> Profit_Margin </th>\n   <th style=\"text-align:right;\"> Weekly_Total_Revenue </th>\n   <th style=\"text-align:right;\"> Weekly_Total_Operational_Cost </th>\n   <th style=\"text-align:right;\"> Cost_per_NM </th>\n   <th style=\"text-align:right;\"> Revenue_per_NM </th>\n   <th style=\"text-align:right;\"> Profit_per_NM </th>\n   <th style=\"text-align:right;\"> Cost_per_Ton </th>\n   <th style=\"text-align:right;\"> Revenue_per_Ton </th>\n   <th style=\"text-align:right;\"> Profit_per_Ton </th>\n   <th style=\"text-align:right;\"> Revenue_Leakage </th>\n   <th style=\"text-align:right;\"> Weekly_Revenue_Leakage </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-11 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Good </td>\n   <td style=\"text-align:right;\"> 10.38758 </td>\n   <td style=\"text-align:right;\"> 1796.0574 </td>\n   <td style=\"text-align:right;\"> 1060.4864 </td>\n   <td style=\"text-align:right;\"> 14.653083 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 162.3947 </td>\n   <td style=\"text-align:right;\"> 483388.0 </td>\n   <td style=\"text-align:right;\"> 883765.79 </td>\n   <td style=\"text-align:right;\"> 63.24820 </td>\n   <td style=\"text-align:right;\"> 0.2903614 </td>\n   <td style=\"text-align:right;\"> 0.8856478 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 93.89537 </td>\n   <td style=\"text-align:right;\"> 400377.79 </td>\n   <td style=\"text-align:right;\"> 2402266.7 </td>\n   <td style=\"text-align:right;\"> 0.4530361 </td>\n   <td style=\"text-align:right;\"> 5302594.72 </td>\n   <td style=\"text-align:right;\"> 2900328.0 </td>\n   <td style=\"text-align:right;\"> 455.81726 </td>\n   <td style=\"text-align:right;\"> 833.35892 </td>\n   <td style=\"text-align:right;\"> 377.54166 </td>\n   <td style=\"text-align:right;\"> 2976.62403 </td>\n   <td style=\"text-align:right;\"> 5442.08478 </td>\n   <td style=\"text-align:right;\"> 2465.4607 </td>\n   <td style=\"text-align:right;\"> 57458.22 </td>\n   <td style=\"text-align:right;\"> 344749.33 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-18 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 20.74975 </td>\n   <td style=\"text-align:right;\"> 1648.5567 </td>\n   <td style=\"text-align:right;\"> 658.8741 </td>\n   <td style=\"text-align:right;\"> 7.199261 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 178.0409 </td>\n   <td style=\"text-align:right;\"> 448543.4 </td>\n   <td style=\"text-align:right;\"> 394018.75 </td>\n   <td style=\"text-align:right;\"> 49.41815 </td>\n   <td style=\"text-align:right;\"> 0.4995945 </td>\n   <td style=\"text-align:right;\"> 1.4058132 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 96.21824 </td>\n   <td style=\"text-align:right;\"> -54524.66 </td>\n   <td style=\"text-align:right;\"> -490721.9 </td>\n   <td style=\"text-align:right;\"> -0.1383809 </td>\n   <td style=\"text-align:right;\"> 3546168.72 </td>\n   <td style=\"text-align:right;\"> 4036890.6 </td>\n   <td style=\"text-align:right;\"> 680.77251 </td>\n   <td style=\"text-align:right;\"> 598.01823 </td>\n   <td style=\"text-align:right;\"> -82.75428 </td>\n   <td style=\"text-align:right;\"> 2519.32765 </td>\n   <td style=\"text-align:right;\"> 2213.07975 </td>\n   <td style=\"text-align:right;\"> -306.2479 </td>\n   <td style=\"text-align:right;\"> 15486.49 </td>\n   <td style=\"text-align:right;\"> 139378.38 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-25 </td>\n   <td style=\"text-align:left;\"> Bulk Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 21.05510 </td>\n   <td style=\"text-align:right;\"> 915.2618 </td>\n   <td style=\"text-align:right;\"> 1126.8225 </td>\n   <td style=\"text-align:right;\"> 11.789062 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 1737.3853 </td>\n   <td style=\"text-align:right;\"> 261349.6 </td>\n   <td style=\"text-align:right;\"> 87551.38 </td>\n   <td style=\"text-align:right;\"> 22.40911 </td>\n   <td style=\"text-align:right;\"> 0.7029057 </td>\n   <td style=\"text-align:right;\"> 1.3707043 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 66.19370 </td>\n   <td style=\"text-align:right;\"> -173798.23 </td>\n   <td style=\"text-align:right;\"> -173798.2 </td>\n   <td style=\"text-align:right;\"> -1.9850999 </td>\n   <td style=\"text-align:right;\"> 87551.38 </td>\n   <td style=\"text-align:right;\"> 261349.6 </td>\n   <td style=\"text-align:right;\"> 231.93502 </td>\n   <td style=\"text-align:right;\"> 77.69757 </td>\n   <td style=\"text-align:right;\"> -154.23745 </td>\n   <td style=\"text-align:right;\"> 150.42697 </td>\n   <td style=\"text-align:right;\"> 50.39261 </td>\n   <td style=\"text-align:right;\"> -100.0344 </td>\n   <td style=\"text-align:right;\"> 44714.05 </td>\n   <td style=\"text-align:right;\"> 44714.05 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-02 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 13.74278 </td>\n   <td style=\"text-align:right;\"> 1089.7218 </td>\n   <td style=\"text-align:right;\"> 1445.2812 </td>\n   <td style=\"text-align:right;\"> 9.727833 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 260.5951 </td>\n   <td style=\"text-align:right;\"> 287718.4 </td>\n   <td style=\"text-align:right;\"> 676121.46 </td>\n   <td style=\"text-align:right;\"> 64.15823 </td>\n   <td style=\"text-align:right;\"> 1.3313431 </td>\n   <td style=\"text-align:right;\"> 0.5833834 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 80.00858 </td>\n   <td style=\"text-align:right;\"> 388403.08 </td>\n   <td style=\"text-align:right;\"> 3107224.7 </td>\n   <td style=\"text-align:right;\"> 0.5744576 </td>\n   <td style=\"text-align:right;\"> 5408971.68 </td>\n   <td style=\"text-align:right;\"> 2301747.0 </td>\n   <td style=\"text-align:right;\"> 199.07433 </td>\n   <td style=\"text-align:right;\"> 467.81310 </td>\n   <td style=\"text-align:right;\"> 268.73877 </td>\n   <td style=\"text-align:right;\"> 1104.08205 </td>\n   <td style=\"text-align:right;\"> 2594.52864 </td>\n   <td style=\"text-align:right;\"> 1490.4466 </td>\n   <td style=\"text-align:right;\"> 168939.72 </td>\n   <td style=\"text-align:right;\"> 1351517.80 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-09 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Heavy Fuel Oil (HFO) </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 18.61620 </td>\n   <td style=\"text-align:right;\"> 2171.6466 </td>\n   <td style=\"text-align:right;\"> 723.3042 </td>\n   <td style=\"text-align:right;\"> 14.916320 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 1912.5098 </td>\n   <td style=\"text-align:right;\"> 184569.0 </td>\n   <td style=\"text-align:right;\"> 776698.35 </td>\n   <td style=\"text-align:right;\"> 47.47615 </td>\n   <td style=\"text-align:right;\"> 1.3702060 </td>\n   <td style=\"text-align:right;\"> 1.4377250 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 53.17490 </td>\n   <td style=\"text-align:right;\"> 592129.31 </td>\n   <td style=\"text-align:right;\"> 4144905.2 </td>\n   <td style=\"text-align:right;\"> 0.7623671 </td>\n   <td style=\"text-align:right;\"> 5436888.48 </td>\n   <td style=\"text-align:right;\"> 1291983.3 </td>\n   <td style=\"text-align:right;\"> 255.17485 </td>\n   <td style=\"text-align:right;\"> 1073.81976 </td>\n   <td style=\"text-align:right;\"> 818.64490 </td>\n   <td style=\"text-align:right;\"> 96.50620 </td>\n   <td style=\"text-align:right;\"> 406.11472 </td>\n   <td style=\"text-align:right;\"> 309.6085 </td>\n   <td style=\"text-align:right;\"> 683950.16 </td>\n   <td style=\"text-align:right;\"> 4787651.15 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-16 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Heavy Fuel Oil (HFO) </td>\n   <td style=\"text-align:left;\"> Critical </td>\n   <td style=\"text-align:right;\"> 20.43312 </td>\n   <td style=\"text-align:right;\"> 2505.0435 </td>\n   <td style=\"text-align:right;\"> 270.1186 </td>\n   <td style=\"text-align:right;\"> 8.455264 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 1191.4364 </td>\n   <td style=\"text-align:right;\"> 434449.3 </td>\n   <td style=\"text-align:right;\"> 739431.83 </td>\n   <td style=\"text-align:right;\"> 29.04042 </td>\n   <td style=\"text-align:right;\"> 1.1203894 </td>\n   <td style=\"text-align:right;\"> 0.6029316 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 58.50864 </td>\n   <td style=\"text-align:right;\"> 304982.56 </td>\n   <td style=\"text-align:right;\"> 914947.7 </td>\n   <td style=\"text-align:right;\"> 0.4124553 </td>\n   <td style=\"text-align:right;\"> 2218295.48 </td>\n   <td style=\"text-align:right;\"> 1303347.8 </td>\n   <td style=\"text-align:right;\"> 1608.36493 </td>\n   <td style=\"text-align:right;\"> 2737.43407 </td>\n   <td style=\"text-align:right;\"> 1129.06914 </td>\n   <td style=\"text-align:right;\"> 364.64326 </td>\n   <td style=\"text-align:right;\"> 620.62215 </td>\n   <td style=\"text-align:right;\"> 255.9789 </td>\n   <td style=\"text-align:right;\"> 524367.65 </td>\n   <td style=\"text-align:right;\"> 1573102.95 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-23 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Critical </td>\n   <td style=\"text-align:right;\"> 23.49805 </td>\n   <td style=\"text-align:right;\"> 814.8065 </td>\n   <td style=\"text-align:right;\"> 1717.3284 </td>\n   <td style=\"text-align:right;\"> 9.283780 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 318.4493 </td>\n   <td style=\"text-align:right;\"> 348380.6 </td>\n   <td style=\"text-align:right;\"> 462211.40 </td>\n   <td style=\"text-align:right;\"> 52.47860 </td>\n   <td style=\"text-align:right;\"> 0.6959746 </td>\n   <td style=\"text-align:right;\"> 1.4086634 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 94.59197 </td>\n   <td style=\"text-align:right;\"> 113830.79 </td>\n   <td style=\"text-align:right;\"> 682984.8 </td>\n   <td style=\"text-align:right;\"> 0.2462743 </td>\n   <td style=\"text-align:right;\"> 2773268.41 </td>\n   <td style=\"text-align:right;\"> 2090283.6 </td>\n   <td style=\"text-align:right;\"> 202.86196 </td>\n   <td style=\"text-align:right;\"> 269.14561 </td>\n   <td style=\"text-align:right;\"> 66.28365 </td>\n   <td style=\"text-align:right;\"> 1093.99093 </td>\n   <td style=\"text-align:right;\"> 1451.44440 </td>\n   <td style=\"text-align:right;\"> 357.4535 </td>\n   <td style=\"text-align:right;\"> 26425.63 </td>\n   <td style=\"text-align:right;\"> 158553.75 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-06 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 23.22710 </td>\n   <td style=\"text-align:right;\"> 2685.4017 </td>\n   <td style=\"text-align:right;\"> 1588.7923 </td>\n   <td style=\"text-align:right;\"> 11.721261 </td>\n   <td style=\"text-align:left;\"> Calm </td>\n   <td style=\"text-align:right;\"> 1843.4383 </td>\n   <td style=\"text-align:right;\"> 149790.2 </td>\n   <td style=\"text-align:right;\"> 615230.86 </td>\n   <td style=\"text-align:right;\"> 63.74276 </td>\n   <td style=\"text-align:right;\"> 0.4406762 </td>\n   <td style=\"text-align:right;\"> 1.4355687 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 79.45133 </td>\n   <td style=\"text-align:right;\"> 465440.65 </td>\n   <td style=\"text-align:right;\"> 930881.3 </td>\n   <td style=\"text-align:right;\"> 0.7565301 </td>\n   <td style=\"text-align:right;\"> 1230461.71 </td>\n   <td style=\"text-align:right;\"> 299580.4 </td>\n   <td style=\"text-align:right;\"> 94.27929 </td>\n   <td style=\"text-align:right;\"> 387.23178 </td>\n   <td style=\"text-align:right;\"> 292.95249 </td>\n   <td style=\"text-align:right;\"> 81.25589 </td>\n   <td style=\"text-align:right;\"> 333.74096 </td>\n   <td style=\"text-align:right;\"> 252.4851 </td>\n   <td style=\"text-align:right;\"> 159118.49 </td>\n   <td style=\"text-align:right;\"> 318236.98 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-13 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 11.63511 </td>\n   <td style=\"text-align:right;\"> 2522.6972 </td>\n   <td style=\"text-align:right;\"> 1224.8463 </td>\n   <td style=\"text-align:right;\"> 10.900540 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 1130.6046 </td>\n   <td style=\"text-align:right;\"> 299189.3 </td>\n   <td style=\"text-align:right;\"> 749334.91 </td>\n   <td style=\"text-align:right;\"> 47.66533 </td>\n   <td style=\"text-align:right;\"> 0.4378355 </td>\n   <td style=\"text-align:right;\"> 1.1052602 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 70.50445 </td>\n   <td style=\"text-align:right;\"> 450145.58 </td>\n   <td style=\"text-align:right;\"> 4051310.3 </td>\n   <td style=\"text-align:right;\"> 0.6007268 </td>\n   <td style=\"text-align:right;\"> 6744014.23 </td>\n   <td style=\"text-align:right;\"> 2692704.0 </td>\n   <td style=\"text-align:right;\"> 244.26684 </td>\n   <td style=\"text-align:right;\"> 611.77875 </td>\n   <td style=\"text-align:right;\"> 367.51190 </td>\n   <td style=\"text-align:right;\"> 264.62772 </td>\n   <td style=\"text-align:right;\"> 662.77361 </td>\n   <td style=\"text-align:right;\"> 398.1459 </td>\n   <td style=\"text-align:right;\"> 313484.44 </td>\n   <td style=\"text-align:right;\"> 2821359.96 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-20 </td>\n   <td style=\"text-align:left;\"> Tanker </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Good </td>\n   <td style=\"text-align:right;\"> 18.25358 </td>\n   <td style=\"text-align:right;\"> 2129.5179 </td>\n   <td style=\"text-align:right;\"> 1311.9786 </td>\n   <td style=\"text-align:right;\"> 11.955648 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 441.2600 </td>\n   <td style=\"text-align:right;\"> 481866.3 </td>\n   <td style=\"text-align:right;\"> 738063.17 </td>\n   <td style=\"text-align:right;\"> 48.18567 </td>\n   <td style=\"text-align:right;\"> 1.2270642 </td>\n   <td style=\"text-align:right;\"> 0.9414481 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 65.98470 </td>\n   <td style=\"text-align:right;\"> 256196.91 </td>\n   <td style=\"text-align:right;\"> 1024787.6 </td>\n   <td style=\"text-align:right;\"> 0.3471206 </td>\n   <td style=\"text-align:right;\"> 2952252.69 </td>\n   <td style=\"text-align:right;\"> 1927465.0 </td>\n   <td style=\"text-align:right;\"> 367.28211 </td>\n   <td style=\"text-align:right;\"> 562.55733 </td>\n   <td style=\"text-align:right;\"> 195.27522 </td>\n   <td style=\"text-align:right;\"> 1092.02351 </td>\n   <td style=\"text-align:right;\"> 1672.62662 </td>\n   <td style=\"text-align:right;\"> 580.6031 </td>\n   <td style=\"text-align:right;\"> 380473.59 </td>\n   <td style=\"text-align:right;\"> 1521894.36 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n\n\n### Voyage Utilization Score\n\n| Score Range | Label  |\n|-------------|--------|\n| ≥ 0.30      | High   |\n| 0.10 – 0.29 | Medium |\n| \\< 0.10     | Low    |\n| \\< 0        | Loss.  |\n\nThis hybrid metric blends how fully a vessel is loaded and how profit‐efficient it is per dollar of cost. A higher score (≥ 0.30) signals strong utilization and profitability, while a lower score (\\< 0.10) implies underperformance. Any negative score highlights operations where costs outweigh revenue, even at high load factors. Defining these clear thresholds helps managers quickly identify which voyages are most profitable, which need optimization, and which are outright unviable.\n\n-   Voyage Utilization Score = (Average_Load_Percentage ÷ 100) × (Net_Profit ÷ Operational_Cost_USD)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data <- ship_data %>%\n  mutate(\n    # Calculate the Voyage Utilization Score \n    # (substitute the appropriate cost column if it's named differently in your dataset)\n    Voyage_Utilization_Score = (Average_Load_Percentage / 100) * (Net_Profit / Operational_Cost_USD),\n    \n    # Create a categorical label based on the defined thresholds\n    Voyage_Performance_Label = case_when(\n      Voyage_Utilization_Score >= 0.30  ~ \"High\",\n      Voyage_Utilization_Score >= 0.10  ~ \"Medium\",\n      Voyage_Utilization_Score >= 0.00  ~ \"Low\",\n      TRUE                              ~ \"Loss\"\n    )\n  )\n\ncolnames(ship_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Date\"                          \"Ship_Type\"                    \n [3] \"Route_Type\"                    \"Engine_Type\"                  \n [5] \"Maintenance_Status\"            \"Speed_Over_Ground_knots\"      \n [7] \"Engine_Power_kW\"               \"Distance_Traveled_nm\"         \n [9] \"Draft_meters\"                  \"Weather_Condition\"            \n[11] \"Cargo_Weight_tons\"             \"Operational_Cost_USD\"         \n[13] \"Revenue_per_Voyage_USD\"        \"Turnaround_Time_hours\"        \n[15] \"Efficiency_nm_per_kWh\"         \"Seasonal_Impact_Score\"        \n[17] \"Weekly_Voyage_Count\"           \"Average_Load_Percentage\"      \n[19] \"Net_Profit\"                    \"Weekly_Total_Profit\"          \n[21] \"Profit_Margin\"                 \"Weekly_Total_Revenue\"         \n[23] \"Weekly_Total_Operational_Cost\" \"Cost_per_NM\"                  \n[25] \"Revenue_per_NM\"                \"Profit_per_NM\"                \n[27] \"Cost_per_Ton\"                  \"Revenue_per_Ton\"              \n[29] \"Profit_per_Ton\"                \"Revenue_Leakage\"              \n[31] \"Weekly_Revenue_Leakage\"        \"Voyage_Utilization_Score\"     \n[33] \"Voyage_Performance_Label\"     \n```\n\n\n:::\n\n```{.r .cell-code}\n# Quick preview\nship_data %>%\n  select(Average_Load_Percentage, Net_Profit, Operational_Cost_USD, \n         Voyage_Utilization_Score, Voyage_Performance_Label) %>%\n  head(10) %>%\n  kable() %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Average_Load_Percentage </th>\n   <th style=\"text-align:right;\"> Net_Profit </th>\n   <th style=\"text-align:right;\"> Operational_Cost_USD </th>\n   <th style=\"text-align:right;\"> Voyage_Utilization_Score </th>\n   <th style=\"text-align:left;\"> Voyage_Performance_Label </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 93.89537 </td>\n   <td style=\"text-align:right;\"> 400377.79 </td>\n   <td style=\"text-align:right;\"> 483388.0 </td>\n   <td style=\"text-align:right;\"> 0.7777111 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 96.21824 </td>\n   <td style=\"text-align:right;\"> -54524.66 </td>\n   <td style=\"text-align:right;\"> 448543.4 </td>\n   <td style=\"text-align:right;\"> -0.1169623 </td>\n   <td style=\"text-align:left;\"> Loss </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 66.19370 </td>\n   <td style=\"text-align:right;\"> -173798.23 </td>\n   <td style=\"text-align:right;\"> 261349.6 </td>\n   <td style=\"text-align:right;\"> -0.4401900 </td>\n   <td style=\"text-align:left;\"> Loss </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 80.00858 </td>\n   <td style=\"text-align:right;\"> 388403.08 </td>\n   <td style=\"text-align:right;\"> 287718.4 </td>\n   <td style=\"text-align:right;\"> 1.0800693 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 53.17490 </td>\n   <td style=\"text-align:right;\"> 592129.31 </td>\n   <td style=\"text-align:right;\"> 184569.0 </td>\n   <td style=\"text-align:right;\"> 1.7059424 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 58.50864 </td>\n   <td style=\"text-align:right;\"> 304982.56 </td>\n   <td style=\"text-align:right;\"> 434449.3 </td>\n   <td style=\"text-align:right;\"> 0.4107295 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 94.59197 </td>\n   <td style=\"text-align:right;\"> 113830.79 </td>\n   <td style=\"text-align:right;\"> 348380.6 </td>\n   <td style=\"text-align:right;\"> 0.3090723 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 79.45133 </td>\n   <td style=\"text-align:right;\"> 465440.65 </td>\n   <td style=\"text-align:right;\"> 149790.2 </td>\n   <td style=\"text-align:right;\"> 2.4687781 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 70.50445 </td>\n   <td style=\"text-align:right;\"> 450145.58 </td>\n   <td style=\"text-align:right;\"> 299189.3 </td>\n   <td style=\"text-align:right;\"> 1.0607753 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 65.98470 </td>\n   <td style=\"text-align:right;\"> 256196.91 </td>\n   <td style=\"text-align:right;\"> 481866.3 </td>\n   <td style=\"text-align:right;\"> 0.3508251 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n### Weekly Voyage Frequency by Ship Type and Route Type\n\nThis pivot table displays how many voyages in the dataset fall under each Ship_Type and Route_Type, broken down by the Weekly_Voyage_Count columns labeled 1 through 9. For instance, in the row for “Bulk Carrier / Short‐haul,” 21 total voyages had a weekly frequency of 1, 34 voyages had a weekly frequency of 2, and so on. The final Subtotal column is the sum of those counts across all frequency buckets, indicating the total number of voyages for that combination of Ship_Type and Route_Type. This format makes it easy to spot which shipping segments operate most frequently at certain counts (e.g., once a week vs. nine times a week) and compare overall totals across different routes and vessel categories.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data %>%\n  group_by(Weekly_Voyage_Count) %>%\n  summarise(Record_Count = n()) %>%\n  arrange(Weekly_Voyage_Count)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 9 × 2\n  Weekly_Voyage_Count Record_Count\n                <int>        <int>\n1                   1          259\n2                   2          254\n3                   3          229\n4                   4          245\n5                   5          226\n6                   6          211\n7                   7          239\n8                   8          244\n9                   9          220\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data %>%\n  group_by(Weekly_Voyage_Count, Ship_Type) %>%\n  summarise(Record_Count = n()) %>%\n  arrange(Weekly_Voyage_Count, Ship_Type)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 36 × 3\n# Groups:   Weekly_Voyage_Count [9]\n   Weekly_Voyage_Count Ship_Type      Record_Count\n                 <int> <chr>                 <int>\n 1                   1 Bulk Carrier             65\n 2                   1 Container Ship           75\n 3                   1 Fish Carrier             58\n 4                   1 Tanker                   61\n 5                   2 Bulk Carrier             72\n 6                   2 Container Ship           56\n 7                   2 Fish Carrier             58\n 8                   2 Tanker                   68\n 9                   3 Bulk Carrier             62\n10                   3 Container Ship           49\n# ℹ 26 more rows\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwide_table <- ship_data %>%\n  group_by(Ship_Type, Route_Type, Weekly_Voyage_Count) %>%\n  summarise(\n    Sum_of_Weekly_Voyages = sum(Weekly_Voyage_Count),\n    .groups = \"drop\"\n  ) %>%\n  pivot_wider(\n    names_from  = Weekly_Voyage_Count,\n    values_from = Sum_of_Weekly_Voyages,\n    values_fill = 0\n  ) %>%\n  mutate(Subtotal = rowSums(across(`1`:`9`))) %>%\n  arrange(Ship_Type, Route_Type)\n\nwide_table %>%\n  kable() %>%\n  kable_styling(full_width = FALSE) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Ship_Type </th>\n   <th style=\"text-align:left;\"> Route_Type </th>\n   <th style=\"text-align:right;\"> 1 </th>\n   <th style=\"text-align:right;\"> 2 </th>\n   <th style=\"text-align:right;\"> 3 </th>\n   <th style=\"text-align:right;\"> 4 </th>\n   <th style=\"text-align:right;\"> 5 </th>\n   <th style=\"text-align:right;\"> 6 </th>\n   <th style=\"text-align:right;\"> 7 </th>\n   <th style=\"text-align:right;\"> 8 </th>\n   <th style=\"text-align:right;\"> 9 </th>\n   <th style=\"text-align:right;\"> Subtotal </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Bulk Carrier </td>\n   <td style=\"text-align:left;\"> Coastal </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 105 </td>\n   <td style=\"text-align:right;\"> 104 </td>\n   <td style=\"text-align:right;\"> 171 </td>\n   <td style=\"text-align:right;\"> 663 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Bulk Carrier </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:right;\"> 14 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 52 </td>\n   <td style=\"text-align:right;\"> 55 </td>\n   <td style=\"text-align:right;\"> 66 </td>\n   <td style=\"text-align:right;\"> 119 </td>\n   <td style=\"text-align:right;\"> 136 </td>\n   <td style=\"text-align:right;\"> 180 </td>\n   <td style=\"text-align:right;\"> 710 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Bulk Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 34 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 125 </td>\n   <td style=\"text-align:right;\"> 90 </td>\n   <td style=\"text-align:right;\"> 126 </td>\n   <td style=\"text-align:right;\"> 80 </td>\n   <td style=\"text-align:right;\"> 144 </td>\n   <td style=\"text-align:right;\"> 719 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Bulk Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:right;\"> 13 </td>\n   <td style=\"text-align:right;\"> 32 </td>\n   <td style=\"text-align:right;\"> 48 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 78 </td>\n   <td style=\"text-align:right;\"> 112 </td>\n   <td style=\"text-align:right;\"> 136 </td>\n   <td style=\"text-align:right;\"> 117 </td>\n   <td style=\"text-align:right;\"> 632 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Coastal </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 30 </td>\n   <td style=\"text-align:right;\"> 39 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 119 </td>\n   <td style=\"text-align:right;\"> 80 </td>\n   <td style=\"text-align:right;\"> 99 </td>\n   <td style=\"text-align:right;\"> 607 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 76 </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 132 </td>\n   <td style=\"text-align:right;\"> 91 </td>\n   <td style=\"text-align:right;\"> 128 </td>\n   <td style=\"text-align:right;\"> 198 </td>\n   <td style=\"text-align:right;\"> 774 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 44 </td>\n   <td style=\"text-align:right;\"> 50 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 119 </td>\n   <td style=\"text-align:right;\"> 104 </td>\n   <td style=\"text-align:right;\"> 108 </td>\n   <td style=\"text-align:right;\"> 546 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 95 </td>\n   <td style=\"text-align:right;\"> 66 </td>\n   <td style=\"text-align:right;\"> 98 </td>\n   <td style=\"text-align:right;\"> 120 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 614 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Coastal </td>\n   <td style=\"text-align:right;\"> 12 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 84 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 144 </td>\n   <td style=\"text-align:right;\"> 602 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 51 </td>\n   <td style=\"text-align:right;\"> 68 </td>\n   <td style=\"text-align:right;\"> 85 </td>\n   <td style=\"text-align:right;\"> 84 </td>\n   <td style=\"text-align:right;\"> 70 </td>\n   <td style=\"text-align:right;\"> 144 </td>\n   <td style=\"text-align:right;\"> 90 </td>\n   <td style=\"text-align:right;\"> 633 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 36 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 68 </td>\n   <td style=\"text-align:right;\"> 45 </td>\n   <td style=\"text-align:right;\"> 84 </td>\n   <td style=\"text-align:right;\"> 112 </td>\n   <td style=\"text-align:right;\"> 120 </td>\n   <td style=\"text-align:right;\"> 90 </td>\n   <td style=\"text-align:right;\"> 600 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 42 </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 65 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 133 </td>\n   <td style=\"text-align:right;\"> 160 </td>\n   <td style=\"text-align:right;\"> 198 </td>\n   <td style=\"text-align:right;\"> 779 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Tanker </td>\n   <td style=\"text-align:left;\"> Coastal </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 46 </td>\n   <td style=\"text-align:right;\"> 39 </td>\n   <td style=\"text-align:right;\"> 68 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 96 </td>\n   <td style=\"text-align:right;\"> 84 </td>\n   <td style=\"text-align:right;\"> 192 </td>\n   <td style=\"text-align:right;\"> 72 </td>\n   <td style=\"text-align:right;\"> 638 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Tanker </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 28 </td>\n   <td style=\"text-align:right;\"> 54 </td>\n   <td style=\"text-align:right;\"> 88 </td>\n   <td style=\"text-align:right;\"> 85 </td>\n   <td style=\"text-align:right;\"> 66 </td>\n   <td style=\"text-align:right;\"> 112 </td>\n   <td style=\"text-align:right;\"> 136 </td>\n   <td style=\"text-align:right;\"> 90 </td>\n   <td style=\"text-align:right;\"> 677 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Tanker </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:right;\"> 15 </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 57 </td>\n   <td style=\"text-align:right;\"> 60 </td>\n   <td style=\"text-align:right;\"> 70 </td>\n   <td style=\"text-align:right;\"> 78 </td>\n   <td style=\"text-align:right;\"> 84 </td>\n   <td style=\"text-align:right;\"> 120 </td>\n   <td style=\"text-align:right;\"> 99 </td>\n   <td style=\"text-align:right;\"> 621 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Tanker </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 24 </td>\n   <td style=\"text-align:right;\"> 39 </td>\n   <td style=\"text-align:right;\"> 64 </td>\n   <td style=\"text-align:right;\"> 75 </td>\n   <td style=\"text-align:right;\"> 78 </td>\n   <td style=\"text-align:right;\"> 105 </td>\n   <td style=\"text-align:right;\"> 120 </td>\n   <td style=\"text-align:right;\"> 108 </td>\n   <td style=\"text-align:right;\"> 620 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n\n\n### Weekly Frequency Utilization Score\n\nThis metric compares each voyage’s weekly frequency to the average frequency (for the same ship type and route) and then factors in the vessel’s load percentage. It tells you whether a particular voyage is sailed more or less often than typical for that category and how effectively its capacity is being used. A high score indicates above‐average sailing frequency and high load factor, while a low score suggests below‐average frequency or underutilized capacity.\n\nBelow is a hypothetical range for the Weekly Frequency Utilization Score, aligning closely with industry best practices and reflecting the distribution observed in the processed ship_data. These thresholds may be refined further based on further benchmarks or changing market conditions.\n\n| Score Range | Category | Interpretation |\n|----|----|----|\n| ≥ 0.35 | High | Frequent sailings at solid load levels (75th percentile or above) |\n| 0.20 – 0.34 | Medium | Sufficient frequency and moderate capacity usage |\n| 0.05 – 0.19 | Low | Infrequent sailings or partially filled voyages |\n| \\< 0.05 | Minimal | Significantly underutilized capacity or very few weekly departures |\n\n**Rationale**\n-   **High (≥ 0.35)**: Represents top‐tier performance where voyages are running often and at strong load factors.\n-   **Medium (0.20 – 0.34)**: Indicates moderate efficiency—voyages are either reasonably frequent or well‐loaded, but not at peak levels.\n-   **Low (0.05 – 0.19)**: Captures sporadic or suboptimal voyages—there is likely room to improve scheduling or load management.\n-   **Minimal (\\< 0.05)**: Signifies major underutilization; either very low frequency or extremely poor load factor.\n\nThese thresholds help identify segments or weeks where capacity usage and voyage repetition fall short of internal or industry standards, prompting targeted improvements in scheduling, pricing, or fleet allocation.\n\nThe combine relative frequency and capacity utilization. The idea is:\n\n-   Compare the actual weekly voyage count to the average weekly voyage count for the same ship–route segment. This ratio indicates whether a particular record’s frequency is above or below average.\n-   Multiply by the load factor (Average_Load_Percentage ÷ 100), reflecting how fully the vessel is utilized.\n\nFormally:\n\nWeekly_Frequency_Utilization_Score = (Weekly_Voyage_Count / Avg_Weekly_Voyage_Freq_Ship_Route) × (Average_Load_Percentage / 100)\n\n-   If Weekly_Voyage_Count is greater than the average for that ship–route combination, the ratio exceeds 1, boosting the score.\n-   If the vessel also has a high load factor, it further increases the score—meaning it’s sailing more frequently and more fully loaded than its peers.\n-   Conversely, a below‐average voyage count or low load factor reduces the score.\n\nThis approach highlights both how often a particular route is sailed relative to the typical frequency in that segment and how effectively its capacity is used.\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data <- ship_data %>%\n  group_by(Ship_Type, Route_Type) %>%\n  mutate(\n    Avg_Weekly_Freq_Ship_Route = mean(Weekly_Voyage_Count, na.rm = TRUE)\n  ) %>%\n  ungroup() %>%\n  mutate(\n    Weekly_Frequency_Utilization_Score = (Weekly_Voyage_Count / Avg_Weekly_Freq_Ship_Route) * (Average_Load_Percentage / 100),\n    Weekly_Frequency_Utilization_Label = case_when(\n      Weekly_Frequency_Utilization_Score >= 0.35 ~ \"High\",\n      Weekly_Frequency_Utilization_Score >= 0.20 ~ \"Medium\",\n      Weekly_Frequency_Utilization_Score >= 0.05 ~ \"Low\",\n      TRUE                                       ~ \"Minimal\"\n    )\n  )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n(\n  summary_table <- ship_data %>%\n    select(\n      Ship_Type,\n      Route_Type,\n      Date,\n      Weekly_Voyage_Count,\n      Avg_Weekly_Freq_Ship_Route,\n      Weekly_Frequency_Utilization_Score,\n      Weekly_Frequency_Utilization_Label\n    ) %>%\n    head(10)\n) %>%\n  kable() %>%\n  kable_styling(bootstrap_options = c(\"striped\", \"hover\", \"condensed\"))\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed\" style=\"margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Ship_Type </th>\n   <th style=\"text-align:left;\"> Route_Type </th>\n   <th style=\"text-align:left;\"> Date </th>\n   <th style=\"text-align:right;\"> Weekly_Voyage_Count </th>\n   <th style=\"text-align:right;\"> Avg_Weekly_Freq_Ship_Route </th>\n   <th style=\"text-align:right;\"> Weekly_Frequency_Utilization_Score </th>\n   <th style=\"text-align:left;\"> Weekly_Frequency_Utilization_Label </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> 2023-06-11 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 4.761905 </td>\n   <td style=\"text-align:right;\"> 1.1830817 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> 2023-06-18 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 5.058823 </td>\n   <td style=\"text-align:right;\"> 1.7117897 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Bulk Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> 2023-06-25 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 5.056000 </td>\n   <td style=\"text-align:right;\"> 0.1309211 </td>\n   <td style=\"text-align:left;\"> Low </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> 2023-07-02 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 5.644927 </td>\n   <td style=\"text-align:right;\"> 1.1338828 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> 2023-07-09 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 4.795454 </td>\n   <td style=\"text-align:right;\"> 0.7762023 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> 2023-07-16 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 5.644927 </td>\n   <td style=\"text-align:right;\"> 0.3109445 </td>\n   <td style=\"text-align:left;\"> Medium </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> 2023-07-23 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 5.200000 </td>\n   <td style=\"text-align:right;\"> 1.0914458 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> 2023-08-06 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 5.058823 </td>\n   <td style=\"text-align:right;\"> 0.3141099 </td>\n   <td style=\"text-align:left;\"> Medium </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> 2023-08-13 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 4.761905 </td>\n   <td style=\"text-align:right;\"> 1.3325341 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Tanker </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> 2023-08-20 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 5.254237 </td>\n   <td style=\"text-align:right;\"> 0.5023352 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data %>%\n  head(10) %>%\n  kable() %>%\n  kable_styling(\n    bootstrap_options = c(\"striped\", \"hover\", \"condensed\"),\n    full_width = FALSE\n  )\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-striped table-hover table-condensed\" style=\"width: auto !important; margin-left: auto; margin-right: auto;\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Date </th>\n   <th style=\"text-align:left;\"> Ship_Type </th>\n   <th style=\"text-align:left;\"> Route_Type </th>\n   <th style=\"text-align:left;\"> Engine_Type </th>\n   <th style=\"text-align:left;\"> Maintenance_Status </th>\n   <th style=\"text-align:right;\"> Speed_Over_Ground_knots </th>\n   <th style=\"text-align:right;\"> Engine_Power_kW </th>\n   <th style=\"text-align:right;\"> Distance_Traveled_nm </th>\n   <th style=\"text-align:right;\"> Draft_meters </th>\n   <th style=\"text-align:left;\"> Weather_Condition </th>\n   <th style=\"text-align:right;\"> Cargo_Weight_tons </th>\n   <th style=\"text-align:right;\"> Operational_Cost_USD </th>\n   <th style=\"text-align:right;\"> Revenue_per_Voyage_USD </th>\n   <th style=\"text-align:right;\"> Turnaround_Time_hours </th>\n   <th style=\"text-align:right;\"> Efficiency_nm_per_kWh </th>\n   <th style=\"text-align:right;\"> Seasonal_Impact_Score </th>\n   <th style=\"text-align:right;\"> Weekly_Voyage_Count </th>\n   <th style=\"text-align:right;\"> Average_Load_Percentage </th>\n   <th style=\"text-align:right;\"> Net_Profit </th>\n   <th style=\"text-align:right;\"> Weekly_Total_Profit </th>\n   <th style=\"text-align:right;\"> Profit_Margin </th>\n   <th style=\"text-align:right;\"> Weekly_Total_Revenue </th>\n   <th style=\"text-align:right;\"> Weekly_Total_Operational_Cost </th>\n   <th style=\"text-align:right;\"> Cost_per_NM </th>\n   <th style=\"text-align:right;\"> Revenue_per_NM </th>\n   <th style=\"text-align:right;\"> Profit_per_NM </th>\n   <th style=\"text-align:right;\"> Cost_per_Ton </th>\n   <th style=\"text-align:right;\"> Revenue_per_Ton </th>\n   <th style=\"text-align:right;\"> Profit_per_Ton </th>\n   <th style=\"text-align:right;\"> Revenue_Leakage </th>\n   <th style=\"text-align:right;\"> Weekly_Revenue_Leakage </th>\n   <th style=\"text-align:right;\"> Voyage_Utilization_Score </th>\n   <th style=\"text-align:left;\"> Voyage_Performance_Label </th>\n   <th style=\"text-align:right;\"> Avg_Weekly_Freq_Ship_Route </th>\n   <th style=\"text-align:right;\"> Weekly_Frequency_Utilization_Score </th>\n   <th style=\"text-align:left;\"> Weekly_Frequency_Utilization_Label </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-11 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Good </td>\n   <td style=\"text-align:right;\"> 10.38758 </td>\n   <td style=\"text-align:right;\"> 1796.0574 </td>\n   <td style=\"text-align:right;\"> 1060.4864 </td>\n   <td style=\"text-align:right;\"> 14.653083 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 162.3947 </td>\n   <td style=\"text-align:right;\"> 483388.0 </td>\n   <td style=\"text-align:right;\"> 883765.79 </td>\n   <td style=\"text-align:right;\"> 63.24820 </td>\n   <td style=\"text-align:right;\"> 0.2903614 </td>\n   <td style=\"text-align:right;\"> 0.8856478 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 93.89537 </td>\n   <td style=\"text-align:right;\"> 400377.79 </td>\n   <td style=\"text-align:right;\"> 2402266.7 </td>\n   <td style=\"text-align:right;\"> 0.4530361 </td>\n   <td style=\"text-align:right;\"> 5302594.72 </td>\n   <td style=\"text-align:right;\"> 2900328.0 </td>\n   <td style=\"text-align:right;\"> 455.81726 </td>\n   <td style=\"text-align:right;\"> 833.35892 </td>\n   <td style=\"text-align:right;\"> 377.54166 </td>\n   <td style=\"text-align:right;\"> 2976.62403 </td>\n   <td style=\"text-align:right;\"> 5442.08478 </td>\n   <td style=\"text-align:right;\"> 2465.4607 </td>\n   <td style=\"text-align:right;\"> 57458.22 </td>\n   <td style=\"text-align:right;\"> 344749.33 </td>\n   <td style=\"text-align:right;\"> 0.7777111 </td>\n   <td style=\"text-align:left;\"> High </td>\n   <td style=\"text-align:right;\"> 4.761905 </td>\n   <td style=\"text-align:right;\"> 1.1830817 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-18 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 20.74975 </td>\n   <td style=\"text-align:right;\"> 1648.5567 </td>\n   <td style=\"text-align:right;\"> 658.8741 </td>\n   <td style=\"text-align:right;\"> 7.199261 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 178.0409 </td>\n   <td style=\"text-align:right;\"> 448543.4 </td>\n   <td style=\"text-align:right;\"> 394018.75 </td>\n   <td style=\"text-align:right;\"> 49.41815 </td>\n   <td style=\"text-align:right;\"> 0.4995945 </td>\n   <td style=\"text-align:right;\"> 1.4058132 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 96.21824 </td>\n   <td style=\"text-align:right;\"> -54524.66 </td>\n   <td style=\"text-align:right;\"> -490721.9 </td>\n   <td style=\"text-align:right;\"> -0.1383809 </td>\n   <td style=\"text-align:right;\"> 3546168.72 </td>\n   <td style=\"text-align:right;\"> 4036890.6 </td>\n   <td style=\"text-align:right;\"> 680.77251 </td>\n   <td style=\"text-align:right;\"> 598.01823 </td>\n   <td style=\"text-align:right;\"> -82.75428 </td>\n   <td style=\"text-align:right;\"> 2519.32765 </td>\n   <td style=\"text-align:right;\"> 2213.07975 </td>\n   <td style=\"text-align:right;\"> -306.2479 </td>\n   <td style=\"text-align:right;\"> 15486.49 </td>\n   <td style=\"text-align:right;\"> 139378.38 </td>\n   <td style=\"text-align:right;\"> -0.1169623 </td>\n   <td style=\"text-align:left;\"> Loss </td>\n   <td style=\"text-align:right;\"> 5.058823 </td>\n   <td style=\"text-align:right;\"> 1.7117897 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-06-25 </td>\n   <td style=\"text-align:left;\"> Bulk Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 21.05510 </td>\n   <td style=\"text-align:right;\"> 915.2618 </td>\n   <td style=\"text-align:right;\"> 1126.8225 </td>\n   <td style=\"text-align:right;\"> 11.789062 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 1737.3853 </td>\n   <td style=\"text-align:right;\"> 261349.6 </td>\n   <td style=\"text-align:right;\"> 87551.38 </td>\n   <td style=\"text-align:right;\"> 22.40911 </td>\n   <td style=\"text-align:right;\"> 0.7029057 </td>\n   <td style=\"text-align:right;\"> 1.3707043 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 66.19370 </td>\n   <td style=\"text-align:right;\"> -173798.23 </td>\n   <td style=\"text-align:right;\"> -173798.2 </td>\n   <td style=\"text-align:right;\"> -1.9850999 </td>\n   <td style=\"text-align:right;\"> 87551.38 </td>\n   <td style=\"text-align:right;\"> 261349.6 </td>\n   <td style=\"text-align:right;\"> 231.93502 </td>\n   <td style=\"text-align:right;\"> 77.69757 </td>\n   <td style=\"text-align:right;\"> -154.23745 </td>\n   <td style=\"text-align:right;\"> 150.42697 </td>\n   <td style=\"text-align:right;\"> 50.39261 </td>\n   <td style=\"text-align:right;\"> -100.0344 </td>\n   <td style=\"text-align:right;\"> 44714.05 </td>\n   <td style=\"text-align:right;\"> 44714.05 </td>\n   <td style=\"text-align:right;\"> -0.4401900 </td>\n   <td style=\"text-align:left;\"> Loss </td>\n   <td style=\"text-align:right;\"> 5.056000 </td>\n   <td style=\"text-align:right;\"> 0.1309211 </td>\n   <td style=\"text-align:left;\"> Low </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-02 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 13.74278 </td>\n   <td style=\"text-align:right;\"> 1089.7218 </td>\n   <td style=\"text-align:right;\"> 1445.2812 </td>\n   <td style=\"text-align:right;\"> 9.727833 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 260.5951 </td>\n   <td style=\"text-align:right;\"> 287718.4 </td>\n   <td style=\"text-align:right;\"> 676121.46 </td>\n   <td style=\"text-align:right;\"> 64.15823 </td>\n   <td style=\"text-align:right;\"> 1.3313431 </td>\n   <td style=\"text-align:right;\"> 0.5833834 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 80.00858 </td>\n   <td style=\"text-align:right;\"> 388403.08 </td>\n   <td style=\"text-align:right;\"> 3107224.7 </td>\n   <td style=\"text-align:right;\"> 0.5744576 </td>\n   <td style=\"text-align:right;\"> 5408971.68 </td>\n   <td style=\"text-align:right;\"> 2301747.0 </td>\n   <td style=\"text-align:right;\"> 199.07433 </td>\n   <td style=\"text-align:right;\"> 467.81310 </td>\n   <td style=\"text-align:right;\"> 268.73877 </td>\n   <td style=\"text-align:right;\"> 1104.08205 </td>\n   <td style=\"text-align:right;\"> 2594.52864 </td>\n   <td style=\"text-align:right;\"> 1490.4466 </td>\n   <td style=\"text-align:right;\"> 168939.72 </td>\n   <td style=\"text-align:right;\"> 1351517.80 </td>\n   <td style=\"text-align:right;\"> 1.0800693 </td>\n   <td style=\"text-align:left;\"> High </td>\n   <td style=\"text-align:right;\"> 5.644927 </td>\n   <td style=\"text-align:right;\"> 1.1338828 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-09 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Heavy Fuel Oil (HFO) </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 18.61620 </td>\n   <td style=\"text-align:right;\"> 2171.6466 </td>\n   <td style=\"text-align:right;\"> 723.3042 </td>\n   <td style=\"text-align:right;\"> 14.916320 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 1912.5098 </td>\n   <td style=\"text-align:right;\"> 184569.0 </td>\n   <td style=\"text-align:right;\"> 776698.35 </td>\n   <td style=\"text-align:right;\"> 47.47615 </td>\n   <td style=\"text-align:right;\"> 1.3702060 </td>\n   <td style=\"text-align:right;\"> 1.4377250 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 53.17490 </td>\n   <td style=\"text-align:right;\"> 592129.31 </td>\n   <td style=\"text-align:right;\"> 4144905.2 </td>\n   <td style=\"text-align:right;\"> 0.7623671 </td>\n   <td style=\"text-align:right;\"> 5436888.48 </td>\n   <td style=\"text-align:right;\"> 1291983.3 </td>\n   <td style=\"text-align:right;\"> 255.17485 </td>\n   <td style=\"text-align:right;\"> 1073.81976 </td>\n   <td style=\"text-align:right;\"> 818.64490 </td>\n   <td style=\"text-align:right;\"> 96.50620 </td>\n   <td style=\"text-align:right;\"> 406.11472 </td>\n   <td style=\"text-align:right;\"> 309.6085 </td>\n   <td style=\"text-align:right;\"> 683950.16 </td>\n   <td style=\"text-align:right;\"> 4787651.15 </td>\n   <td style=\"text-align:right;\"> 1.7059424 </td>\n   <td style=\"text-align:left;\"> High </td>\n   <td style=\"text-align:right;\"> 4.795454 </td>\n   <td style=\"text-align:right;\"> 0.7762023 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-16 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Heavy Fuel Oil (HFO) </td>\n   <td style=\"text-align:left;\"> Critical </td>\n   <td style=\"text-align:right;\"> 20.43312 </td>\n   <td style=\"text-align:right;\"> 2505.0435 </td>\n   <td style=\"text-align:right;\"> 270.1186 </td>\n   <td style=\"text-align:right;\"> 8.455264 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 1191.4364 </td>\n   <td style=\"text-align:right;\"> 434449.3 </td>\n   <td style=\"text-align:right;\"> 739431.83 </td>\n   <td style=\"text-align:right;\"> 29.04042 </td>\n   <td style=\"text-align:right;\"> 1.1203894 </td>\n   <td style=\"text-align:right;\"> 0.6029316 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 58.50864 </td>\n   <td style=\"text-align:right;\"> 304982.56 </td>\n   <td style=\"text-align:right;\"> 914947.7 </td>\n   <td style=\"text-align:right;\"> 0.4124553 </td>\n   <td style=\"text-align:right;\"> 2218295.48 </td>\n   <td style=\"text-align:right;\"> 1303347.8 </td>\n   <td style=\"text-align:right;\"> 1608.36493 </td>\n   <td style=\"text-align:right;\"> 2737.43407 </td>\n   <td style=\"text-align:right;\"> 1129.06914 </td>\n   <td style=\"text-align:right;\"> 364.64326 </td>\n   <td style=\"text-align:right;\"> 620.62215 </td>\n   <td style=\"text-align:right;\"> 255.9789 </td>\n   <td style=\"text-align:right;\"> 524367.65 </td>\n   <td style=\"text-align:right;\"> 1573102.95 </td>\n   <td style=\"text-align:right;\"> 0.4107295 </td>\n   <td style=\"text-align:left;\"> High </td>\n   <td style=\"text-align:right;\"> 5.644927 </td>\n   <td style=\"text-align:right;\"> 0.3109445 </td>\n   <td style=\"text-align:left;\"> Medium </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-07-23 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Critical </td>\n   <td style=\"text-align:right;\"> 23.49805 </td>\n   <td style=\"text-align:right;\"> 814.8065 </td>\n   <td style=\"text-align:right;\"> 1717.3284 </td>\n   <td style=\"text-align:right;\"> 9.283780 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 318.4493 </td>\n   <td style=\"text-align:right;\"> 348380.6 </td>\n   <td style=\"text-align:right;\"> 462211.40 </td>\n   <td style=\"text-align:right;\"> 52.47860 </td>\n   <td style=\"text-align:right;\"> 0.6959746 </td>\n   <td style=\"text-align:right;\"> 1.4086634 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 94.59197 </td>\n   <td style=\"text-align:right;\"> 113830.79 </td>\n   <td style=\"text-align:right;\"> 682984.8 </td>\n   <td style=\"text-align:right;\"> 0.2462743 </td>\n   <td style=\"text-align:right;\"> 2773268.41 </td>\n   <td style=\"text-align:right;\"> 2090283.6 </td>\n   <td style=\"text-align:right;\"> 202.86196 </td>\n   <td style=\"text-align:right;\"> 269.14561 </td>\n   <td style=\"text-align:right;\"> 66.28365 </td>\n   <td style=\"text-align:right;\"> 1093.99093 </td>\n   <td style=\"text-align:right;\"> 1451.44440 </td>\n   <td style=\"text-align:right;\"> 357.4535 </td>\n   <td style=\"text-align:right;\"> 26425.63 </td>\n   <td style=\"text-align:right;\"> 158553.75 </td>\n   <td style=\"text-align:right;\"> 0.3090723 </td>\n   <td style=\"text-align:left;\"> High </td>\n   <td style=\"text-align:right;\"> 5.200000 </td>\n   <td style=\"text-align:right;\"> 1.0914458 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-06 </td>\n   <td style=\"text-align:left;\"> Container Ship </td>\n   <td style=\"text-align:left;\"> Long-haul </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 23.22710 </td>\n   <td style=\"text-align:right;\"> 2685.4017 </td>\n   <td style=\"text-align:right;\"> 1588.7923 </td>\n   <td style=\"text-align:right;\"> 11.721261 </td>\n   <td style=\"text-align:left;\"> Calm </td>\n   <td style=\"text-align:right;\"> 1843.4383 </td>\n   <td style=\"text-align:right;\"> 149790.2 </td>\n   <td style=\"text-align:right;\"> 615230.86 </td>\n   <td style=\"text-align:right;\"> 63.74276 </td>\n   <td style=\"text-align:right;\"> 0.4406762 </td>\n   <td style=\"text-align:right;\"> 1.4355687 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 79.45133 </td>\n   <td style=\"text-align:right;\"> 465440.65 </td>\n   <td style=\"text-align:right;\"> 930881.3 </td>\n   <td style=\"text-align:right;\"> 0.7565301 </td>\n   <td style=\"text-align:right;\"> 1230461.71 </td>\n   <td style=\"text-align:right;\"> 299580.4 </td>\n   <td style=\"text-align:right;\"> 94.27929 </td>\n   <td style=\"text-align:right;\"> 387.23178 </td>\n   <td style=\"text-align:right;\"> 292.95249 </td>\n   <td style=\"text-align:right;\"> 81.25589 </td>\n   <td style=\"text-align:right;\"> 333.74096 </td>\n   <td style=\"text-align:right;\"> 252.4851 </td>\n   <td style=\"text-align:right;\"> 159118.49 </td>\n   <td style=\"text-align:right;\"> 318236.98 </td>\n   <td style=\"text-align:right;\"> 2.4687781 </td>\n   <td style=\"text-align:left;\"> High </td>\n   <td style=\"text-align:right;\"> 5.058823 </td>\n   <td style=\"text-align:right;\"> 0.3141099 </td>\n   <td style=\"text-align:left;\"> Medium </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-13 </td>\n   <td style=\"text-align:left;\"> Fish Carrier </td>\n   <td style=\"text-align:left;\"> Short-haul </td>\n   <td style=\"text-align:left;\"> Steam Turbine </td>\n   <td style=\"text-align:left;\"> Fair </td>\n   <td style=\"text-align:right;\"> 11.63511 </td>\n   <td style=\"text-align:right;\"> 2522.6972 </td>\n   <td style=\"text-align:right;\"> 1224.8463 </td>\n   <td style=\"text-align:right;\"> 10.900540 </td>\n   <td style=\"text-align:left;\"> Moderate </td>\n   <td style=\"text-align:right;\"> 1130.6046 </td>\n   <td style=\"text-align:right;\"> 299189.3 </td>\n   <td style=\"text-align:right;\"> 749334.91 </td>\n   <td style=\"text-align:right;\"> 47.66533 </td>\n   <td style=\"text-align:right;\"> 0.4378355 </td>\n   <td style=\"text-align:right;\"> 1.1052602 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 70.50445 </td>\n   <td style=\"text-align:right;\"> 450145.58 </td>\n   <td style=\"text-align:right;\"> 4051310.3 </td>\n   <td style=\"text-align:right;\"> 0.6007268 </td>\n   <td style=\"text-align:right;\"> 6744014.23 </td>\n   <td style=\"text-align:right;\"> 2692704.0 </td>\n   <td style=\"text-align:right;\"> 244.26684 </td>\n   <td style=\"text-align:right;\"> 611.77875 </td>\n   <td style=\"text-align:right;\"> 367.51190 </td>\n   <td style=\"text-align:right;\"> 264.62772 </td>\n   <td style=\"text-align:right;\"> 662.77361 </td>\n   <td style=\"text-align:right;\"> 398.1459 </td>\n   <td style=\"text-align:right;\"> 313484.44 </td>\n   <td style=\"text-align:right;\"> 2821359.96 </td>\n   <td style=\"text-align:right;\"> 1.0607753 </td>\n   <td style=\"text-align:left;\"> High </td>\n   <td style=\"text-align:right;\"> 4.761905 </td>\n   <td style=\"text-align:right;\"> 1.3325341 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> 2023-08-20 </td>\n   <td style=\"text-align:left;\"> Tanker </td>\n   <td style=\"text-align:left;\"> Transoceanic </td>\n   <td style=\"text-align:left;\"> Diesel </td>\n   <td style=\"text-align:left;\"> Good </td>\n   <td style=\"text-align:right;\"> 18.25358 </td>\n   <td style=\"text-align:right;\"> 2129.5179 </td>\n   <td style=\"text-align:right;\"> 1311.9786 </td>\n   <td style=\"text-align:right;\"> 11.955648 </td>\n   <td style=\"text-align:left;\"> Rough </td>\n   <td style=\"text-align:right;\"> 441.2600 </td>\n   <td style=\"text-align:right;\"> 481866.3 </td>\n   <td style=\"text-align:right;\"> 738063.17 </td>\n   <td style=\"text-align:right;\"> 48.18567 </td>\n   <td style=\"text-align:right;\"> 1.2270642 </td>\n   <td style=\"text-align:right;\"> 0.9414481 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 65.98470 </td>\n   <td style=\"text-align:right;\"> 256196.91 </td>\n   <td style=\"text-align:right;\"> 1024787.6 </td>\n   <td style=\"text-align:right;\"> 0.3471206 </td>\n   <td style=\"text-align:right;\"> 2952252.69 </td>\n   <td style=\"text-align:right;\"> 1927465.0 </td>\n   <td style=\"text-align:right;\"> 367.28211 </td>\n   <td style=\"text-align:right;\"> 562.55733 </td>\n   <td style=\"text-align:right;\"> 195.27522 </td>\n   <td style=\"text-align:right;\"> 1092.02351 </td>\n   <td style=\"text-align:right;\"> 1672.62662 </td>\n   <td style=\"text-align:right;\"> 580.6031 </td>\n   <td style=\"text-align:right;\"> 380473.59 </td>\n   <td style=\"text-align:right;\"> 1521894.36 </td>\n   <td style=\"text-align:right;\"> 0.3508251 </td>\n   <td style=\"text-align:left;\"> High </td>\n   <td style=\"text-align:right;\"> 5.254237 </td>\n   <td style=\"text-align:right;\"> 0.5023352 </td>\n   <td style=\"text-align:left;\"> High </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwrite_csv(ship_data, \"data/Updated_Ship_Data.csv\")\n```\n:::\n\n\n\n\n\n## Exploratory Data Analysis\n\n### Univariate Analysis\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Example univariate histogram for Weekly_Total_Profit\nggplot(ship_data, aes(x = Weekly_Total_Profit)) +\n  geom_histogram(bins = 30, fill = \"steelblue\", color = \"white\") +\n  labs(\n    title = \"Distribution of Weekly Total Profit\",\n    x = \"Weekly Total Profit (USD)\",\n    y = \"Count\"\n  ) +\n  scale_x_continuous(labels = scales::dollar_format()) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/univariate-plots-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(ship_data, aes(y = Revenue_per_Voyage_USD)) +\n  geom_boxplot(fill = \"lightgreen\") +\n  labs(\n    title = \"Boxplot of Revenue per Voyage\",\n    y = \"Revenue (USD)\"\n  ) +\n  scale_y_continuous(labels = scales::dollar_format()) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/boxplot-univariate-1.png){width=672}\n:::\n:::\n\n\n\n\n\n### Data Distribution Insight\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggridges)\n\nggplot(ship_data, aes(x = Weekly_Total_Profit, y = Ship_Type, fill = Ship_Type)) +\n  geom_density_ridges(alpha = 0.7, scale = 1) +\n  theme_minimal() +\n  labs(\n    title = \"Distribution of Weekly Total Profit by Ship Type\",\n    x = \"Weekly Total Profit (USD)\",\n    y = \"Ship Type\"\n  ) +\n  scale_x_continuous(labels = scales::dollar_format()) +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/ridge-plot-example-1.png){width=672}\n:::\n:::\n\n\n\n\n### Bivariate Analysis\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(ship_data, aes(x = Distance_Traveled_nm, y = Operational_Cost_USD)) +\n  geom_point(aes(color = Ship_Type), alpha = 0.6) +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"black\", linetype = \"dashed\") +\n  theme_minimal() +\n  labs(\n    title = \"Operational Cost vs. Distance Traveled\",\n    x = \"Distance (NM)\",\n    y = \"Operational Cost (USD)\",\n    color = \"Ship Type\"\n  ) +\n  scale_y_continuous(labels = scales::dollar_format())\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/scatter-plot-1.png){width=672}\n:::\n:::\n\n\n\n\n\n### Correlation Heatmap\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(GGally)\n\nship_data_num <- ship_data %>%\n  select(Weekly_Total_Profit, Speed_Over_Ground_knots, Engine_Power_kW,\n         Average_Load_Percentage, Cost_per_Ton, Revenue_per_Ton, Profit_per_Ton) %>%\n  na.omit()\n\nggpairs(ship_data_num)\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/correlation-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\n\n\n### K-Mean Clustering\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidymodels)\n\nfeatures <- ship_data %>%\n  select(Cost_per_Ton, Revenue_per_Ton, Profit_per_Ton,\n         Weekly_Total_Profit, Speed_Over_Ground_knots, Average_Load_Percentage) %>%\n  na.omit()\n\n# Scale the data\nscaled_features <- recipe(~ ., data = features) %>%\n  step_normalize(all_predictors()) %>%\n  prep() %>%\n  bake(new_data = NULL)\n\nhead(scaled_features)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 6\n  Cost_per_Ton Revenue_per_Ton Profit_per_Ton Weekly_Total_Profit\n         <dbl>           <dbl>          <dbl>               <dbl>\n1        3.08            3.11           1.89                0.583\n2        2.52            0.880         -0.715              -0.985\n3       -0.410          -0.612         -0.522              -0.813\n4        0.768           1.14           0.973               0.965\n5       -0.476          -0.366         -0.136               1.53 \n6       -0.145          -0.218         -0.187              -0.223\n# ℹ 2 more variables: Speed_Over_Ground_knots <dbl>,\n#   Average_Load_Percentage <dbl>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwss_values <- map_dbl(1:10, function(k){\n  kmeans(scaled_features, centers = k, nstart = 10)$tot.withinss\n})\n\nqplot(1:10, wss_values, geom = \"line\") +\n  geom_point() +\n  labs(\n    title = \"Elbow Method for K Means\",\n    x = \"Number of Clusters (k)\",\n    y = \"Total Within-Cluster Sum of Squares\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/elbow-method-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(factoextra)\n\nset.seed(123)  # For reproducibility\nk <- 3\nkmeans_model <- kmeans(scaled_features, centers = k, nstart = 10)\n\nfviz_cluster(kmeans_model, data = scaled_features,\n             geom = \"point\",\n             ellipse.type = \"norm\",\n             main = paste(\"K-Means Clustering (k =\", k, \")\"))\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/kmeans-cluster-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data %>%\n  ExpNumViz(target=NULL,\n            nlim=10,\n            Page=c(2,2))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$`0`\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-21-2.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-21-3.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-21-4.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-21-5.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-21-6.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-21-7.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data %>%\n  ExpNumViz(target=\"Net_Profit\",\n            nlim=10,\n            Page=c(2,2)) #, theme=\"default\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$`0`\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-22-2.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-22-3.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-22-4.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-22-5.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-22-6.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-22-7.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nship_data %>%\n  ExpCatViz(target=NULL,\n            col = \"sky blue\",\n            clim=10,\n            margin=2,\n            Page=c(2,2),\n            sample=8)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$`0`\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-23-1.png){width=1152}\n:::\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/unnamed-chunk-23-2.png){width=1152}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncat_cols <- sapply(ship_data, function(x) is.character(x) || is.factor(x))\nnum_categorical_vars <- sum(cat_cols)\n\nnum_categorical_vars\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncat_cols <- sapply(ship_data, function(x) is.character(x) || is.factor(x))\nship_data[ , cat_cols]  # Shows only the categorical columns\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2,127 × 8\n   Date    Ship_Type Route_Type Engine_Type Maintenance_Status Weather_Condition\n   <chr>   <chr>     <chr>      <chr>       <chr>              <chr>            \n 1 2023-0… Fish Car… Short-haul Steam Turb… Good               Rough            \n 2 2023-0… Containe… Long-haul  Diesel      Fair               Moderate         \n 3 2023-0… Bulk Car… Transocea… Steam Turb… Fair               Moderate         \n 4 2023-0… Fish Car… Transocea… Diesel      Fair               Moderate         \n 5 2023-0… Fish Car… Long-haul  Heavy Fuel… Fair               Rough            \n 6 2023-0… Fish Car… Transocea… Heavy Fuel… Critical           Rough            \n 7 2023-0… Containe… Short-haul Diesel      Critical           Moderate         \n 8 2023-0… Containe… Long-haul  Diesel      Fair               Calm             \n 9 2023-0… Fish Car… Short-haul Steam Turb… Fair               Moderate         \n10 2023-0… Tanker    Transocea… Diesel      Good               Rough            \n# ℹ 2,117 more rows\n# ℹ 2 more variables: Voyage_Performance_Label <chr>,\n#   Weekly_Frequency_Utilization_Label <chr>\n```\n\n\n:::\n:::\n\n\n\n\n\n### Boxplots of Key Financial Metrics\n\nThese boxplots provide a concise overview of the distribution and potential outliers in net profit, revenue, operational cost, and profit margin. Visually, you can see where most voyages cluster (the boxes) along with any extreme values (the outliers). For instance, if the net profit boxplot shows a long upper whisker or multiple outliers, it suggests a small number of highly profitable voyages skewing the distribution. Conversely, a collection of outliers below the box indicates that certain voyages are particularly unprofitable or costly. Such deviations from the bulk of the data prompt further investigation into route choices, operational constraints, or pricing strategies that may be causing significant performance differences.\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(patchwork)\nlibrary(scales)\n\n# 1. Determine a common scale range for Net Profit, Revenue, and Cost\ncommon_min <- 0\ncommon_max <- max(\n  ship_data$Net_Profit,\n  ship_data$Revenue_per_Voyage_USD,\n  ship_data$Operational_Cost_USD,\n  na.rm = TRUE\n)\n\n# 2. Build the boxplots for p1, p2, p3 with the same y-axis limits\np1 <- ggplot(ship_data, aes(y = Net_Profit)) +\n  geom_boxplot(fill = \"steelblue\", alpha = 0.7, outlier.shape = 19) +\n  scale_y_continuous(\n    limits = c(common_min, common_max),\n    labels = comma_format(scale = 1/1000, suffix = \"K\"),\n    name   = \"Net Profit (in thousands USD)\"\n  ) +\n  theme_minimal() +\n  labs(title = \"Net Profit\")\n\np2 <- ggplot(ship_data, aes(y = Revenue_per_Voyage_USD)) +\n  geom_boxplot(fill = \"salmon\", alpha = 0.7, outlier.shape = 19) +\n  scale_y_continuous(\n    limits = c(common_min, common_max),\n    labels = comma_format(scale = 1/1000, suffix = \"K\"),\n    name   = \"Revenue (in thousands USD)\"\n  ) +\n  theme_minimal() +\n  labs(title = \"Revenue per Voyage\")\n\np3 <- ggplot(ship_data, aes(y = Operational_Cost_USD)) +\n  geom_boxplot(fill = \"darkgreen\", alpha = 0.7, outlier.shape = 19) +\n  scale_y_continuous(\n    limits = c(common_min, common_max),\n    labels = comma_format(scale = 1/1000, suffix = \"K\"),\n    name   = \"Cost (in thousands USD)\"\n  ) +\n  theme_minimal() +\n  labs(title = \"Operational Cost per Voyage\")\n\n# 3. Profit Margin uses its original scale\np4 <- ggplot(ship_data, aes(y = Profit_Margin)) +\n  geom_boxplot(fill = \"orchid\", alpha = 0.7, outlier.shape = 19) +\n  labs(\n    title = \"Profit Margin\",\n    y = \"Ratio (e.g., 0.2 = 20%)\"\n  ) +\n  theme_minimal()\n\n# 4. Arrange p1, p2, p3 in one row, and p4 in another\n(p1 + p2 + p3) /\n  p4\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/shared-scales-1.png){width=1152}\n:::\n:::\n\n\n\n\n\n\n\n\n### Weekly Totals & Revenue Leakage Boxplots\n\nThese four boxplots give a clear snapshot of how each voyage’s weekly revenue, costs, profit, and potential revenue loss compare across the dataset. The Weekly Total Revenue and Weekly Total Operational Cost plots help identify whether certain weeks stand out for unusually high or low financial throughput, while the Weekly Total Profit plot highlights weeks where cost efficiency translates into strong bottom lines—or where repeated unprofitable voyages magnify losses. The Revenue Leakage boxplot pinpoints how much potential revenue is lost if load factors are suboptimal, shining a light on opportunities to better utilize capacity.\n\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(patchwork)\nlibrary(scales)\n\n# 1. Compute a shared y-range based on the max across all columns of interest\ny_min <- 0\ny_max <- max(\n  ship_data$Weekly_Total_Revenue,\n  ship_data$Weekly_Total_Operational_Cost,\n  ship_data$Weekly_Total_Profit,\n  ship_data$Weekly_Revenue_Leakage,\n  na.rm = TRUE\n)\n\n# 2. Define helper for scale in thousands\nscale_thousands <- scale_y_continuous(\n  limits = c(y_min, y_max),\n  labels = comma_format(scale = 1/1000, suffix = \"K\")\n)\n\n# 3. Build each boxplot using the common y scale\np1 <- ggplot(ship_data, aes(y = Weekly_Total_Revenue)) +\n  geom_boxplot(fill = \"steelblue\", alpha = 0.7, outlier.shape = 19) +\n  scale_thousands +\n  labs(\n    title = \"Weekly Total Revenue\",\n    y = \"Revenue (in thousands USD)\"\n  ) +\n  theme_minimal()\n\np2 <- ggplot(ship_data, aes(y = Weekly_Total_Operational_Cost)) +\n  geom_boxplot(fill = \"salmon\", alpha = 0.7, outlier.shape = 19) +\n  scale_thousands +\n  labs(\n    title = \"Weekly Total Operational Cost\",\n    y = \"Cost (in thousands USD)\"\n  ) +\n  theme_minimal()\n\np3 <- ggplot(ship_data, aes(y = Weekly_Total_Profit)) +\n  geom_boxplot(fill = \"darkgreen\", alpha = 0.7, outlier.shape = 19) +\n  scale_thousands +\n  labs(\n    title = \"Weekly Total Profit\",\n    y = \"Profit (in thousands USD)\"\n  ) +\n  theme_minimal()\n\np4 <- ggplot(ship_data, aes(y = Weekly_Revenue_Leakage)) +\n  geom_boxplot(fill = \"orchid\", alpha = 0.7, outlier.shape = 19) +\n  scale_thousands +\n  labs(\n    title = \"Weekly Revenue Leakage\",\n    y = \"Leakage (in thousands USD)\"\n  ) +\n  theme_minimal()\n\n# 4. Arrange them in a single row (4 columns)\n(p1 + p2 + p3 + p4) +\n  plot_layout(ncol = 4)\n```\n\n::: {.cell-output-display}\n![](Take-home_Ex01-copy_files/figure-html/boxplots-uniform-scale-1.png){width=1536}\n:::\n:::\n",
    "supporting": [
      "Take-home_Ex01-copy_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}