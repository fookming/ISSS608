<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ee Fook Ming">
<meta name="dcterms.date" content="2025-02-08">

<title>Take Home Exercise 01 – ISSS608</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-6bd9cfa162949bde0a231f530c97869d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex00/Hands-on_Ex00.html">
 <span class="dropdown-text">Hands-on Exercise 0</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html">
 <span class="dropdown-text">Hands-on Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html">
 <span class="dropdown-text">Hands-on Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html">
 <span class="dropdown-text">Hands-on Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex06.html">
 <span class="dropdown-text">Hands-on Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07/Hands-on_Ex07.html">
 <span class="dropdown-text">Hands-on Exercise 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex08/Hands-on_Ex08.html">
 <span class="dropdown-text">Hands-on Exercise 8</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex09/Hands-on_Ex09.html">
 <span class="dropdown-text">Hands-on Exercise 9</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-class Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/app/profile/fook.ming.ee/viz/In-classEx01_17377902282300/Dashboard1">
 <span class="dropdown-text">In-class Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/app/profile/fook.ming.ee/viz/In-classEx02_17377901895230/Dashboard2">
 <span class="dropdown-text">In-class Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/app/profile/fook.ming.ee/viz/In-classEx03-MyFirstStory/Story1">
 <span class="dropdown-text">In-class Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html">
 <span class="dropdown-text">In-class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html">
 <span class="dropdown-text">In-class Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/app/profile/fook.ming.ee/viz/In-class_Ex05_Tableau_21/Sheet1">
 <span class="dropdown-text">In-class Exercise 5 - Tableau Heatmap 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/app/profile/fook.ming.ee/viz/In-class_Ex05_Tableau_22/Sheet2">
 <span class="dropdown-text">In-class Exercise 5 - Tableau Heatmap 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://isss608eefm.shinyapps.io/In-class_Ex06/">
 <span class="dropdown-text">In-class Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex07/In-class_Ex07.html">
 <span class="dropdown-text">In-class Exercise 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/app/profile/fook.ming.ee/viz/In-class_Ex08_1_17420459719190/SingaporePool">
 <span class="dropdown-text">In-class Exercise 8 - Tableau Map-1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://public.tableau.com/app/profile/fook.ming.ee/viz/In-class_Ex08_2_17420215082800/SingaporePropertyProjectType2018">
 <span class="dropdown-text">In-class Exercose 8 - Tableau Map-2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-home Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a>
  <ul class="collapse">
  <li><a href="#key-observations-from-the-map" id="toc-key-observations-from-the-map" class="nav-link" data-scroll-target="#key-observations-from-the-map"><span class="header-section-number">1.1</span> Key Observations from the Map</a></li>
  <li><a href="#relevance-to-this-assignment" id="toc-relevance-to-this-assignment" class="nav-link" data-scroll-target="#relevance-to-this-assignment"><span class="header-section-number">1.2</span> Relevance to This Assignment</a></li>
  </ul></li>
  <li><a href="#background-and-content" id="toc-background-and-content" class="nav-link" data-scroll-target="#background-and-content"><span class="header-section-number">2</span> Background and Content</a>
  <ul class="collapse">
  <li><a href="#maritime-significance-of-the-gulf-of-guinea" id="toc-maritime-significance-of-the-gulf-of-guinea" class="nav-link" data-scroll-target="#maritime-significance-of-the-gulf-of-guinea"><span class="header-section-number">2.1</span> Maritime Significance of the Gulf of Guinea</a></li>
  <li><a href="#data-overview" id="toc-data-overview" class="nav-link" data-scroll-target="#data-overview"><span class="header-section-number">2.2</span> Data Overview</a>
  <ul class="collapse">
  <li><a href="#understanding-the-dataset" id="toc-understanding-the-dataset" class="nav-link" data-scroll-target="#understanding-the-dataset"><span class="header-section-number">2.2.1</span> Understanding the Dataset</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><span class="header-section-number">2.2.2</span> Summary</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#load-explore-the-dataset" id="toc-load-explore-the-dataset" class="nav-link" data-scroll-target="#load-explore-the-dataset"><span class="header-section-number">3</span> Load &amp; Explore the Dataset</a>
  <ul class="collapse">
  <li><a href="#loading-libraries" id="toc-loading-libraries" class="nav-link" data-scroll-target="#loading-libraries"><span class="header-section-number">3.1</span> Loading Libraries</a></li>
  <li><a href="#essential-r-packages-for-data-science-and-visualization" id="toc-essential-r-packages-for-data-science-and-visualization" class="nav-link" data-scroll-target="#essential-r-packages-for-data-science-and-visualization"><span class="header-section-number">3.2</span> Essential R Packages for Data Science and Visualization</a>
  <ul class="collapse">
  <li><a href="#core-data-science-libraries" id="toc-core-data-science-libraries" class="nav-link" data-scroll-target="#core-data-science-libraries"><span class="header-section-number">3.2.1</span> Core Data Science Libraries</a></li>
  <li><a href="#visualization-enhancements-for-ggplot2" id="toc-visualization-enhancements-for-ggplot2" class="nav-link" data-scroll-target="#visualization-enhancements-for-ggplot2"><span class="header-section-number">3.2.2</span> Visualization Enhancements for ggplot2</a></li>
  </ul></li>
  <li><a href="#loading-the-libraries-using-pacman" id="toc-loading-the-libraries-using-pacman" class="nav-link" data-scroll-target="#loading-the-libraries-using-pacman"><span class="header-section-number">3.3</span> Loading the libraries using Pacman</a></li>
  <li><a href="#load-inspect-data" id="toc-load-inspect-data" class="nav-link" data-scroll-target="#load-inspect-data"><span class="header-section-number">3.4</span> Load &amp; Inspect Data</a>
  <ul class="collapse">
  <li><a href="#data-overview-1" id="toc-data-overview-1" class="nav-link" data-scroll-target="#data-overview-1"><span class="header-section-number">3.4.1</span> Data Overview</a></li>
  <li><a href="#glimpse-the-data" id="toc-glimpse-the-data" class="nav-link" data-scroll-target="#glimpse-the-data"><span class="header-section-number">3.4.2</span> Glimpse the Data</a></li>
  <li><a href="#inspect-unique-values-of-categorical-data" id="toc-inspect-unique-values-of-categorical-data" class="nav-link" data-scroll-target="#inspect-unique-values-of-categorical-data"><span class="header-section-number">3.4.3</span> Inspect Unique Values of Categorical Data</a></li>
  <li><a href="#checking-for-valuenone-in-categorical-data" id="toc-checking-for-valuenone-in-categorical-data" class="nav-link" data-scroll-target="#checking-for-valuenone-in-categorical-data"><span class="header-section-number">3.4.4</span> Checking for value=“None” in Categorical Data</a></li>
  <li><a href="#removing-rows-with-none-in-the-categorical-columns" id="toc-removing-rows-with-none-in-the-categorical-columns" class="nav-link" data-scroll-target="#removing-rows-with-none-in-the-categorical-columns"><span class="header-section-number">3.4.5</span> Removing Rows with None in the Categorical Columns</a></li>
  </ul></li>
  <li><a href="#new-variables-created-for-analysis" id="toc-new-variables-created-for-analysis" class="nav-link" data-scroll-target="#new-variables-created-for-analysis"><span class="header-section-number">3.5</span> New Variables Created for Analysis</a>
  <ul class="collapse">
  <li><a href="#revenue-leakage-estimates-from-average_load_percentage" id="toc-revenue-leakage-estimates-from-average_load_percentage" class="nav-link" data-scroll-target="#revenue-leakage-estimates-from-average_load_percentage"><span class="header-section-number">3.5.1</span> Revenue Leakage Estimates from Average_Load_Percentage</a></li>
  <li><a href="#voyage-utilization-score" id="toc-voyage-utilization-score" class="nav-link" data-scroll-target="#voyage-utilization-score"><span class="header-section-number">3.5.2</span> Voyage Utilization Score</a></li>
  <li><a href="#weekly-voyage-frequency-by-ship-type-and-route-type" id="toc-weekly-voyage-frequency-by-ship-type-and-route-type" class="nav-link" data-scroll-target="#weekly-voyage-frequency-by-ship-type-and-route-type"><span class="header-section-number">3.5.3</span> Weekly Voyage Frequency by Ship Type and Route Type</a></li>
  <li><a href="#weekly-frequency-utilization-score" id="toc-weekly-frequency-utilization-score" class="nav-link" data-scroll-target="#weekly-frequency-utilization-score"><span class="header-section-number">3.5.4</span> Weekly Frequency Utilization Score</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis"><span class="header-section-number">4</span> Exploratory Data Analysis</a>
  <ul class="collapse">
  <li><a href="#univariate-analysis---histograms-of-key-profitability-metrics" id="toc-univariate-analysis---histograms-of-key-profitability-metrics" class="nav-link" data-scroll-target="#univariate-analysis---histograms-of-key-profitability-metrics"><span class="header-section-number">4.1</span> Univariate Analysis - Histograms of Key Profitability Metrics</a></li>
  <li><a href="#data-distribution-insight" id="toc-data-distribution-insight" class="nav-link" data-scroll-target="#data-distribution-insight"><span class="header-section-number">4.2</span> Data Distribution Insight</a>
  <ul class="collapse">
  <li><a href="#by-ship" id="toc-by-ship" class="nav-link" data-scroll-target="#by-ship"><span class="header-section-number">4.2.1</span> By Ship</a></li>
  <li><a href="#by-ship_type-and-route_type" id="toc-by-ship_type-and-route_type" class="nav-link" data-scroll-target="#by-ship_type-and-route_type"><span class="header-section-number">4.2.2</span> By Ship_Type and Route_Type</a></li>
  </ul></li>
  <li><a href="#pairwise-correlation-of-key-profit-cost-features" id="toc-pairwise-correlation-of-key-profit-cost-features" class="nav-link" data-scroll-target="#pairwise-correlation-of-key-profit-cost-features"><span class="header-section-number">4.3</span> Pairwise Correlation of Key Profit &amp; Cost Features</a></li>
  <li><a href="#k-mean-clustering" id="toc-k-mean-clustering" class="nav-link" data-scroll-target="#k-mean-clustering"><span class="header-section-number">4.4</span> K-Mean Clustering</a>
  <ul class="collapse">
  <li><a href="#clustering-conclusion" id="toc-clustering-conclusion" class="nav-link" data-scroll-target="#clustering-conclusion"><span class="header-section-number">4.4.1</span> Clustering Conclusion</a></li>
  </ul></li>
  <li><a href="#numeric-variable-distributions" id="toc-numeric-variable-distributions" class="nav-link" data-scroll-target="#numeric-variable-distributions"><span class="header-section-number">4.5</span> Numeric Variable Distributions</a></li>
  <li><a href="#pairwise-visualization-with-net-profit" id="toc-pairwise-visualization-with-net-profit" class="nav-link" data-scroll-target="#pairwise-visualization-with-net-profit"><span class="header-section-number">4.6</span> Pairwise Visualization with Net Profit</a></li>
  <li><a href="#categorical-feature-summary" id="toc-categorical-feature-summary" class="nav-link" data-scroll-target="#categorical-feature-summary"><span class="header-section-number">4.7</span> Categorical Feature Summary</a></li>
  <li><a href="#boxplots-of-key-financial-metrics" id="toc-boxplots-of-key-financial-metrics" class="nav-link" data-scroll-target="#boxplots-of-key-financial-metrics"><span class="header-section-number">4.8</span> Boxplots of Key Financial Metrics</a></li>
  <li><a href="#weekly-totals-revenue-leakage-boxplots" id="toc-weekly-totals-revenue-leakage-boxplots" class="nav-link" data-scroll-target="#weekly-totals-revenue-leakage-boxplots"><span class="header-section-number">4.9</span> Weekly Totals &amp; Revenue Leakage Boxplots</a></li>
  <li><a href="#revenue-distribution-across-ship-type-route-engine-type-and-weather-conditions" id="toc-revenue-distribution-across-ship-type-route-engine-type-and-weather-conditions" class="nav-link" data-scroll-target="#revenue-distribution-across-ship-type-route-engine-type-and-weather-conditions"><span class="header-section-number">4.10</span> Revenue Distribution Across Ship Type, Route, Engine Type, and Weather Conditions</a></li>
  <li><a href="#smoothed-revenue-trends-by-operational-cost-overall-and-faceted-by-ship-type" id="toc-smoothed-revenue-trends-by-operational-cost-overall-and-faceted-by-ship-type" class="nav-link" data-scroll-target="#smoothed-revenue-trends-by-operational-cost-overall-and-faceted-by-ship-type"><span class="header-section-number">4.11</span> Smoothed Revenue Trends by Operational Cost (Overall and Faceted by Ship Type)</a></li>
  </ul></li>
  <li><a href="#quarterly-sales-vs.-profit-by-ship-route" id="toc-quarterly-sales-vs.-profit-by-ship-route" class="nav-link" data-scroll-target="#quarterly-sales-vs.-profit-by-ship-route"><span class="header-section-number">5</span> Quarterly Sales vs.&nbsp;Profit by Ship-Route</a></li>
  <li><a href="#summary-conclusion" id="toc-summary-conclusion" class="nav-link" data-scroll-target="#summary-conclusion"><span class="header-section-number">6</span> Summary &amp; Conclusion</a>
  <ul class="collapse">
  <li><a href="#overall-conclusion" id="toc-overall-conclusion" class="nav-link" data-scroll-target="#overall-conclusion"><span class="header-section-number">6.1</span> Overall Conclusion</a></li>
  </ul></li>
  <li><a href="#future-research" id="toc-future-research" class="nav-link" data-scroll-target="#future-research"><span class="header-section-number">7</span> Future Research</a></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix"><span class="header-section-number">8</span> Appendix:</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take Home Exercise 01</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ee Fook Ming </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 8, 2025</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">February 28, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<p><span style="font-size: 44px; font-weight: bold;">Overview and Background: Ship Performance in the Gulf of Guinea</span></p>
<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introduction</h1>
<p>The maritime industry is a cornerstone of global trade, ensuring the smooth transportation of goods across continents. The efficient performance of ships is crucial to optimizing fuel consumption, minimizing operational costs, and maximizing revenue. This assignment explores ship performance trends using the Ship Performance Clustering Dataset, focusing on ships operating in the Gulf of Guinea—a vital maritime region known for its economic and strategic importance.</p>
<p>By analyzing ship performance metrics such as speed, efficiency, operational cost, and revenue, we aim to uncover insights that can enhance operational decision-making. This study employs data visualization techniques to identify key patterns, trends, and potential optimizations in ship performance.</p>
<p><img src="images/clipboard-4268411684.png" class="img-fluid"></p>
<section id="key-observations-from-the-map" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="key-observations-from-the-map"><span class="header-section-number">1.1</span> Key Observations from the Map</h2>
<p><strong>Countries Surrounding the Gulf of Guinea</strong></p>
<ul>
<li>The Gulf of Guinea is bordered by West and Central African nations, including: Nigeria, Ghana, Ivory Coast, Liberia, Senegal, Benin, Togo, Cameroon, Gabon, Angola, Equatorial Guinea, and the Democratic Republic of the Congo.</li>
<li>These countries rely heavily on ports, fishing, and offshore oil production.</li>
</ul>
<p><strong>Strategic Maritime Significance</strong></p>
<ul>
<li>The Niger Delta, highlighted in yellow, is a key oil-producing region in Nigeria, contributing to the global energy supply.</li>
<li>The ports along the Gulf of Guinea serve as major hubs for international trade, handling large volumes of cargo and oil shipments.</li>
</ul>
<p><strong>Security Concerns:</strong></p>
<ul>
<li>The Gulf of Guinea is a hotspot for maritime piracy, especially near Nigeria, Cameroon, and Ghana.</li>
<li>Ships navigating these waters often face security risks, requiring escort vessels, naval patrols, and advanced tracking systems.</li>
</ul>
<p><strong>Shipping and Economic Importance</strong></p>
<ul>
<li>The Atlantic Ocean shipping lanes passing through the Gulf of Guinea connect Africa to Europe, Asia, and the Americas.</li>
<li>Major exports include crude oil, liquefied natural gas (LNG), timber, cocoa, and fish.</li>
</ul>
</section>
<section id="relevance-to-this-assignment" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="relevance-to-this-assignment"><span class="header-section-number">1.2</span> Relevance to This Assignment</h2>
<p>For an analysis of ship performance <strong>in terms of profitability</strong> in the Gulf of Guinea, it would involve integrating the following tasks:</p>
<ol type="1">
<li><p>Route efficiency for profit optimization: Compare vessel performance and profit margins across short-haul, long-haul, and transoceanic routes. Identify which routes yield the highest returns relative to operational costs.</p></li>
<li><p>Weather impact on profitability: Examine how adverse conditions (e.g., storms, rough seas) influence speed, fuel consumption, and ultimately, voyage revenue and profitability.</p></li>
<li><p>Operational cost variations: Investigate differences in costs tied to fuel prices, maintenance, and shipping lanes to pinpoint opportunities for cost savings and revenue maximization.</p></li>
</ol>
</section>
</section>
<section id="background-and-content" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Background and Content</h1>
<section id="maritime-significance-of-the-gulf-of-guinea" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="maritime-significance-of-the-gulf-of-guinea"><span class="header-section-number">2.1</span> Maritime Significance of the Gulf of Guinea</h2>
<p>The Gulf of Guinea serves as a major maritime trade route, connecting West Africa to global markets. The region hosts various types of commercial ships, including tankers, container ships, and bulk carriers, each operating under different economic and environmental conditions. Given the challenges posed by fuel costs, maintenance, and weather conditions, shipowners and operators constantly seek ways to improve efficiency while reducing operational expenses.</p>
</section>
<section id="data-overview" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="data-overview"><span class="header-section-number">2.2</span> Data Overview</h2>
<p>The dataset used in this study is a synthetic but realistic representation of maritime operations. The key attributes include:</p>
<ul>
<li>Speed Over Ground (knots)</li>
<li>Distance Traveled (nautical miles)</li>
<li>Engine Power (kW)</li>
<li>Operational Cost per Voyage (USD)</li>
<li>Revenue per Voyage (USD)</li>
<li>Efficiency (nautical miles per kilowatt-hour)</li>
<li>Ship Type, Route Type, Engine Type, and Maintenance Status</li>
</ul>
<p>This dataset provides a rich foundation for exploratory data analysis (EDA), clustering analysis, and performance optimization.</p>
<section id="understanding-the-dataset" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="understanding-the-dataset"><span class="header-section-number">2.2.1</span> Understanding the Dataset</h3>
<p>This dataset consists of 2736 rows and 18 columns, categorized into numerical and categorical features. Key attributes include:</p>
<section id="numerical-features-12-columns" class="level4" data-number="2.2.1.1">
<h4 data-number="2.2.1.1" class="anchored" data-anchor-id="numerical-features-12-columns"><span class="header-section-number">2.2.1.1</span> Numerical Features (12 Columns)</h4>
<ol type="1">
<li>Speed_Over_Ground_knots – Ship speed over water (knots)</li>
<li>Engine_Power_kW – Engine power output (kilowatts)</li>
<li>Distance_Traveled_nm – Distance traveled per voyage (nautical miles)</li>
<li>Draft_meters – The vertical distance from the waterline to the bottom of the hull (meters)</li>
<li>Cargo_Weight_tons – Weight of the cargo transported (metric tons)</li>
<li>Operational_Cost_USD – Cost per voyage (USD)</li>
<li>Revenue_per_Voyage_USD – Revenue per voyage (USD)</li>
<li>Turnaround_Time_hours – Time spent in port between arrival and departure (hours)</li>
<li>Efficiency_nm_per_kWh – Energy efficiency in nautical miles per kilowatt-hour</li>
<li>Seasonal_Impact_Score – Factor capturing how seasonal conditions affect operations (e.g., ice, monsoons)</li>
<li>Weekly_Voyage_Count – Number of voyages carried out on a weekly basis</li>
<li>Average_Load_Percentage – Percentage of the ship’s cargo capacity utilized per voyage</li>
</ol>
</section>
<section id="categorical-features-5-columns" class="level4" data-number="2.2.1.2">
<h4 data-number="2.2.1.2" class="anchored" data-anchor-id="categorical-features-5-columns"><span class="header-section-number">2.2.1.2</span> Categorical Features (5 Columns)</h4>
<ol type="1">
<li>Ship_Type – Type of the ship (e.g., Container Ship, Fish Carrier, Bulk Carrier)</li>
<li>Route_Type – Type of route (e.g., Short-haul, Long-haul, Transoceanic)</li>
<li>Engine_Type – Type of engine/fuel (e.g., Diesel, Heavy Fuel Oil, Steam Turbine)</li>
<li>Maintenance_Status – Overall maintenance condition (e.g., Good, Fair, Critical)</li>
<li>Weather_Condition – Weather or sea state during the voyage (e.g., Calm, Moderate, Rough)</li>
</ol>
</section>
</section>
<section id="summary" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="summary"><span class="header-section-number">2.2.2</span> Summary</h3>
<ul>
<li>Total Columns: 18</li>
<li>Breakdown by Data Type:
<ul>
<li>Date/Time: 1 column (Date)</li>
<li>Numeric: 12 columns (e.g., Speed_Over_Ground_knots, Cargo_Weight_tons)</li>
<li>Categorical: 5 columns (e.g., Ship_Type, Engine_Type)</li>
</ul></li>
</ul>
<p>These columns collectively capture operational, financial, and environmental factors that can be used to measure profitability and optimize operational efficiency. By examining the interplay between operational costs, revenue, speed, and fuel consumption—and factoring in variables like maintenance status, seasonal impact, and route characteristics—shipping companies gain actionable insights into how best to manage costs, improve turnaround times, and increase revenue. This, in turn, supports data-driven decisions aimed at maximizing margins, minimizing environmental impact, and ensuring sustainable, efficient voyages.</p>
</section>
</section>
</section>
<section id="load-explore-the-dataset" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Load &amp; Explore the Dataset</h1>
<ul>
<li>Loading the required libraries</li>
<li>Loading the dataset into R.</li>
<li>Checking the structure (columns, data types).</li>
<li>Identifying missing values and duplicates.</li>
</ul>
<section id="loading-libraries" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="loading-libraries"><span class="header-section-number">3.1</span> Loading Libraries</h2>
</section>
<section id="essential-r-packages-for-data-science-and-visualization" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="essential-r-packages-for-data-science-and-visualization"><span class="header-section-number">3.2</span> Essential R Packages for Data Science and Visualization</h2>
<p>This document provides an overview of essential R packages commonly used for data science, data visualization, and dynamic reporting.</p>
<section id="core-data-science-libraries" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="core-data-science-libraries"><span class="header-section-number">3.2.1</span> Core Data Science Libraries</h3>
<ul>
<li><a href="https://www.tidyverse.org/"><strong>tidyverse</strong></a>: A collection of integrated packages designed for modern data science workflows, including data import, tidying, transformation, visualization, and modeling.</li>
<li><a href="https://haven.tidyverse.org/"><strong>haven</strong></a>: Enables R to read and write data stored in SAS, SPSS, and Stata formats, ensuring seamless interoperability with statistical software.</li>
<li><a href="https://yihui.org/knitr/"><strong>knitr</strong></a>: Facilitates dynamic report generation, allowing users to embed R code in markdown and generate high-quality documents.</li>
</ul>
</section>
<section id="visualization-enhancements-for-ggplot2" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="visualization-enhancements-for-ggplot2"><span class="header-section-number">3.2.2</span> Visualization Enhancements for ggplot2</h3>
<ul>
<li><a href="https://patchwork.data-imaginist.com/"><strong>patchwork</strong></a>: Simplifies the arrangement of multiple ggplot2-based visualizations into composite figures for improved storytelling.</li>
<li><a href="https://jrnold.github.io/ggthemes/"><strong>ggthemes</strong></a>: Provides additional themes, scales, and geoms to enhance the appearance of ggplot2 visualizations.</li>
<li><a href="https://scales.r-lib.org/"><strong>scales</strong></a>: Supports improved data labeling, annotation, and scale transformations for ggplot2.</li>
<li><a href="https://wilkelab.org/ggridges/"><strong>ggridges</strong></a>: Enables the creation of ridgeline plots, useful for visualizing distribution changes over time or across categories.</li>
<li><a href="https://rpkgs.datanovia.com/ggpubr/"><strong>ggpubr</strong></a>: Provides functions for creating publication-ready plots with minimal effort.</li>
<li><a href="https://gganimate.com/"><strong>gganimate</strong></a>: Extends ggplot2 to include animation, making it possible to visualize dynamic data over time.</li>
<li><a href="https://mjskay.github.io/ggdist/"><strong>ggdist</strong></a>: Offers enhanced tools for visualizing statistical distributions and uncertainties in data.</li>
<li><a href="https://wilkelab.org/ggtext/"><strong>ggtext</strong></a>: Enhances text rendering and formatting in ggplot2 visualizations.</li>
<li><a href="https://github.com/hrbrmstr/ggalt"><strong>ggalt</strong></a>: A collection of additional geoms, coordinates, and statistics that extend ggplot2 capabilities.</li>
<li><a href="https://cran.r-project.org/package=ggExtra"><strong>ggextra</strong></a>: Adds marginal plots and supplementary visual elements to ggplot2 graphics.</li>
<li><a href="https://wilkelab.org/cowplot/"><strong>cowplot</strong></a>: Provides tools for creating publication-quality figures, including alignment functions and themes for consistent presentation.</li>
<li><a href="https://github.com/eliocamp/ggnewscale"><strong>ggnewscale</strong></a>: Allows the definition of multiple independent scales within a single ggplot2 visualization, useful for complex multivariate plots.</li>
</ul>
</section>
</section>
<section id="loading-the-libraries-using-pacman" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="loading-the-libraries-using-pacman"><span class="header-section-number">3.3</span> Loading the libraries using Pacman</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               ggplot2, </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               skimr,  <span class="co"># For data summary </span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>               janitor, <span class="co"># For cleaning column names</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>               SmartEDA,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>               easystats,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>               gtsummary,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>               ggstatsplot,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>               knitr,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>               kableExtra,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>               patchwork,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>               GGally,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>               ggridges,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>               lubridate,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>               scales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-inspect-data" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="load-inspect-data"><span class="header-section-number">3.4</span> Load &amp; Inspect Data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/Ship_Performance_Dataset.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="data-overview-1" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="data-overview-1"><span class="header-section-number">3.4.1</span> Data Overview</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ExpData</span>(<span class="at">type =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                          Descriptions     Value
1                                   Sample size (nrow)      2736
2                              No. of variables (ncol)        18
3                    No. of numeric/interger variables        12
4                              No. of factor variables         0
5                                No. of text variables         6
6                             No. of logical variables         0
7                          No. of identifier variables        11
8                                No. of date variables         0
9             No. of zero variance variables (uniform)         0
10               %. of variables having complete cases 100% (18)
11   %. of variables having &gt;0% and &lt;50% missing cases    0% (0)
12 %. of variables having &gt;=50% and &lt;90% missing cases    0% (0)
13          %. of variables having &gt;=90% missing cases    0% (0)</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ExpData</span>(<span class="at">type =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Index           Variable_Name Variable_Type Sample_n Missing_Count
1      1                    Date     character     2736             0
2      2               Ship_Type     character     2736             0
3      3              Route_Type     character     2736             0
4      4             Engine_Type     character     2736             0
5      5      Maintenance_Status     character     2736             0
6      6 Speed_Over_Ground_knots       numeric     2736             0
7      7         Engine_Power_kW       numeric     2736             0
8      8    Distance_Traveled_nm       numeric     2736             0
9      9            Draft_meters       numeric     2736             0
10    10       Weather_Condition     character     2736             0
11    11       Cargo_Weight_tons       numeric     2736             0
12    12    Operational_Cost_USD       numeric     2736             0
13    13  Revenue_per_Voyage_USD       numeric     2736             0
14    14   Turnaround_Time_hours       numeric     2736             0
15    15   Efficiency_nm_per_kWh       numeric     2736             0
16    16   Seasonal_Impact_Score       numeric     2736             0
17    17     Weekly_Voyage_Count       integer     2736             0
18    18 Average_Load_Percentage       numeric     2736             0
   Per_of_Missing No_of_distinct_values
1               0                    57
2               0                     5
3               0                     5
4               0                     4
5               0                     4
6               0                  2736
7               0                  2736
8               0                  2736
9               0                  2736
10              0                     4
11              0                  2736
12              0                  2736
13              0                  2736
14              0                  2736
15              0                  2736
16              0                  2736
17              0                     9
18              0                  2736</code></pre>
</div>
</div>
</section>
<section id="glimpse-the-data" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="glimpse-the-data"><span class="header-section-number">3.4.2</span> Glimpse the Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check structure</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(ship_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 2,736
Columns: 18
$ Date                    &lt;chr&gt; "2023-06-04", "2023-06-11", "2023-06-18", "202…
$ Ship_Type               &lt;chr&gt; "Container Ship", "Fish Carrier", "Container S…
$ Route_Type              &lt;chr&gt; "None", "Short-haul", "Long-haul", "Transocean…
$ Engine_Type             &lt;chr&gt; "Heavy Fuel Oil (HFO)", "Steam Turbine", "Dies…
$ Maintenance_Status      &lt;chr&gt; "Critical", "Good", "Fair", "Fair", "Fair", "F…
$ Speed_Over_Ground_knots &lt;dbl&gt; 12.59756, 10.38758, 20.74975, 21.05510, 13.742…
$ Engine_Power_kW         &lt;dbl&gt; 2062.9840, 1796.0574, 1648.5567, 915.2618, 108…
$ Distance_Traveled_nm    &lt;dbl&gt; 1030.9436, 1060.4864, 658.8741, 1126.8225, 144…
$ Draft_meters            &lt;dbl&gt; 14.132284, 14.653083, 7.199261, 11.789063, 9.7…
$ Weather_Condition       &lt;chr&gt; "Moderate", "Rough", "Moderate", "Moderate", "…
$ Cargo_Weight_tons       &lt;dbl&gt; 1959.0179, 162.3947, 178.0409, 1737.3853, 260.…
$ Operational_Cost_USD    &lt;dbl&gt; 483832.35, 483388.00, 448543.40, 261349.61, 28…
$ Revenue_per_Voyage_USD  &lt;dbl&gt; 292183.27, 883765.79, 394018.75, 87551.38, 676…
$ Turnaround_Time_hours   &lt;dbl&gt; 25.86708, 63.24820, 49.41815, 22.40911, 64.158…
$ Efficiency_nm_per_kWh   &lt;dbl&gt; 1.4551789, 0.2903614, 0.4995945, 0.7029057, 1.…
$ Seasonal_Impact_Score   &lt;dbl&gt; 1.4156533, 0.8856478, 1.4058132, 1.3707043, 0.…
$ Weekly_Voyage_Count     &lt;int&gt; 1, 6, 9, 1, 8, 7, 3, 6, 8, 2, 9, 4, 3, 7, 7, 3…
$ Average_Load_Percentage &lt;dbl&gt; 93.76925, 93.89537, 96.21824, 66.19370, 80.008…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(ship_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">ship_data</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">2736</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">18</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">12</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 24%">
<col style="width: 12%">
<col style="width: 18%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Date</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ship_Type</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Route_Type</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Engine_Type</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Maintenance_Status</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Weather_Condition</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 19%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Speed_Over_Ground_knots</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">17.60</td>
<td style="text-align: right;">4.31</td>
<td style="text-align: right;">10.01</td>
<td style="text-align: right;">13.93</td>
<td style="text-align: right;">17.71</td>
<td style="text-align: right;">21.28</td>
<td style="text-align: right;">25.00</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Engine_Power_kW</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1757.61</td>
<td style="text-align: right;">717.00</td>
<td style="text-align: right;">501.03</td>
<td style="text-align: right;">1148.10</td>
<td style="text-align: right;">1757.49</td>
<td style="text-align: right;">2382.59</td>
<td style="text-align: right;">2998.73</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Distance_Traveled_nm</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1036.41</td>
<td style="text-align: right;">568.63</td>
<td style="text-align: right;">50.43</td>
<td style="text-align: right;">548.51</td>
<td style="text-align: right;">1037.82</td>
<td style="text-align: right;">1540.93</td>
<td style="text-align: right;">1998.34</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Draft_meters</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9.93</td>
<td style="text-align: right;">2.88</td>
<td style="text-align: right;">5.00</td>
<td style="text-align: right;">7.44</td>
<td style="text-align: right;">9.92</td>
<td style="text-align: right;">12.41</td>
<td style="text-align: right;">14.99</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cargo_Weight_tons</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1032.57</td>
<td style="text-align: right;">558.70</td>
<td style="text-align: right;">50.23</td>
<td style="text-align: right;">553.98</td>
<td style="text-align: right;">1043.21</td>
<td style="text-align: right;">1527.72</td>
<td style="text-align: right;">1999.13</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Operational_Cost_USD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">255143.34</td>
<td style="text-align: right;">140890.48</td>
<td style="text-align: right;">10092.31</td>
<td style="text-align: right;">131293.38</td>
<td style="text-align: right;">257157.65</td>
<td style="text-align: right;">381796.93</td>
<td style="text-align: right;">499734.87</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Revenue_per_Voyage_USD</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">521362.06</td>
<td style="text-align: right;">271211.63</td>
<td style="text-align: right;">50351.81</td>
<td style="text-align: right;">290346.39</td>
<td style="text-align: right;">520176.93</td>
<td style="text-align: right;">750072.79</td>
<td style="text-align: right;">999916.70</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Turnaround_Time_hours</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">41.75</td>
<td style="text-align: right;">17.63</td>
<td style="text-align: right;">12.02</td>
<td style="text-align: right;">26.17</td>
<td style="text-align: right;">41.59</td>
<td style="text-align: right;">57.36</td>
<td style="text-align: right;">71.97</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Efficiency_nm_per_kWh</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">0.46</td>
<td style="text-align: right;">0.79</td>
<td style="text-align: right;">1.15</td>
<td style="text-align: right;">1.50</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Seasonal_Impact_Score</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.29</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: right;">0.76</td>
<td style="text-align: right;">1.01</td>
<td style="text-align: right;">1.25</td>
<td style="text-align: right;">1.50</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Weekly_Voyage_Count</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4.91</td>
<td style="text-align: right;">2.60</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">3.00</td>
<td style="text-align: right;">5.00</td>
<td style="text-align: right;">7.00</td>
<td style="text-align: right;">9.00</td>
<td style="text-align: left;">▇▇▃▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Average_Load_Percentage</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">75.22</td>
<td style="text-align: right;">14.51</td>
<td style="text-align: right;">50.01</td>
<td style="text-align: right;">62.70</td>
<td style="text-align: right;">75.50</td>
<td style="text-align: right;">87.72</td>
<td style="text-align: right;">100.00</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for missing values</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(ship_data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   Date               Ship_Type              Route_Type 
                      0                       0                       0 
            Engine_Type      Maintenance_Status Speed_Over_Ground_knots 
                      0                       0                       0 
        Engine_Power_kW    Distance_Traveled_nm            Draft_meters 
                      0                       0                       0 
      Weather_Condition       Cargo_Weight_tons    Operational_Cost_USD 
                      0                       0                       0 
 Revenue_per_Voyage_USD   Turnaround_Time_hours   Efficiency_nm_per_kWh 
                      0                       0                       0 
  Seasonal_Impact_Score     Weekly_Voyage_Count Average_Load_Percentage 
                      0                       0                       0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for duplicates</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">duplicated</span>(ship_data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</section>
<section id="inspect-unique-values-of-categorical-data" class="level3" data-number="3.4.3">
<h3 data-number="3.4.3" class="anchored" data-anchor-id="inspect-unique-values-of-categorical-data"><span class="header-section-number">3.4.3</span> Inspect Unique Values of Categorical Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify columns that are character or factor</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>cat_cols <span class="ot">&lt;-</span> <span class="fu">sapply</span>(ship_data, <span class="cf">function</span>(x) <span class="fu">is.character</span>(x) <span class="sc">||</span> <span class="fu">is.factor</span>(x))</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector of categorical column names, excluding "Date"</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>cat_cols_no_date <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(<span class="fu">names</span>(ship_data)[cat_cols], <span class="st">"Date"</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop over those categorical columns (excluding "Date")</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (col_name <span class="cf">in</span> cat_cols_no_date) {</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">----------------------------------------</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"COLUMN:"</span>, col_name, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"----------------------------------------</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Show the unique values</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">unique</span>(ship_data[[col_name]]))</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
----------------------------------------
COLUMN: Ship_Type 
----------------------------------------
[1] "Container Ship" "Fish Carrier"   "Bulk Carrier"   "None"          
[5] "Tanker"        

----------------------------------------
COLUMN: Route_Type 
----------------------------------------
[1] "None"         "Short-haul"   "Long-haul"    "Transoceanic" "Coastal"     

----------------------------------------
COLUMN: Engine_Type 
----------------------------------------
[1] "Heavy Fuel Oil (HFO)" "Steam Turbine"        "Diesel"              
[4] "None"                

----------------------------------------
COLUMN: Maintenance_Status 
----------------------------------------
[1] "Critical" "Good"     "Fair"     "None"    

----------------------------------------
COLUMN: Weather_Condition 
----------------------------------------
[1] "Moderate" "Rough"    "Calm"     "None"    </code></pre>
</div>
</div>
</section>
<section id="checking-for-valuenone-in-categorical-data" class="level3" data-number="3.4.4">
<h3 data-number="3.4.4" class="anchored" data-anchor-id="checking-for-valuenone-in-categorical-data"><span class="header-section-number">3.4.4</span> Checking for value=“None” in Categorical Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="do">##| code-fold: true</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="do">##| echo: false</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="do">##| eval: false</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify categorical columns (character or factor)</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>cat_cols <span class="ot">&lt;-</span> <span class="fu">sapply</span>(ship_data, <span class="cf">function</span>(x) <span class="fu">is.character</span>(x) <span class="sc">||</span> <span class="fu">is.factor</span>(x))</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of "None" in each row for those columns</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>none_counts <span class="ot">&lt;-</span> <span class="fu">apply</span>(ship_data[, cat_cols], <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">sum</span>(x <span class="sc">==</span> <span class="st">"None"</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a summary data frame of counts</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>summary_counts <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Category =</span> <span class="fu">c</span>(<span class="st">"one None"</span>, <span class="st">"two None"</span>, <span class="st">"three None"</span>, <span class="st">"more than three None"</span>),</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">Count =</span> <span class="fu">c</span>(</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(none_counts <span class="sc">==</span> <span class="dv">1</span>),</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(none_counts <span class="sc">==</span> <span class="dv">2</span>),</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(none_counts <span class="sc">==</span> <span class="dv">3</span>),</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(none_counts <span class="sc">&gt;</span> <span class="dv">3</span>)</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary table with a heading</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"## Summary of 'None' Counts"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "## Summary of 'None' Counts"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>summary_counts <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Summary of rows by number of 'None'"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>), <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Summary of rows by number of 'None'</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Category</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">one None</td>
<td style="text-align: right;">540</td>
</tr>
<tr class="even">
<td style="text-align: left;">two None</td>
<td style="text-align: right;">68</td>
</tr>
<tr class="odd">
<td style="text-align: left;">three None</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">more than three None</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset rows based on the number of "None"</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df_one_none   <span class="ot">&lt;-</span> ship_data[none_counts <span class="sc">==</span> <span class="dv">1</span>, ]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>df_two_none   <span class="ot">&lt;-</span> ship_data[none_counts <span class="sc">==</span> <span class="dv">2</span>, ]</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>df_three_none <span class="ot">&lt;-</span> ship_data[none_counts <span class="sc">==</span> <span class="dv">3</span>, ]</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>df_four_plus  <span class="ot">&lt;-</span> ship_data[none_counts <span class="sc">&gt;=</span> <span class="dv">4</span>, ]</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 10 rows with exactly one "None"</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">## Top 10 Rows with exactly one 'None'</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
## Top 10 Rows with exactly one 'None'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df_one_none <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Top 10 rows with exactly one 'None'"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>), <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Top 10 rows with exactly one 'None'</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Engine_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Maintenance_Status</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Speed_Over_Ground_knots</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Engine_Power_kW</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Distance_Traveled_nm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Draft_meters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weather_Condition</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cargo_Weight_tons</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Operational_Cost_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Voyage_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Turnaround_Time_hours</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Efficiency_nm_per_kWh</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Seasonal_Impact_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Voyage_Count</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average_Load_Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">2023-06-04</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">12.59756</td>
<td style="text-align: right;">2062.9840</td>
<td style="text-align: right;">1030.9436</td>
<td style="text-align: right;">14.132284</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1959.01788</td>
<td style="text-align: right;">483832.35</td>
<td style="text-align: right;">292183.3</td>
<td style="text-align: right;">25.86708</td>
<td style="text-align: right;">1.4551789</td>
<td style="text-align: right;">1.4156533</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">93.76925</td>
</tr>
<tr class="even">
<td style="text-align: left;">9</td>
<td style="text-align: left;">2023-07-30</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">17.30936</td>
<td style="text-align: right;">1179.0188</td>
<td style="text-align: right;">429.5643</td>
<td style="text-align: right;">6.002358</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1953.44793</td>
<td style="text-align: right;">346071.52</td>
<td style="text-align: right;">448682.9</td>
<td style="text-align: right;">14.45182</td>
<td style="text-align: right;">0.9774483</td>
<td style="text-align: right;">0.7649141</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">50.24706</td>
</tr>
<tr class="odd">
<td style="text-align: left;">16</td>
<td style="text-align: left;">2023-09-17</td>
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">15.08722</td>
<td style="text-align: right;">578.8929</td>
<td style="text-align: right;">1932.2131</td>
<td style="text-align: right;">12.998270</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">403.85428</td>
<td style="text-align: right;">424860.57</td>
<td style="text-align: right;">633712.5</td>
<td style="text-align: right;">68.22836</td>
<td style="text-align: right;">0.6526741</td>
<td style="text-align: right;">1.3086865</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">74.51022</td>
</tr>
<tr class="even">
<td style="text-align: left;">21</td>
<td style="text-align: left;">2023-10-22</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">23.80385</td>
<td style="text-align: right;">1120.6992</td>
<td style="text-align: right;">1169.4785</td>
<td style="text-align: right;">10.544799</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1084.25559</td>
<td style="text-align: right;">377335.18</td>
<td style="text-align: right;">371301.2</td>
<td style="text-align: right;">57.59360</td>
<td style="text-align: right;">1.2623670</td>
<td style="text-align: right;">1.4179010</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">83.44323</td>
</tr>
<tr class="odd">
<td style="text-align: left;">22</td>
<td style="text-align: left;">2023-10-29</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">22.76036</td>
<td style="text-align: right;">2335.2629</td>
<td style="text-align: right;">1461.9175</td>
<td style="text-align: right;">7.980762</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">1100.96855</td>
<td style="text-align: right;">441952.08</td>
<td style="text-align: right;">666766.9</td>
<td style="text-align: right;">35.56856</td>
<td style="text-align: right;">1.0500736</td>
<td style="text-align: right;">0.8750325</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">92.18716</td>
</tr>
<tr class="even">
<td style="text-align: left;">23</td>
<td style="text-align: left;">2023-11-05</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">18.75487</td>
<td style="text-align: right;">1305.4237</td>
<td style="text-align: right;">354.5997</td>
<td style="text-align: right;">8.052450</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">1725.68777</td>
<td style="text-align: right;">14878.15</td>
<td style="text-align: right;">902159.4</td>
<td style="text-align: right;">31.40658</td>
<td style="text-align: right;">0.9300016</td>
<td style="text-align: right;">0.8647717</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">89.54613</td>
</tr>
<tr class="odd">
<td style="text-align: left;">25</td>
<td style="text-align: left;">2023-11-19</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">18.06901</td>
<td style="text-align: right;">2922.2826</td>
<td style="text-align: right;">559.8613</td>
<td style="text-align: right;">10.417704</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">1741.08102</td>
<td style="text-align: right;">333900.58</td>
<td style="text-align: right;">848139.3</td>
<td style="text-align: right;">20.00624</td>
<td style="text-align: right;">0.6995534</td>
<td style="text-align: right;">1.1646948</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">58.54123</td>
</tr>
<tr class="even">
<td style="text-align: left;">27</td>
<td style="text-align: left;">2023-12-03</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">20.99496</td>
<td style="text-align: right;">2296.3298</td>
<td style="text-align: right;">275.1871</td>
<td style="text-align: right;">7.124895</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">53.51655</td>
<td style="text-align: right;">114527.88</td>
<td style="text-align: right;">506111.0</td>
<td style="text-align: right;">52.77458</td>
<td style="text-align: right;">0.2432706</td>
<td style="text-align: right;">0.7576879</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">66.67839</td>
</tr>
<tr class="odd">
<td style="text-align: left;">33</td>
<td style="text-align: left;">2024-01-14</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">18.05569</td>
<td style="text-align: right;">2940.9806</td>
<td style="text-align: right;">1674.0561</td>
<td style="text-align: right;">14.255468</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">965.73890</td>
<td style="text-align: right;">68846.08</td>
<td style="text-align: right;">124317.1</td>
<td style="text-align: right;">45.59025</td>
<td style="text-align: right;">0.5819657</td>
<td style="text-align: right;">0.9658151</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">79.69627</td>
</tr>
<tr class="even">
<td style="text-align: left;">46</td>
<td style="text-align: left;">2024-04-14</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">22.36635</td>
<td style="text-align: right;">2814.3636</td>
<td style="text-align: right;">961.8204</td>
<td style="text-align: right;">5.728426</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">105.61721</td>
<td style="text-align: right;">400472.42</td>
<td style="text-align: right;">183054.9</td>
<td style="text-align: right;">28.29324</td>
<td style="text-align: right;">1.2339394</td>
<td style="text-align: right;">0.9573110</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">78.74450</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 10 rows with exactly two "None"</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">## Top 10 Rows with exactly two 'None'</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
## Top 10 Rows with exactly two 'None'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df_two_none <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Top 10 rows with exactly two 'None'"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>), <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Top 10 rows with exactly two 'None'</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Engine_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Maintenance_Status</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Speed_Over_Ground_knots</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Engine_Power_kW</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Distance_Traveled_nm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Draft_meters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weather_Condition</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cargo_Weight_tons</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Operational_Cost_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Voyage_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Turnaround_Time_hours</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Efficiency_nm_per_kWh</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Seasonal_Impact_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Voyage_Count</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average_Load_Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">43</td>
<td style="text-align: left;">2024-03-24</td>
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">19.08942</td>
<td style="text-align: right;">1095.2398</td>
<td style="text-align: right;">1801.1749</td>
<td style="text-align: right;">14.086731</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">858.1013</td>
<td style="text-align: right;">70720.33</td>
<td style="text-align: right;">382123.59</td>
<td style="text-align: right;">66.85377</td>
<td style="text-align: right;">0.7762076</td>
<td style="text-align: right;">0.7934013</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">85.87867</td>
</tr>
<tr class="even">
<td style="text-align: left;">129</td>
<td style="text-align: left;">2023-09-10</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">22.70870</td>
<td style="text-align: right;">1512.1199</td>
<td style="text-align: right;">771.3406</td>
<td style="text-align: right;">9.854360</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">1580.1024</td>
<td style="text-align: right;">226899.21</td>
<td style="text-align: right;">286758.26</td>
<td style="text-align: right;">39.56307</td>
<td style="text-align: right;">0.8514023</td>
<td style="text-align: right;">0.8086902</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">90.61944</td>
</tr>
<tr class="odd">
<td style="text-align: left;">135</td>
<td style="text-align: left;">2023-10-22</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">14.64564</td>
<td style="text-align: right;">2605.7648</td>
<td style="text-align: right;">1714.8680</td>
<td style="text-align: right;">11.434511</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">682.6991</td>
<td style="text-align: right;">439967.19</td>
<td style="text-align: right;">51708.41</td>
<td style="text-align: right;">55.27975</td>
<td style="text-align: right;">0.5330556</td>
<td style="text-align: right;">1.3134256</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">58.93742</td>
</tr>
<tr class="even">
<td style="text-align: left;">199</td>
<td style="text-align: left;">2023-12-10</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">12.25630</td>
<td style="text-align: right;">568.2896</td>
<td style="text-align: right;">495.4977</td>
<td style="text-align: right;">11.859816</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">983.0555</td>
<td style="text-align: right;">28916.94</td>
<td style="text-align: right;">93070.13</td>
<td style="text-align: right;">16.16368</td>
<td style="text-align: right;">1.1969162</td>
<td style="text-align: right;">0.7416365</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">77.79094</td>
</tr>
<tr class="odd">
<td style="text-align: left;">219</td>
<td style="text-align: left;">2024-04-28</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">10.36508</td>
<td style="text-align: right;">1195.3456</td>
<td style="text-align: right;">247.0565</td>
<td style="text-align: right;">12.560964</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1098.1778</td>
<td style="text-align: right;">22233.31</td>
<td style="text-align: right;">956502.65</td>
<td style="text-align: right;">61.08365</td>
<td style="text-align: right;">0.7352781</td>
<td style="text-align: right;">1.4287733</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">64.02880</td>
</tr>
<tr class="even">
<td style="text-align: left;">237</td>
<td style="text-align: left;">2023-07-30</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">17.07090</td>
<td style="text-align: right;">942.9747</td>
<td style="text-align: right;">913.1115</td>
<td style="text-align: right;">14.485655</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">670.6977</td>
<td style="text-align: right;">64542.63</td>
<td style="text-align: right;">674707.58</td>
<td style="text-align: right;">30.82242</td>
<td style="text-align: right;">1.2258682</td>
<td style="text-align: right;">1.3498214</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">52.63198</td>
</tr>
<tr class="odd">
<td style="text-align: left;">313</td>
<td style="text-align: left;">2023-12-10</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">17.40898</td>
<td style="text-align: right;">2825.2216</td>
<td style="text-align: right;">1041.7341</td>
<td style="text-align: right;">13.799273</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">734.6318</td>
<td style="text-align: right;">148151.46</td>
<td style="text-align: right;">511022.91</td>
<td style="text-align: right;">34.72301</td>
<td style="text-align: right;">1.0832695</td>
<td style="text-align: right;">0.6020035</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">77.50350</td>
</tr>
<tr class="even">
<td style="text-align: left;">363</td>
<td style="text-align: left;">2023-10-22</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">18.56602</td>
<td style="text-align: right;">1517.0135</td>
<td style="text-align: right;">1852.6289</td>
<td style="text-align: right;">6.763938</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">173.3641</td>
<td style="text-align: right;">434573.62</td>
<td style="text-align: right;">68749.02</td>
<td style="text-align: right;">58.12002</td>
<td style="text-align: right;">0.6350226</td>
<td style="text-align: right;">0.5587151</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">56.58473</td>
</tr>
<tr class="odd">
<td style="text-align: left;">374</td>
<td style="text-align: left;">2024-01-07</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">10.51714</td>
<td style="text-align: right;">1297.5769</td>
<td style="text-align: right;">510.8005</td>
<td style="text-align: right;">12.882525</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">281.7490</td>
<td style="text-align: right;">251675.04</td>
<td style="text-align: right;">663243.69</td>
<td style="text-align: right;">16.96124</td>
<td style="text-align: right;">1.2928879</td>
<td style="text-align: right;">1.0353919</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">90.38808</td>
</tr>
<tr class="even">
<td style="text-align: left;">399</td>
<td style="text-align: left;">2024-06-30</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">21.33223</td>
<td style="text-align: right;">717.1855</td>
<td style="text-align: right;">697.4926</td>
<td style="text-align: right;">12.962534</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">402.5453</td>
<td style="text-align: right;">99466.25</td>
<td style="text-align: right;">98243.61</td>
<td style="text-align: right;">29.22883</td>
<td style="text-align: right;">0.5953693</td>
<td style="text-align: right;">0.8140546</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">73.37483</td>
</tr>
</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top 10 rows with exactly three "None"</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">## Top 10 Rows with exactly three 'None'</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
## Top 10 Rows with exactly three 'None'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df_three_none <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Top 10 rows with exactly three 'None'"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>), <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Top 10 rows with exactly three 'None'</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Engine_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Maintenance_Status</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Speed_Over_Ground_knots</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Engine_Power_kW</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Distance_Traveled_nm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Draft_meters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weather_Condition</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cargo_Weight_tons</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Operational_Cost_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Voyage_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Turnaround_Time_hours</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Efficiency_nm_per_kWh</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Seasonal_Impact_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Voyage_Count</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average_Load_Percentage</th>
</tr>
</thead>
<tbody>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>

</tbody>
</table>


</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># All rows with four or more "None"</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">## Rows with four or more 'None'</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
## Rows with four or more 'None'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df_four_plus <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="st">"html"</span>, <span class="at">caption =</span> <span class="st">"Rows with four or more 'None'"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>), <span class="at">full_width =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Rows with four or more 'None'</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Engine_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Maintenance_Status</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Speed_Over_Ground_knots</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Engine_Power_kW</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Distance_Traveled_nm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Draft_meters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weather_Condition</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cargo_Weight_tons</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Operational_Cost_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Voyage_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Turnaround_Time_hours</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Efficiency_nm_per_kWh</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Seasonal_Impact_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Voyage_Count</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average_Load_Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">197</td>
<td style="text-align: left;">2023-11-26</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">None</td>
<td style="text-align: left;">None</td>
<td style="text-align: right;">11.12406</td>
<td style="text-align: right;">1493.909</td>
<td style="text-align: right;">1279.969</td>
<td style="text-align: right;">11.59002</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1515.524</td>
<td style="text-align: right;">317587.4</td>
<td style="text-align: right;">583011.8</td>
<td style="text-align: right;">29.87684</td>
<td style="text-align: right;">0.1989973</td>
<td style="text-align: right;">0.9338018</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">82.86563</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="removing-rows-with-none-in-the-categorical-columns" class="level3" data-number="3.4.5">
<h3 data-number="3.4.5" class="anchored" data-anchor-id="removing-rows-with-none-in-the-categorical-columns"><span class="header-section-number">3.4.5</span> Removing Rows with None in the Categorical Columns</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify categorical columns (character or factor)</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>cat_cols <span class="ot">&lt;-</span> <span class="fu">sapply</span>(ship_data, <span class="cf">function</span>(x) <span class="fu">is.character</span>(x) <span class="sc">||</span> <span class="fu">is.factor</span>(x))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Store the number of rows before filtering</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>num_rows_before <span class="ot">&lt;-</span> <span class="fu">nrow</span>(ship_data)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows where ANY categorical column contains "None"</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>ship_data_clean <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">which</span>(cat_cols), <span class="sc">~</span> . <span class="sc">==</span> <span class="st">"None"</span>)) <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Store the number of rows after filtering</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>num_rows_after <span class="ot">&lt;-</span> <span class="fu">nrow</span>(ship_data_clean)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate how many rows were deleted</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>rows_deleted <span class="ot">&lt;-</span> num_rows_before <span class="sc">-</span> num_rows_after</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Print summary</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">## Summary of Rows Deleted</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
## Summary of Rows Deleted</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Total rows removed:"</span>, rows_deleted, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Total rows removed: 609 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Glimpse the cleaned data</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>ship_data <span class="ot">&lt;-</span> ship_data_clean</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># glimpse(ship_data)</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Engine_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Maintenance_Status</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Speed_Over_Ground_knots</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Engine_Power_kW</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Distance_Traveled_nm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Draft_meters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weather_Condition</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cargo_Weight_tons</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Operational_Cost_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Voyage_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Turnaround_Time_hours</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Efficiency_nm_per_kWh</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Seasonal_Impact_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Voyage_Count</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average_Load_Percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2023-06-11</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">10.38758</td>
<td style="text-align: right;">1796.0574</td>
<td style="text-align: right;">1060.4864</td>
<td style="text-align: right;">14.653083</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">162.3947</td>
<td style="text-align: right;">483388.0</td>
<td style="text-align: right;">883765.79</td>
<td style="text-align: right;">63.24820</td>
<td style="text-align: right;">0.2903614</td>
<td style="text-align: right;">0.8856478</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">93.89537</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-06-18</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">20.74975</td>
<td style="text-align: right;">1648.5567</td>
<td style="text-align: right;">658.8741</td>
<td style="text-align: right;">7.199261</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">178.0409</td>
<td style="text-align: right;">448543.4</td>
<td style="text-align: right;">394018.75</td>
<td style="text-align: right;">49.41815</td>
<td style="text-align: right;">0.4995945</td>
<td style="text-align: right;">1.4058132</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">96.21824</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-06-25</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">21.05510</td>
<td style="text-align: right;">915.2618</td>
<td style="text-align: right;">1126.8225</td>
<td style="text-align: right;">11.789062</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1737.3853</td>
<td style="text-align: right;">261349.6</td>
<td style="text-align: right;">87551.38</td>
<td style="text-align: right;">22.40911</td>
<td style="text-align: right;">0.7029057</td>
<td style="text-align: right;">1.3707043</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">66.19370</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-07-02</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">13.74278</td>
<td style="text-align: right;">1089.7218</td>
<td style="text-align: right;">1445.2812</td>
<td style="text-align: right;">9.727833</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">260.5951</td>
<td style="text-align: right;">287718.4</td>
<td style="text-align: right;">676121.46</td>
<td style="text-align: right;">64.15823</td>
<td style="text-align: right;">1.3313431</td>
<td style="text-align: right;">0.5833834</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">80.00858</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-07-09</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">18.61620</td>
<td style="text-align: right;">2171.6466</td>
<td style="text-align: right;">723.3042</td>
<td style="text-align: right;">14.916320</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1912.5098</td>
<td style="text-align: right;">184569.0</td>
<td style="text-align: right;">776698.35</td>
<td style="text-align: right;">47.47615</td>
<td style="text-align: right;">1.3702060</td>
<td style="text-align: right;">1.4377250</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">53.17490</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-07-16</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">20.43312</td>
<td style="text-align: right;">2505.0435</td>
<td style="text-align: right;">270.1186</td>
<td style="text-align: right;">8.455264</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1191.4364</td>
<td style="text-align: right;">434449.3</td>
<td style="text-align: right;">739431.83</td>
<td style="text-align: right;">29.04042</td>
<td style="text-align: right;">1.1203894</td>
<td style="text-align: right;">0.6029316</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">58.50864</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-07-23</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">23.49805</td>
<td style="text-align: right;">814.8065</td>
<td style="text-align: right;">1717.3284</td>
<td style="text-align: right;">9.283780</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">318.4493</td>
<td style="text-align: right;">348380.6</td>
<td style="text-align: right;">462211.40</td>
<td style="text-align: right;">52.47860</td>
<td style="text-align: right;">0.6959746</td>
<td style="text-align: right;">1.4086634</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">94.59197</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-08-06</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">23.22710</td>
<td style="text-align: right;">2685.4017</td>
<td style="text-align: right;">1588.7923</td>
<td style="text-align: right;">11.721261</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">1843.4383</td>
<td style="text-align: right;">149790.2</td>
<td style="text-align: right;">615230.86</td>
<td style="text-align: right;">63.74276</td>
<td style="text-align: right;">0.4406762</td>
<td style="text-align: right;">1.4355687</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">79.45133</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-08-13</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">11.63511</td>
<td style="text-align: right;">2522.6972</td>
<td style="text-align: right;">1224.8463</td>
<td style="text-align: right;">10.900540</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1130.6046</td>
<td style="text-align: right;">299189.3</td>
<td style="text-align: right;">749334.91</td>
<td style="text-align: right;">47.66533</td>
<td style="text-align: right;">0.4378355</td>
<td style="text-align: right;">1.1052602</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">70.50445</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-08-20</td>
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">18.25358</td>
<td style="text-align: right;">2129.5179</td>
<td style="text-align: right;">1311.9786</td>
<td style="text-align: right;">11.955648</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">441.2600</td>
<td style="text-align: right;">481866.3</td>
<td style="text-align: right;">738063.17</td>
<td style="text-align: right;">48.18567</td>
<td style="text-align: right;">1.2270642</td>
<td style="text-align: right;">0.9414481</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">65.98470</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</section>
<section id="new-variables-created-for-analysis" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="new-variables-created-for-analysis"><span class="header-section-number">3.5</span> New Variables Created for Analysis</h2>
<p>By adding these new variables—such as net profit per voyage, weekly totals for profit, revenue, and cost, as well as profit per nautical mile (NM) and per ton—we gain a clearer, more granular perspective on each voyage’s financial performance and operational efficiency. Net profit and weekly totals help reveal whether repeating a given voyage multiple times amplifies gains or losses, while profit margin captures the relative profitability regardless of absolute cost or revenue scale. Metrics like cost per NM, revenue per NM, and profit per NM clarify how well resources are being utilized across varying distances, and analyzing cost, revenue, and profit per ton provides insight into cargo handling efficiency. Altogether, these derived columns facilitate a richer, data‐driven understanding of route profitability, capacity utilization, and operational strategy—essential for making informed decisions in shipping performance analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Net profit per voyage</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Net_Profit =</span> Revenue_per_Voyage_USD <span class="sc">-</span> Operational_Cost_USD,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Weekly total profit = net profit * weekly voyage count</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Weekly_Total_Profit =</span> Net_Profit <span class="sc">*</span> Weekly_Voyage_Count,</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Profit margin (per voyage)</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Profit_Margin =</span> Net_Profit <span class="sc">/</span> Revenue_per_Voyage_USD,</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Weekly totals for revenue and cost</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Weekly_Total_Revenue =</span> Revenue_per_Voyage_USD <span class="sc">*</span> Weekly_Voyage_Count,</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Weekly_Total_Operational_Cost =</span> Operational_Cost_USD <span class="sc">*</span> Weekly_Voyage_Count,</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Cost per NM, Revenue per NM</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">Cost_per_NM =</span> Operational_Cost_USD <span class="sc">/</span> Distance_Traveled_nm,</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">Revenue_per_NM =</span> Revenue_per_Voyage_USD <span class="sc">/</span> Distance_Traveled_nm,</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Additional variables requested</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">Profit_per_NM     =</span> (Revenue_per_Voyage_USD <span class="sc">-</span> Operational_Cost_USD) <span class="sc">/</span> Distance_Traveled_nm,</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">Cost_per_Ton      =</span> Operational_Cost_USD <span class="sc">/</span> Cargo_Weight_tons,</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">Revenue_per_Ton   =</span> Revenue_per_Voyage_USD <span class="sc">/</span> Cargo_Weight_tons,</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">Profit_per_Ton    =</span> (Revenue_per_Voyage_USD <span class="sc">-</span> Operational_Cost_USD) <span class="sc">/</span> Cargo_Weight_tons</span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick check of the new columns</span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a><span class="co"># glimpse(ship_data)</span></span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Engine_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Maintenance_Status</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Speed_Over_Ground_knots</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Engine_Power_kW</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Distance_Traveled_nm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Draft_meters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weather_Condition</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cargo_Weight_tons</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Operational_Cost_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Voyage_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Turnaround_Time_hours</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Efficiency_nm_per_kWh</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Seasonal_Impact_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Voyage_Count</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average_Load_Percentage</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Net_Profit</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Total_Profit</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Profit_Margin</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Total_Revenue</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Total_Operational_Cost</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cost_per_NM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_NM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Profit_per_NM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cost_per_Ton</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Ton</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Profit_per_Ton</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2023-06-11</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">10.38758</td>
<td style="text-align: right;">1796.0574</td>
<td style="text-align: right;">1060.4864</td>
<td style="text-align: right;">14.653083</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">162.3947</td>
<td style="text-align: right;">483388.0</td>
<td style="text-align: right;">883765.79</td>
<td style="text-align: right;">63.24820</td>
<td style="text-align: right;">0.2903614</td>
<td style="text-align: right;">0.8856478</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">93.89537</td>
<td style="text-align: right;">400377.79</td>
<td style="text-align: right;">2402266.7</td>
<td style="text-align: right;">0.4530361</td>
<td style="text-align: right;">5302594.72</td>
<td style="text-align: right;">2900328.0</td>
<td style="text-align: right;">455.81726</td>
<td style="text-align: right;">833.35892</td>
<td style="text-align: right;">377.54166</td>
<td style="text-align: right;">2976.62403</td>
<td style="text-align: right;">5442.08478</td>
<td style="text-align: right;">2465.4607</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-06-18</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">20.74975</td>
<td style="text-align: right;">1648.5567</td>
<td style="text-align: right;">658.8741</td>
<td style="text-align: right;">7.199261</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">178.0409</td>
<td style="text-align: right;">448543.4</td>
<td style="text-align: right;">394018.75</td>
<td style="text-align: right;">49.41815</td>
<td style="text-align: right;">0.4995945</td>
<td style="text-align: right;">1.4058132</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">96.21824</td>
<td style="text-align: right;">-54524.66</td>
<td style="text-align: right;">-490721.9</td>
<td style="text-align: right;">-0.1383809</td>
<td style="text-align: right;">3546168.72</td>
<td style="text-align: right;">4036890.6</td>
<td style="text-align: right;">680.77251</td>
<td style="text-align: right;">598.01823</td>
<td style="text-align: right;">-82.75428</td>
<td style="text-align: right;">2519.32765</td>
<td style="text-align: right;">2213.07975</td>
<td style="text-align: right;">-306.2479</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-06-25</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">21.05510</td>
<td style="text-align: right;">915.2618</td>
<td style="text-align: right;">1126.8225</td>
<td style="text-align: right;">11.789062</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1737.3853</td>
<td style="text-align: right;">261349.6</td>
<td style="text-align: right;">87551.38</td>
<td style="text-align: right;">22.40911</td>
<td style="text-align: right;">0.7029057</td>
<td style="text-align: right;">1.3707043</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">66.19370</td>
<td style="text-align: right;">-173798.23</td>
<td style="text-align: right;">-173798.2</td>
<td style="text-align: right;">-1.9850999</td>
<td style="text-align: right;">87551.38</td>
<td style="text-align: right;">261349.6</td>
<td style="text-align: right;">231.93502</td>
<td style="text-align: right;">77.69757</td>
<td style="text-align: right;">-154.23745</td>
<td style="text-align: right;">150.42697</td>
<td style="text-align: right;">50.39261</td>
<td style="text-align: right;">-100.0344</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-07-02</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">13.74278</td>
<td style="text-align: right;">1089.7218</td>
<td style="text-align: right;">1445.2812</td>
<td style="text-align: right;">9.727833</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">260.5951</td>
<td style="text-align: right;">287718.4</td>
<td style="text-align: right;">676121.46</td>
<td style="text-align: right;">64.15823</td>
<td style="text-align: right;">1.3313431</td>
<td style="text-align: right;">0.5833834</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">80.00858</td>
<td style="text-align: right;">388403.08</td>
<td style="text-align: right;">3107224.7</td>
<td style="text-align: right;">0.5744576</td>
<td style="text-align: right;">5408971.68</td>
<td style="text-align: right;">2301747.0</td>
<td style="text-align: right;">199.07433</td>
<td style="text-align: right;">467.81310</td>
<td style="text-align: right;">268.73877</td>
<td style="text-align: right;">1104.08205</td>
<td style="text-align: right;">2594.52864</td>
<td style="text-align: right;">1490.4466</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-07-09</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">18.61620</td>
<td style="text-align: right;">2171.6466</td>
<td style="text-align: right;">723.3042</td>
<td style="text-align: right;">14.916320</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1912.5098</td>
<td style="text-align: right;">184569.0</td>
<td style="text-align: right;">776698.35</td>
<td style="text-align: right;">47.47615</td>
<td style="text-align: right;">1.3702060</td>
<td style="text-align: right;">1.4377250</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">53.17490</td>
<td style="text-align: right;">592129.31</td>
<td style="text-align: right;">4144905.2</td>
<td style="text-align: right;">0.7623671</td>
<td style="text-align: right;">5436888.48</td>
<td style="text-align: right;">1291983.3</td>
<td style="text-align: right;">255.17485</td>
<td style="text-align: right;">1073.81976</td>
<td style="text-align: right;">818.64490</td>
<td style="text-align: right;">96.50620</td>
<td style="text-align: right;">406.11472</td>
<td style="text-align: right;">309.6085</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-07-16</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">20.43312</td>
<td style="text-align: right;">2505.0435</td>
<td style="text-align: right;">270.1186</td>
<td style="text-align: right;">8.455264</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1191.4364</td>
<td style="text-align: right;">434449.3</td>
<td style="text-align: right;">739431.83</td>
<td style="text-align: right;">29.04042</td>
<td style="text-align: right;">1.1203894</td>
<td style="text-align: right;">0.6029316</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">58.50864</td>
<td style="text-align: right;">304982.56</td>
<td style="text-align: right;">914947.7</td>
<td style="text-align: right;">0.4124553</td>
<td style="text-align: right;">2218295.48</td>
<td style="text-align: right;">1303347.8</td>
<td style="text-align: right;">1608.36493</td>
<td style="text-align: right;">2737.43407</td>
<td style="text-align: right;">1129.06914</td>
<td style="text-align: right;">364.64326</td>
<td style="text-align: right;">620.62215</td>
<td style="text-align: right;">255.9789</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-07-23</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">23.49805</td>
<td style="text-align: right;">814.8065</td>
<td style="text-align: right;">1717.3284</td>
<td style="text-align: right;">9.283780</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">318.4493</td>
<td style="text-align: right;">348380.6</td>
<td style="text-align: right;">462211.40</td>
<td style="text-align: right;">52.47860</td>
<td style="text-align: right;">0.6959746</td>
<td style="text-align: right;">1.4086634</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">94.59197</td>
<td style="text-align: right;">113830.79</td>
<td style="text-align: right;">682984.8</td>
<td style="text-align: right;">0.2462743</td>
<td style="text-align: right;">2773268.41</td>
<td style="text-align: right;">2090283.6</td>
<td style="text-align: right;">202.86196</td>
<td style="text-align: right;">269.14561</td>
<td style="text-align: right;">66.28365</td>
<td style="text-align: right;">1093.99093</td>
<td style="text-align: right;">1451.44440</td>
<td style="text-align: right;">357.4535</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-08-06</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">23.22710</td>
<td style="text-align: right;">2685.4017</td>
<td style="text-align: right;">1588.7923</td>
<td style="text-align: right;">11.721261</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">1843.4383</td>
<td style="text-align: right;">149790.2</td>
<td style="text-align: right;">615230.86</td>
<td style="text-align: right;">63.74276</td>
<td style="text-align: right;">0.4406762</td>
<td style="text-align: right;">1.4355687</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">79.45133</td>
<td style="text-align: right;">465440.65</td>
<td style="text-align: right;">930881.3</td>
<td style="text-align: right;">0.7565301</td>
<td style="text-align: right;">1230461.71</td>
<td style="text-align: right;">299580.4</td>
<td style="text-align: right;">94.27929</td>
<td style="text-align: right;">387.23178</td>
<td style="text-align: right;">292.95249</td>
<td style="text-align: right;">81.25589</td>
<td style="text-align: right;">333.74096</td>
<td style="text-align: right;">252.4851</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-08-13</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">11.63511</td>
<td style="text-align: right;">2522.6972</td>
<td style="text-align: right;">1224.8463</td>
<td style="text-align: right;">10.900540</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1130.6046</td>
<td style="text-align: right;">299189.3</td>
<td style="text-align: right;">749334.91</td>
<td style="text-align: right;">47.66533</td>
<td style="text-align: right;">0.4378355</td>
<td style="text-align: right;">1.1052602</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">70.50445</td>
<td style="text-align: right;">450145.58</td>
<td style="text-align: right;">4051310.3</td>
<td style="text-align: right;">0.6007268</td>
<td style="text-align: right;">6744014.23</td>
<td style="text-align: right;">2692704.0</td>
<td style="text-align: right;">244.26684</td>
<td style="text-align: right;">611.77875</td>
<td style="text-align: right;">367.51190</td>
<td style="text-align: right;">264.62772</td>
<td style="text-align: right;">662.77361</td>
<td style="text-align: right;">398.1459</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-08-20</td>
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">18.25358</td>
<td style="text-align: right;">2129.5179</td>
<td style="text-align: right;">1311.9786</td>
<td style="text-align: right;">11.955648</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">441.2600</td>
<td style="text-align: right;">481866.3</td>
<td style="text-align: right;">738063.17</td>
<td style="text-align: right;">48.18567</td>
<td style="text-align: right;">1.2270642</td>
<td style="text-align: right;">0.9414481</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">65.98470</td>
<td style="text-align: right;">256196.91</td>
<td style="text-align: right;">1024787.6</td>
<td style="text-align: right;">0.3471206</td>
<td style="text-align: right;">2952252.69</td>
<td style="text-align: right;">1927465.0</td>
<td style="text-align: right;">367.28211</td>
<td style="text-align: right;">562.55733</td>
<td style="text-align: right;">195.27522</td>
<td style="text-align: right;">1092.02351</td>
<td style="text-align: right;">1672.62662</td>
<td style="text-align: right;">580.6031</td>
</tr>
</tbody>
</table>


</div>
</div>
<section id="revenue-leakage-estimates-from-average_load_percentage" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="revenue-leakage-estimates-from-average_load_percentage"><span class="header-section-number">3.5.1</span> Revenue Leakage Estimates from Average_Load_Percentage</h3>
<p>Revenue Leakage quantifies how much revenue is foregone by not operating at full capacity. By comparing the actual revenue per voyage against a hypothetical 100% load scenario, the new Revenue_Leakage field highlights how much potential income is lost when ships sail below maximum utilization. This metric provides a tangible financial estimate of the cost of underused capacity, guiding decisions about pricing, scheduling, and cargo allocation to maximize profitability.</p>
<ul>
<li>Average_Load_Percentage / 100 converts the percentage to a decimal (e.g., 80 → 0.80).</li>
<li>Revenue_per_Voyage_USD / (Average_Load_Percentage / 100) estimates the hypothetical revenue if the ship had been at 100% load.</li>
<li>Subtracting Revenue_per_Voyage_USD gives the Revenue_Leakage (the amount “lost” by operating below full capacity).</li>
<li>case_when ensures that if the load is already at or above 100%, leakage is 0, and handles other edge cases.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Revenue_Leakage =</span> <span class="fu">case_when</span>(</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>      <span class="co"># If load is at or above 100%, there's no "lost" revenue</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>      Average_Load_Percentage <span class="sc">&gt;=</span> <span class="dv">100</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Otherwise, compute the difference between </span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>      <span class="co"># "full-load" revenue and actual revenue.</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>      Average_Load_Percentage <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">~</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>        (Revenue_per_Voyage_USD <span class="sc">/</span> (Average_Load_Percentage <span class="sc">/</span> <span class="dv">100</span>)) <span class="sc">-</span> Revenue_per_Voyage_USD,</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>      <span class="co"># If load is zero or missing, set leakage to 0 or NA, as appropriate</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="dv">0</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This formula (Weekly_Revenue_Leakage = Revenue_Leakage × Weekly_Voyage_Count) converts the per-voyage leakage into a total weekly leakage, reflecting how repeated voyages in the same week amplify revenue loss.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Weekly revenue leakage is per-voyage leakage multiplied by how many voyages occur that week</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Weekly_Revenue_Leakage =</span> Revenue_Leakage <span class="sc">*</span> Weekly_Voyage_Count</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(ship_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Date"                          "Ship_Type"                    
 [3] "Route_Type"                    "Engine_Type"                  
 [5] "Maintenance_Status"            "Speed_Over_Ground_knots"      
 [7] "Engine_Power_kW"               "Distance_Traveled_nm"         
 [9] "Draft_meters"                  "Weather_Condition"            
[11] "Cargo_Weight_tons"             "Operational_Cost_USD"         
[13] "Revenue_per_Voyage_USD"        "Turnaround_Time_hours"        
[15] "Efficiency_nm_per_kWh"         "Seasonal_Impact_Score"        
[17] "Weekly_Voyage_Count"           "Average_Load_Percentage"      
[19] "Net_Profit"                    "Weekly_Total_Profit"          
[21] "Profit_Margin"                 "Weekly_Total_Revenue"         
[23] "Weekly_Total_Operational_Cost" "Cost_per_NM"                  
[25] "Revenue_per_NM"                "Profit_per_NM"                
[27] "Cost_per_Ton"                  "Revenue_per_Ton"              
[29] "Profit_per_Ton"                "Revenue_Leakage"              
[31] "Weekly_Revenue_Leakage"       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Engine_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Maintenance_Status</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Speed_Over_Ground_knots</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Engine_Power_kW</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Distance_Traveled_nm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Draft_meters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weather_Condition</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cargo_Weight_tons</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Operational_Cost_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Voyage_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Turnaround_Time_hours</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Efficiency_nm_per_kWh</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Seasonal_Impact_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Voyage_Count</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average_Load_Percentage</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Net_Profit</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Total_Profit</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Profit_Margin</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Total_Revenue</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Total_Operational_Cost</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cost_per_NM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_NM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Profit_per_NM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cost_per_Ton</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Ton</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Profit_per_Ton</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_Leakage</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Revenue_Leakage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2023-06-11</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">10.38758</td>
<td style="text-align: right;">1796.0574</td>
<td style="text-align: right;">1060.4864</td>
<td style="text-align: right;">14.653083</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">162.3947</td>
<td style="text-align: right;">483388.0</td>
<td style="text-align: right;">883765.79</td>
<td style="text-align: right;">63.24820</td>
<td style="text-align: right;">0.2903614</td>
<td style="text-align: right;">0.8856478</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">93.89537</td>
<td style="text-align: right;">400377.79</td>
<td style="text-align: right;">2402266.7</td>
<td style="text-align: right;">0.4530361</td>
<td style="text-align: right;">5302594.72</td>
<td style="text-align: right;">2900328.0</td>
<td style="text-align: right;">455.81726</td>
<td style="text-align: right;">833.35892</td>
<td style="text-align: right;">377.54166</td>
<td style="text-align: right;">2976.62403</td>
<td style="text-align: right;">5442.08478</td>
<td style="text-align: right;">2465.4607</td>
<td style="text-align: right;">57458.22</td>
<td style="text-align: right;">344749.33</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-06-18</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">20.74975</td>
<td style="text-align: right;">1648.5567</td>
<td style="text-align: right;">658.8741</td>
<td style="text-align: right;">7.199261</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">178.0409</td>
<td style="text-align: right;">448543.4</td>
<td style="text-align: right;">394018.75</td>
<td style="text-align: right;">49.41815</td>
<td style="text-align: right;">0.4995945</td>
<td style="text-align: right;">1.4058132</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">96.21824</td>
<td style="text-align: right;">-54524.66</td>
<td style="text-align: right;">-490721.9</td>
<td style="text-align: right;">-0.1383809</td>
<td style="text-align: right;">3546168.72</td>
<td style="text-align: right;">4036890.6</td>
<td style="text-align: right;">680.77251</td>
<td style="text-align: right;">598.01823</td>
<td style="text-align: right;">-82.75428</td>
<td style="text-align: right;">2519.32765</td>
<td style="text-align: right;">2213.07975</td>
<td style="text-align: right;">-306.2479</td>
<td style="text-align: right;">15486.49</td>
<td style="text-align: right;">139378.38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-06-25</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">21.05510</td>
<td style="text-align: right;">915.2618</td>
<td style="text-align: right;">1126.8225</td>
<td style="text-align: right;">11.789062</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1737.3853</td>
<td style="text-align: right;">261349.6</td>
<td style="text-align: right;">87551.38</td>
<td style="text-align: right;">22.40911</td>
<td style="text-align: right;">0.7029057</td>
<td style="text-align: right;">1.3707043</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">66.19370</td>
<td style="text-align: right;">-173798.23</td>
<td style="text-align: right;">-173798.2</td>
<td style="text-align: right;">-1.9850999</td>
<td style="text-align: right;">87551.38</td>
<td style="text-align: right;">261349.6</td>
<td style="text-align: right;">231.93502</td>
<td style="text-align: right;">77.69757</td>
<td style="text-align: right;">-154.23745</td>
<td style="text-align: right;">150.42697</td>
<td style="text-align: right;">50.39261</td>
<td style="text-align: right;">-100.0344</td>
<td style="text-align: right;">44714.05</td>
<td style="text-align: right;">44714.05</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-07-02</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">13.74278</td>
<td style="text-align: right;">1089.7218</td>
<td style="text-align: right;">1445.2812</td>
<td style="text-align: right;">9.727833</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">260.5951</td>
<td style="text-align: right;">287718.4</td>
<td style="text-align: right;">676121.46</td>
<td style="text-align: right;">64.15823</td>
<td style="text-align: right;">1.3313431</td>
<td style="text-align: right;">0.5833834</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">80.00858</td>
<td style="text-align: right;">388403.08</td>
<td style="text-align: right;">3107224.7</td>
<td style="text-align: right;">0.5744576</td>
<td style="text-align: right;">5408971.68</td>
<td style="text-align: right;">2301747.0</td>
<td style="text-align: right;">199.07433</td>
<td style="text-align: right;">467.81310</td>
<td style="text-align: right;">268.73877</td>
<td style="text-align: right;">1104.08205</td>
<td style="text-align: right;">2594.52864</td>
<td style="text-align: right;">1490.4466</td>
<td style="text-align: right;">168939.72</td>
<td style="text-align: right;">1351517.80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-07-09</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">18.61620</td>
<td style="text-align: right;">2171.6466</td>
<td style="text-align: right;">723.3042</td>
<td style="text-align: right;">14.916320</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1912.5098</td>
<td style="text-align: right;">184569.0</td>
<td style="text-align: right;">776698.35</td>
<td style="text-align: right;">47.47615</td>
<td style="text-align: right;">1.3702060</td>
<td style="text-align: right;">1.4377250</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">53.17490</td>
<td style="text-align: right;">592129.31</td>
<td style="text-align: right;">4144905.2</td>
<td style="text-align: right;">0.7623671</td>
<td style="text-align: right;">5436888.48</td>
<td style="text-align: right;">1291983.3</td>
<td style="text-align: right;">255.17485</td>
<td style="text-align: right;">1073.81976</td>
<td style="text-align: right;">818.64490</td>
<td style="text-align: right;">96.50620</td>
<td style="text-align: right;">406.11472</td>
<td style="text-align: right;">309.6085</td>
<td style="text-align: right;">683950.16</td>
<td style="text-align: right;">4787651.15</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-07-16</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">20.43312</td>
<td style="text-align: right;">2505.0435</td>
<td style="text-align: right;">270.1186</td>
<td style="text-align: right;">8.455264</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1191.4364</td>
<td style="text-align: right;">434449.3</td>
<td style="text-align: right;">739431.83</td>
<td style="text-align: right;">29.04042</td>
<td style="text-align: right;">1.1203894</td>
<td style="text-align: right;">0.6029316</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">58.50864</td>
<td style="text-align: right;">304982.56</td>
<td style="text-align: right;">914947.7</td>
<td style="text-align: right;">0.4124553</td>
<td style="text-align: right;">2218295.48</td>
<td style="text-align: right;">1303347.8</td>
<td style="text-align: right;">1608.36493</td>
<td style="text-align: right;">2737.43407</td>
<td style="text-align: right;">1129.06914</td>
<td style="text-align: right;">364.64326</td>
<td style="text-align: right;">620.62215</td>
<td style="text-align: right;">255.9789</td>
<td style="text-align: right;">524367.65</td>
<td style="text-align: right;">1573102.95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-07-23</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">23.49805</td>
<td style="text-align: right;">814.8065</td>
<td style="text-align: right;">1717.3284</td>
<td style="text-align: right;">9.283780</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">318.4493</td>
<td style="text-align: right;">348380.6</td>
<td style="text-align: right;">462211.40</td>
<td style="text-align: right;">52.47860</td>
<td style="text-align: right;">0.6959746</td>
<td style="text-align: right;">1.4086634</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">94.59197</td>
<td style="text-align: right;">113830.79</td>
<td style="text-align: right;">682984.8</td>
<td style="text-align: right;">0.2462743</td>
<td style="text-align: right;">2773268.41</td>
<td style="text-align: right;">2090283.6</td>
<td style="text-align: right;">202.86196</td>
<td style="text-align: right;">269.14561</td>
<td style="text-align: right;">66.28365</td>
<td style="text-align: right;">1093.99093</td>
<td style="text-align: right;">1451.44440</td>
<td style="text-align: right;">357.4535</td>
<td style="text-align: right;">26425.63</td>
<td style="text-align: right;">158553.75</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-08-06</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">23.22710</td>
<td style="text-align: right;">2685.4017</td>
<td style="text-align: right;">1588.7923</td>
<td style="text-align: right;">11.721261</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">1843.4383</td>
<td style="text-align: right;">149790.2</td>
<td style="text-align: right;">615230.86</td>
<td style="text-align: right;">63.74276</td>
<td style="text-align: right;">0.4406762</td>
<td style="text-align: right;">1.4355687</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">79.45133</td>
<td style="text-align: right;">465440.65</td>
<td style="text-align: right;">930881.3</td>
<td style="text-align: right;">0.7565301</td>
<td style="text-align: right;">1230461.71</td>
<td style="text-align: right;">299580.4</td>
<td style="text-align: right;">94.27929</td>
<td style="text-align: right;">387.23178</td>
<td style="text-align: right;">292.95249</td>
<td style="text-align: right;">81.25589</td>
<td style="text-align: right;">333.74096</td>
<td style="text-align: right;">252.4851</td>
<td style="text-align: right;">159118.49</td>
<td style="text-align: right;">318236.98</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-08-13</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">11.63511</td>
<td style="text-align: right;">2522.6972</td>
<td style="text-align: right;">1224.8463</td>
<td style="text-align: right;">10.900540</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1130.6046</td>
<td style="text-align: right;">299189.3</td>
<td style="text-align: right;">749334.91</td>
<td style="text-align: right;">47.66533</td>
<td style="text-align: right;">0.4378355</td>
<td style="text-align: right;">1.1052602</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">70.50445</td>
<td style="text-align: right;">450145.58</td>
<td style="text-align: right;">4051310.3</td>
<td style="text-align: right;">0.6007268</td>
<td style="text-align: right;">6744014.23</td>
<td style="text-align: right;">2692704.0</td>
<td style="text-align: right;">244.26684</td>
<td style="text-align: right;">611.77875</td>
<td style="text-align: right;">367.51190</td>
<td style="text-align: right;">264.62772</td>
<td style="text-align: right;">662.77361</td>
<td style="text-align: right;">398.1459</td>
<td style="text-align: right;">313484.44</td>
<td style="text-align: right;">2821359.96</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-08-20</td>
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">18.25358</td>
<td style="text-align: right;">2129.5179</td>
<td style="text-align: right;">1311.9786</td>
<td style="text-align: right;">11.955648</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">441.2600</td>
<td style="text-align: right;">481866.3</td>
<td style="text-align: right;">738063.17</td>
<td style="text-align: right;">48.18567</td>
<td style="text-align: right;">1.2270642</td>
<td style="text-align: right;">0.9414481</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">65.98470</td>
<td style="text-align: right;">256196.91</td>
<td style="text-align: right;">1024787.6</td>
<td style="text-align: right;">0.3471206</td>
<td style="text-align: right;">2952252.69</td>
<td style="text-align: right;">1927465.0</td>
<td style="text-align: right;">367.28211</td>
<td style="text-align: right;">562.55733</td>
<td style="text-align: right;">195.27522</td>
<td style="text-align: right;">1092.02351</td>
<td style="text-align: right;">1672.62662</td>
<td style="text-align: right;">580.6031</td>
<td style="text-align: right;">380473.59</td>
<td style="text-align: right;">1521894.36</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="voyage-utilization-score" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="voyage-utilization-score"><span class="header-section-number">3.5.2</span> Voyage Utilization Score</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Score Range</th>
<th>Label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>≥ 0.30</td>
<td>High</td>
</tr>
<tr class="even">
<td>0.10 – 0.29</td>
<td>Medium</td>
</tr>
<tr class="odd">
<td>&lt; 0.10</td>
<td>Low</td>
</tr>
<tr class="even">
<td>&lt; 0</td>
<td>Loss.</td>
</tr>
</tbody>
</table>
<p>This hybrid metric blends how fully a vessel is loaded and how profit‐efficient it is per dollar of cost. A higher score (≥ 0.30) signals strong utilization and profitability, while a lower score (&lt; 0.10) implies underperformance. Any negative score highlights operations where costs outweigh revenue, even at high load factors. Defining these clear thresholds helps managers quickly identify which voyages are most profitable, which need optimization, and which are outright unviable.</p>
<ul>
<li>Voyage Utilization Score = (Average_Load_Percentage ÷ 100) × (Net_Profit ÷ Operational_Cost_USD)</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate the Voyage Utilization Score </span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># (substitute the appropriate cost column if it's named differently in your dataset)</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Voyage_Utilization_Score =</span> (Average_Load_Percentage <span class="sc">/</span> <span class="dv">100</span>) <span class="sc">*</span> (Net_Profit <span class="sc">/</span> Operational_Cost_USD),</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a categorical label based on the defined thresholds</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Voyage_Performance_Label =</span> <span class="fu">case_when</span>(</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>      Voyage_Utilization_Score <span class="sc">&gt;=</span> <span class="fl">0.30</span>  <span class="sc">~</span> <span class="st">"High"</span>,</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>      Voyage_Utilization_Score <span class="sc">&gt;=</span> <span class="fl">0.10</span>  <span class="sc">~</span> <span class="st">"Medium"</span>,</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>      Voyage_Utilization_Score <span class="sc">&gt;=</span> <span class="fl">0.00</span>  <span class="sc">~</span> <span class="st">"Low"</span>,</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span>                              <span class="sc">~</span> <span class="st">"Loss"</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(ship_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Date"                          "Ship_Type"                    
 [3] "Route_Type"                    "Engine_Type"                  
 [5] "Maintenance_Status"            "Speed_Over_Ground_knots"      
 [7] "Engine_Power_kW"               "Distance_Traveled_nm"         
 [9] "Draft_meters"                  "Weather_Condition"            
[11] "Cargo_Weight_tons"             "Operational_Cost_USD"         
[13] "Revenue_per_Voyage_USD"        "Turnaround_Time_hours"        
[15] "Efficiency_nm_per_kWh"         "Seasonal_Impact_Score"        
[17] "Weekly_Voyage_Count"           "Average_Load_Percentage"      
[19] "Net_Profit"                    "Weekly_Total_Profit"          
[21] "Profit_Margin"                 "Weekly_Total_Revenue"         
[23] "Weekly_Total_Operational_Cost" "Cost_per_NM"                  
[25] "Revenue_per_NM"                "Profit_per_NM"                
[27] "Cost_per_Ton"                  "Revenue_per_Ton"              
[29] "Profit_per_Ton"                "Revenue_Leakage"              
[31] "Weekly_Revenue_Leakage"        "Voyage_Utilization_Score"     
[33] "Voyage_Performance_Label"     </code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Quick preview</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Average_Load_Percentage, Net_Profit, Operational_Cost_USD, </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>         Voyage_Utilization_Score, Voyage_Performance_Label) <span class="sc">%&gt;%</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Average_Load_Percentage</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Net_Profit</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Operational_Cost_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Voyage_Utilization_Score</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Voyage_Performance_Label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">93.89537</td>
<td style="text-align: right;">400377.79</td>
<td style="text-align: right;">483388.0</td>
<td style="text-align: right;">0.7777111</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: right;">96.21824</td>
<td style="text-align: right;">-54524.66</td>
<td style="text-align: right;">448543.4</td>
<td style="text-align: right;">-0.1169623</td>
<td style="text-align: left;">Loss</td>
</tr>
<tr class="odd">
<td style="text-align: right;">66.19370</td>
<td style="text-align: right;">-173798.23</td>
<td style="text-align: right;">261349.6</td>
<td style="text-align: right;">-0.4401900</td>
<td style="text-align: left;">Loss</td>
</tr>
<tr class="even">
<td style="text-align: right;">80.00858</td>
<td style="text-align: right;">388403.08</td>
<td style="text-align: right;">287718.4</td>
<td style="text-align: right;">1.0800693</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="odd">
<td style="text-align: right;">53.17490</td>
<td style="text-align: right;">592129.31</td>
<td style="text-align: right;">184569.0</td>
<td style="text-align: right;">1.7059424</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: right;">58.50864</td>
<td style="text-align: right;">304982.56</td>
<td style="text-align: right;">434449.3</td>
<td style="text-align: right;">0.4107295</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="odd">
<td style="text-align: right;">94.59197</td>
<td style="text-align: right;">113830.79</td>
<td style="text-align: right;">348380.6</td>
<td style="text-align: right;">0.3090723</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: right;">79.45133</td>
<td style="text-align: right;">465440.65</td>
<td style="text-align: right;">149790.2</td>
<td style="text-align: right;">2.4687781</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="odd">
<td style="text-align: right;">70.50445</td>
<td style="text-align: right;">450145.58</td>
<td style="text-align: right;">299189.3</td>
<td style="text-align: right;">1.0607753</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: right;">65.98470</td>
<td style="text-align: right;">256196.91</td>
<td style="text-align: right;">481866.3</td>
<td style="text-align: right;">0.3508251</td>
<td style="text-align: left;">High</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="weekly-voyage-frequency-by-ship-type-and-route-type" class="level3" data-number="3.5.3">
<h3 data-number="3.5.3" class="anchored" data-anchor-id="weekly-voyage-frequency-by-ship-type-and-route-type"><span class="header-section-number">3.5.3</span> Weekly Voyage Frequency by Ship Type and Route Type</h3>
<p>This pivot table displays how many voyages in the dataset fall under each Ship_Type and Route_Type, broken down by the Weekly_Voyage_Count columns labeled 1 through 9. For instance, in the row for “Bulk Carrier / Short‐haul,” 21 total voyages had a weekly frequency of 1, 34 voyages had a weekly frequency of 2, and so on. The final Subtotal column is the sum of those counts across all frequency buckets, indicating the total number of voyages for that combination of Ship_Type and Route_Type. This format makes it easy to spot which shipping segments operate most frequently at certain counts (e.g., once a week vs.&nbsp;nine times a week) and compare overall totals across different routes and vessel categories.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Weekly_Voyage_Count) <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Record_Count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Weekly_Voyage_Count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  Weekly_Voyage_Count Record_Count
                &lt;int&gt;        &lt;int&gt;
1                   1          259
2                   2          254
3                   3          229
4                   4          245
5                   5          226
6                   6          211
7                   7          239
8                   8          244
9                   9          220</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Weekly_Voyage_Count, Ship_Type) <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Record_Count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Weekly_Voyage_Count, Ship_Type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 × 3
# Groups:   Weekly_Voyage_Count [9]
   Weekly_Voyage_Count Ship_Type      Record_Count
                 &lt;int&gt; &lt;chr&gt;                 &lt;int&gt;
 1                   1 Bulk Carrier             65
 2                   1 Container Ship           75
 3                   1 Fish Carrier             58
 4                   1 Tanker                   61
 5                   2 Bulk Carrier             72
 6                   2 Container Ship           56
 7                   2 Fish Carrier             58
 8                   2 Tanker                   68
 9                   3 Bulk Carrier             62
10                   3 Container Ship           49
# ℹ 26 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>wide_table <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Ship_Type, Route_Type, Weekly_Voyage_Count) <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sum_of_Weekly_Voyages =</span> <span class="fu">sum</span>(Weekly_Voyage_Count),</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from  =</span> Weekly_Voyage_Count,</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> Sum_of_Weekly_Voyages,</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_fill =</span> <span class="dv">0</span></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Subtotal =</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="st">`</span><span class="at">1</span><span class="st">`</span><span class="sc">:</span><span class="st">`</span><span class="at">9</span><span class="st">`</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Ship_Type, Route_Type)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>wide_table <span class="sc">%&gt;%</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">full_width =</span> <span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">1</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">3</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">4</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">6</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">7</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">8</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">9</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Subtotal</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">104</td>
<td style="text-align: right;">171</td>
<td style="text-align: right;">663</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">119</td>
<td style="text-align: right;">136</td>
<td style="text-align: right;">180</td>
<td style="text-align: right;">710</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">125</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">126</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">144</td>
<td style="text-align: right;">719</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">136</td>
<td style="text-align: right;">117</td>
<td style="text-align: right;">632</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">30</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">119</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">607</td>
</tr>
<tr class="even">
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">76</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">132</td>
<td style="text-align: right;">91</td>
<td style="text-align: right;">128</td>
<td style="text-align: right;">198</td>
<td style="text-align: right;">774</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">119</td>
<td style="text-align: right;">104</td>
<td style="text-align: right;">108</td>
<td style="text-align: right;">546</td>
</tr>
<tr class="even">
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">95</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">98</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">614</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">144</td>
<td style="text-align: right;">602</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">85</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">70</td>
<td style="text-align: right;">144</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">633</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">600</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">133</td>
<td style="text-align: right;">160</td>
<td style="text-align: right;">198</td>
<td style="text-align: right;">779</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Coastal</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">192</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">638</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">88</td>
<td style="text-align: right;">85</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">136</td>
<td style="text-align: right;">90</td>
<td style="text-align: right;">677</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">57</td>
<td style="text-align: right;">60</td>
<td style="text-align: right;">70</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">99</td>
<td style="text-align: right;">621</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">75</td>
<td style="text-align: right;">78</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">120</td>
<td style="text-align: right;">108</td>
<td style="text-align: right;">620</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="weekly-frequency-utilization-score" class="level3" data-number="3.5.4">
<h3 data-number="3.5.4" class="anchored" data-anchor-id="weekly-frequency-utilization-score"><span class="header-section-number">3.5.4</span> Weekly Frequency Utilization Score</h3>
<p>This metric compares each voyage’s weekly frequency to the average frequency (for the same ship type and route) and then factors in the vessel’s load percentage. It tells you whether a particular voyage is sailed more or less often than typical for that category and how effectively its capacity is being used. A high score indicates above‐average sailing frequency and high load factor, while a low score suggests below‐average frequency or underutilized capacity.</p>
<p>Below is a hypothetical range for the Weekly Frequency Utilization Score, aligning closely with industry best practices and reflecting the distribution observed in the processed ship_data. These thresholds may be refined further based on further benchmarks or changing market conditions.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Score Range</th>
<th>Category</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>≥ 0.35</td>
<td>High</td>
<td>Frequent sailings at solid load levels (75th percentile or above)</td>
</tr>
<tr class="even">
<td>0.20 – 0.34</td>
<td>Medium</td>
<td>Sufficient frequency and moderate capacity usage</td>
</tr>
<tr class="odd">
<td>0.05 – 0.19</td>
<td>Low</td>
<td>Infrequent sailings or partially filled voyages</td>
</tr>
<tr class="even">
<td>&lt; 0.05</td>
<td>Minimal</td>
<td>Significantly underutilized capacity or very few weekly departures</td>
</tr>
</tbody>
</table>
<p><strong>Rationale</strong> - <strong>High (≥ 0.35)</strong>: Represents top‐tier performance where voyages are running often and at strong load factors. - <strong>Medium (0.20 – 0.34)</strong>: Indicates moderate efficiency—voyages are either reasonably frequent or well‐loaded, but not at peak levels. - <strong>Low (0.05 – 0.19)</strong>: Captures sporadic or suboptimal voyages—there is likely room to improve scheduling or load management. - <strong>Minimal (&lt; 0.05)</strong>: Signifies major underutilization; either very low frequency or extremely poor load factor.</p>
<p>These thresholds help identify segments or weeks where capacity usage and voyage repetition fall short of internal or industry standards, prompting targeted improvements in scheduling, pricing, or fleet allocation.</p>
<p>The combine relative frequency and capacity utilization. The idea is:</p>
<ul>
<li>Compare the actual weekly voyage count to the average weekly voyage count for the same ship–route segment. This ratio indicates whether a particular record’s frequency is above or below average.</li>
<li>Multiply by the load factor (Average_Load_Percentage ÷ 100), reflecting how fully the vessel is utilized.</li>
</ul>
<p>Formally:</p>
<p>Weekly_Frequency_Utilization_Score = (Weekly_Voyage_Count / Avg_Weekly_Voyage_Freq_Ship_Route) × (Average_Load_Percentage / 100)</p>
<ul>
<li>If Weekly_Voyage_Count is greater than the average for that ship–route combination, the ratio exceeds 1, boosting the score.</li>
<li>If the vessel also has a high load factor, it further increases the score—meaning it’s sailing more frequently and more fully loaded than its peers.</li>
<li>Conversely, a below‐average voyage count or low load factor reduces the score.</li>
</ul>
<p>This approach highlights both how often a particular route is sailed relative to the typical frequency in that segment and how effectively its capacity is used.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Ship_Type, Route_Type) <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Weekly_Freq_Ship_Route =</span> <span class="fu">mean</span>(Weekly_Voyage_Count, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Weekly_Frequency_Utilization_Score =</span> (Weekly_Voyage_Count <span class="sc">/</span> Avg_Weekly_Freq_Ship_Route) <span class="sc">*</span> (Average_Load_Percentage <span class="sc">/</span> <span class="dv">100</span>),</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Weekly_Frequency_Utilization_Label =</span> <span class="fu">case_when</span>(</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>      Weekly_Frequency_Utilization_Score <span class="sc">&gt;=</span> <span class="fl">0.35</span> <span class="sc">~</span> <span class="st">"High"</span>,</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>      Weekly_Frequency_Utilization_Score <span class="sc">&gt;=</span> <span class="fl">0.20</span> <span class="sc">~</span> <span class="st">"Medium"</span>,</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>      Weekly_Frequency_Utilization_Score <span class="sc">&gt;=</span> <span class="fl">0.05</span> <span class="sc">~</span> <span class="st">"Low"</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span>                                       <span class="sc">~</span> <span class="st">"Minimal"</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  summary_table <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>      Ship_Type,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>      Route_Type,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>      Date,</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>      Weekly_Voyage_Count,</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>      Avg_Weekly_Freq_Ship_Route,</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>      Weekly_Frequency_Utilization_Score,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>      Weekly_Frequency_Utilization_Label</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(<span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Voyage_Count</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Avg_Weekly_Freq_Ship_Route</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Frequency_Utilization_Score</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weekly_Frequency_Utilization_Label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">2023-06-11</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">4.761905</td>
<td style="text-align: right;">1.1830817</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">2023-06-18</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">5.058823</td>
<td style="text-align: right;">1.7117897</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">2023-06-25</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5.056000</td>
<td style="text-align: right;">0.1309211</td>
<td style="text-align: left;">Low</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">2023-07-02</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">5.644927</td>
<td style="text-align: right;">1.1338828</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">2023-07-09</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">4.795454</td>
<td style="text-align: right;">0.7762023</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">2023-07-16</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">5.644927</td>
<td style="text-align: right;">0.3109445</td>
<td style="text-align: left;">Medium</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">2023-07-23</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">5.200000</td>
<td style="text-align: right;">1.0914458</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">2023-08-06</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5.058823</td>
<td style="text-align: right;">0.3141099</td>
<td style="text-align: left;">Medium</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">2023-08-13</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">4.761905</td>
<td style="text-align: right;">1.3325341</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">2023-08-20</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5.254237</td>
<td style="text-align: right;">0.5023352</td>
<td style="text-align: left;">High</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>() <span class="sc">%&gt;%</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_styling</span>(</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">bootstrap_options =</span> <span class="fu">c</span>(<span class="st">"striped"</span>, <span class="st">"hover"</span>, <span class="st">"condensed"</span>),</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">full_width =</span> <span class="cn">FALSE</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Date</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ship_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Route_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Engine_Type</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Maintenance_Status</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Speed_Over_Ground_knots</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Engine_Power_kW</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Distance_Traveled_nm</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Draft_meters</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weather_Condition</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cargo_Weight_tons</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Operational_Cost_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Voyage_USD</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Turnaround_Time_hours</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Efficiency_nm_per_kWh</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Seasonal_Impact_Score</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Voyage_Count</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Average_Load_Percentage</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Net_Profit</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Total_Profit</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Profit_Margin</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Total_Revenue</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Total_Operational_Cost</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cost_per_NM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_NM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Profit_per_NM</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Cost_per_Ton</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_per_Ton</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Profit_per_Ton</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Revenue_Leakage</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Revenue_Leakage</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Voyage_Utilization_Score</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Voyage_Performance_Label</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Avg_Weekly_Freq_Ship_Route</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Weekly_Frequency_Utilization_Score</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Weekly_Frequency_Utilization_Label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2023-06-11</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">10.38758</td>
<td style="text-align: right;">1796.0574</td>
<td style="text-align: right;">1060.4864</td>
<td style="text-align: right;">14.653083</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">162.3947</td>
<td style="text-align: right;">483388.0</td>
<td style="text-align: right;">883765.79</td>
<td style="text-align: right;">63.24820</td>
<td style="text-align: right;">0.2903614</td>
<td style="text-align: right;">0.8856478</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">93.89537</td>
<td style="text-align: right;">400377.79</td>
<td style="text-align: right;">2402266.7</td>
<td style="text-align: right;">0.4530361</td>
<td style="text-align: right;">5302594.72</td>
<td style="text-align: right;">2900328.0</td>
<td style="text-align: right;">455.81726</td>
<td style="text-align: right;">833.35892</td>
<td style="text-align: right;">377.54166</td>
<td style="text-align: right;">2976.62403</td>
<td style="text-align: right;">5442.08478</td>
<td style="text-align: right;">2465.4607</td>
<td style="text-align: right;">57458.22</td>
<td style="text-align: right;">344749.33</td>
<td style="text-align: right;">0.7777111</td>
<td style="text-align: left;">High</td>
<td style="text-align: right;">4.761905</td>
<td style="text-align: right;">1.1830817</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-06-18</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">20.74975</td>
<td style="text-align: right;">1648.5567</td>
<td style="text-align: right;">658.8741</td>
<td style="text-align: right;">7.199261</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">178.0409</td>
<td style="text-align: right;">448543.4</td>
<td style="text-align: right;">394018.75</td>
<td style="text-align: right;">49.41815</td>
<td style="text-align: right;">0.4995945</td>
<td style="text-align: right;">1.4058132</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">96.21824</td>
<td style="text-align: right;">-54524.66</td>
<td style="text-align: right;">-490721.9</td>
<td style="text-align: right;">-0.1383809</td>
<td style="text-align: right;">3546168.72</td>
<td style="text-align: right;">4036890.6</td>
<td style="text-align: right;">680.77251</td>
<td style="text-align: right;">598.01823</td>
<td style="text-align: right;">-82.75428</td>
<td style="text-align: right;">2519.32765</td>
<td style="text-align: right;">2213.07975</td>
<td style="text-align: right;">-306.2479</td>
<td style="text-align: right;">15486.49</td>
<td style="text-align: right;">139378.38</td>
<td style="text-align: right;">-0.1169623</td>
<td style="text-align: left;">Loss</td>
<td style="text-align: right;">5.058823</td>
<td style="text-align: right;">1.7117897</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-06-25</td>
<td style="text-align: left;">Bulk Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">21.05510</td>
<td style="text-align: right;">915.2618</td>
<td style="text-align: right;">1126.8225</td>
<td style="text-align: right;">11.789062</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1737.3853</td>
<td style="text-align: right;">261349.6</td>
<td style="text-align: right;">87551.38</td>
<td style="text-align: right;">22.40911</td>
<td style="text-align: right;">0.7029057</td>
<td style="text-align: right;">1.3707043</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">66.19370</td>
<td style="text-align: right;">-173798.23</td>
<td style="text-align: right;">-173798.2</td>
<td style="text-align: right;">-1.9850999</td>
<td style="text-align: right;">87551.38</td>
<td style="text-align: right;">261349.6</td>
<td style="text-align: right;">231.93502</td>
<td style="text-align: right;">77.69757</td>
<td style="text-align: right;">-154.23745</td>
<td style="text-align: right;">150.42697</td>
<td style="text-align: right;">50.39261</td>
<td style="text-align: right;">-100.0344</td>
<td style="text-align: right;">44714.05</td>
<td style="text-align: right;">44714.05</td>
<td style="text-align: right;">-0.4401900</td>
<td style="text-align: left;">Loss</td>
<td style="text-align: right;">5.056000</td>
<td style="text-align: right;">0.1309211</td>
<td style="text-align: left;">Low</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-07-02</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">13.74278</td>
<td style="text-align: right;">1089.7218</td>
<td style="text-align: right;">1445.2812</td>
<td style="text-align: right;">9.727833</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">260.5951</td>
<td style="text-align: right;">287718.4</td>
<td style="text-align: right;">676121.46</td>
<td style="text-align: right;">64.15823</td>
<td style="text-align: right;">1.3313431</td>
<td style="text-align: right;">0.5833834</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">80.00858</td>
<td style="text-align: right;">388403.08</td>
<td style="text-align: right;">3107224.7</td>
<td style="text-align: right;">0.5744576</td>
<td style="text-align: right;">5408971.68</td>
<td style="text-align: right;">2301747.0</td>
<td style="text-align: right;">199.07433</td>
<td style="text-align: right;">467.81310</td>
<td style="text-align: right;">268.73877</td>
<td style="text-align: right;">1104.08205</td>
<td style="text-align: right;">2594.52864</td>
<td style="text-align: right;">1490.4466</td>
<td style="text-align: right;">168939.72</td>
<td style="text-align: right;">1351517.80</td>
<td style="text-align: right;">1.0800693</td>
<td style="text-align: left;">High</td>
<td style="text-align: right;">5.644927</td>
<td style="text-align: right;">1.1338828</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-07-09</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">18.61620</td>
<td style="text-align: right;">2171.6466</td>
<td style="text-align: right;">723.3042</td>
<td style="text-align: right;">14.916320</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1912.5098</td>
<td style="text-align: right;">184569.0</td>
<td style="text-align: right;">776698.35</td>
<td style="text-align: right;">47.47615</td>
<td style="text-align: right;">1.3702060</td>
<td style="text-align: right;">1.4377250</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">53.17490</td>
<td style="text-align: right;">592129.31</td>
<td style="text-align: right;">4144905.2</td>
<td style="text-align: right;">0.7623671</td>
<td style="text-align: right;">5436888.48</td>
<td style="text-align: right;">1291983.3</td>
<td style="text-align: right;">255.17485</td>
<td style="text-align: right;">1073.81976</td>
<td style="text-align: right;">818.64490</td>
<td style="text-align: right;">96.50620</td>
<td style="text-align: right;">406.11472</td>
<td style="text-align: right;">309.6085</td>
<td style="text-align: right;">683950.16</td>
<td style="text-align: right;">4787651.15</td>
<td style="text-align: right;">1.7059424</td>
<td style="text-align: left;">High</td>
<td style="text-align: right;">4.795454</td>
<td style="text-align: right;">0.7762023</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-07-16</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Heavy Fuel Oil (HFO)</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">20.43312</td>
<td style="text-align: right;">2505.0435</td>
<td style="text-align: right;">270.1186</td>
<td style="text-align: right;">8.455264</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">1191.4364</td>
<td style="text-align: right;">434449.3</td>
<td style="text-align: right;">739431.83</td>
<td style="text-align: right;">29.04042</td>
<td style="text-align: right;">1.1203894</td>
<td style="text-align: right;">0.6029316</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">58.50864</td>
<td style="text-align: right;">304982.56</td>
<td style="text-align: right;">914947.7</td>
<td style="text-align: right;">0.4124553</td>
<td style="text-align: right;">2218295.48</td>
<td style="text-align: right;">1303347.8</td>
<td style="text-align: right;">1608.36493</td>
<td style="text-align: right;">2737.43407</td>
<td style="text-align: right;">1129.06914</td>
<td style="text-align: right;">364.64326</td>
<td style="text-align: right;">620.62215</td>
<td style="text-align: right;">255.9789</td>
<td style="text-align: right;">524367.65</td>
<td style="text-align: right;">1573102.95</td>
<td style="text-align: right;">0.4107295</td>
<td style="text-align: left;">High</td>
<td style="text-align: right;">5.644927</td>
<td style="text-align: right;">0.3109445</td>
<td style="text-align: left;">Medium</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-07-23</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Critical</td>
<td style="text-align: right;">23.49805</td>
<td style="text-align: right;">814.8065</td>
<td style="text-align: right;">1717.3284</td>
<td style="text-align: right;">9.283780</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">318.4493</td>
<td style="text-align: right;">348380.6</td>
<td style="text-align: right;">462211.40</td>
<td style="text-align: right;">52.47860</td>
<td style="text-align: right;">0.6959746</td>
<td style="text-align: right;">1.4086634</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">94.59197</td>
<td style="text-align: right;">113830.79</td>
<td style="text-align: right;">682984.8</td>
<td style="text-align: right;">0.2462743</td>
<td style="text-align: right;">2773268.41</td>
<td style="text-align: right;">2090283.6</td>
<td style="text-align: right;">202.86196</td>
<td style="text-align: right;">269.14561</td>
<td style="text-align: right;">66.28365</td>
<td style="text-align: right;">1093.99093</td>
<td style="text-align: right;">1451.44440</td>
<td style="text-align: right;">357.4535</td>
<td style="text-align: right;">26425.63</td>
<td style="text-align: right;">158553.75</td>
<td style="text-align: right;">0.3090723</td>
<td style="text-align: left;">High</td>
<td style="text-align: right;">5.200000</td>
<td style="text-align: right;">1.0914458</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-08-06</td>
<td style="text-align: left;">Container Ship</td>
<td style="text-align: left;">Long-haul</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">23.22710</td>
<td style="text-align: right;">2685.4017</td>
<td style="text-align: right;">1588.7923</td>
<td style="text-align: right;">11.721261</td>
<td style="text-align: left;">Calm</td>
<td style="text-align: right;">1843.4383</td>
<td style="text-align: right;">149790.2</td>
<td style="text-align: right;">615230.86</td>
<td style="text-align: right;">63.74276</td>
<td style="text-align: right;">0.4406762</td>
<td style="text-align: right;">1.4355687</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">79.45133</td>
<td style="text-align: right;">465440.65</td>
<td style="text-align: right;">930881.3</td>
<td style="text-align: right;">0.7565301</td>
<td style="text-align: right;">1230461.71</td>
<td style="text-align: right;">299580.4</td>
<td style="text-align: right;">94.27929</td>
<td style="text-align: right;">387.23178</td>
<td style="text-align: right;">292.95249</td>
<td style="text-align: right;">81.25589</td>
<td style="text-align: right;">333.74096</td>
<td style="text-align: right;">252.4851</td>
<td style="text-align: right;">159118.49</td>
<td style="text-align: right;">318236.98</td>
<td style="text-align: right;">2.4687781</td>
<td style="text-align: left;">High</td>
<td style="text-align: right;">5.058823</td>
<td style="text-align: right;">0.3141099</td>
<td style="text-align: left;">Medium</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2023-08-13</td>
<td style="text-align: left;">Fish Carrier</td>
<td style="text-align: left;">Short-haul</td>
<td style="text-align: left;">Steam Turbine</td>
<td style="text-align: left;">Fair</td>
<td style="text-align: right;">11.63511</td>
<td style="text-align: right;">2522.6972</td>
<td style="text-align: right;">1224.8463</td>
<td style="text-align: right;">10.900540</td>
<td style="text-align: left;">Moderate</td>
<td style="text-align: right;">1130.6046</td>
<td style="text-align: right;">299189.3</td>
<td style="text-align: right;">749334.91</td>
<td style="text-align: right;">47.66533</td>
<td style="text-align: right;">0.4378355</td>
<td style="text-align: right;">1.1052602</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">70.50445</td>
<td style="text-align: right;">450145.58</td>
<td style="text-align: right;">4051310.3</td>
<td style="text-align: right;">0.6007268</td>
<td style="text-align: right;">6744014.23</td>
<td style="text-align: right;">2692704.0</td>
<td style="text-align: right;">244.26684</td>
<td style="text-align: right;">611.77875</td>
<td style="text-align: right;">367.51190</td>
<td style="text-align: right;">264.62772</td>
<td style="text-align: right;">662.77361</td>
<td style="text-align: right;">398.1459</td>
<td style="text-align: right;">313484.44</td>
<td style="text-align: right;">2821359.96</td>
<td style="text-align: right;">1.0607753</td>
<td style="text-align: left;">High</td>
<td style="text-align: right;">4.761905</td>
<td style="text-align: right;">1.3325341</td>
<td style="text-align: left;">High</td>
</tr>
<tr class="even">
<td style="text-align: left;">2023-08-20</td>
<td style="text-align: left;">Tanker</td>
<td style="text-align: left;">Transoceanic</td>
<td style="text-align: left;">Diesel</td>
<td style="text-align: left;">Good</td>
<td style="text-align: right;">18.25358</td>
<td style="text-align: right;">2129.5179</td>
<td style="text-align: right;">1311.9786</td>
<td style="text-align: right;">11.955648</td>
<td style="text-align: left;">Rough</td>
<td style="text-align: right;">441.2600</td>
<td style="text-align: right;">481866.3</td>
<td style="text-align: right;">738063.17</td>
<td style="text-align: right;">48.18567</td>
<td style="text-align: right;">1.2270642</td>
<td style="text-align: right;">0.9414481</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">65.98470</td>
<td style="text-align: right;">256196.91</td>
<td style="text-align: right;">1024787.6</td>
<td style="text-align: right;">0.3471206</td>
<td style="text-align: right;">2952252.69</td>
<td style="text-align: right;">1927465.0</td>
<td style="text-align: right;">367.28211</td>
<td style="text-align: right;">562.55733</td>
<td style="text-align: right;">195.27522</td>
<td style="text-align: right;">1092.02351</td>
<td style="text-align: right;">1672.62662</td>
<td style="text-align: right;">580.6031</td>
<td style="text-align: right;">380473.59</td>
<td style="text-align: right;">1521894.36</td>
<td style="text-align: right;">0.3508251</td>
<td style="text-align: left;">High</td>
<td style="text-align: right;">5.254237</td>
<td style="text-align: right;">0.5023352</td>
<td style="text-align: left;">High</td>
</tr>
</tbody>
</table>


</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(ship_data, <span class="st">"data/Updated_Ship_Data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="exploratory-data-analysis" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Exploratory Data Analysis</h1>
<section id="univariate-analysis---histograms-of-key-profitability-metrics" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="univariate-analysis---histograms-of-key-profitability-metrics"><span class="header-section-number">4.1</span> Univariate Analysis - Histograms of Key Profitability Metrics</h2>
<p>These histograms reveal key profitability patterns, highlighting profit distribution, cost variability, and revenue inefficiencies. Net Profit and Weekly Total Profit show whether voyages are mostly profitable or loss-making, while Operational Costs indicate potential inefficiencies. Revenue Leakage suggests lost income due to underutilization, and the skewness in Weekly Revenue and Costs underscores the need for better pricing and resource allocation. These insights directly support optimizing fleet management, cost reduction, and profit maximization in our shipping performance analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Choose 8 columns that are more profitability-related</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>my_columns <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Total_Profit"</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Total_Revenue"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Revenue_Leakage"</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Total_Operational_Cost"</span>,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Net_Profit"</span>,</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Revenue_per_Voyage_USD"</span>,</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Operational_Cost_USD"</span>,</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Revenue_Leakage"</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset these columns and reshape to long format</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>ship_data_long <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(my_columns)) <span class="sc">%&gt;%</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">everything</span>(),</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"Metric"</span>,</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"Value"</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw histograms for each metric in a facet-wrap layout</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ship_data_long, <span class="fu">aes</span>(<span class="at">x =</span> Value)) <span class="sc">+</span></span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Metric, <span class="at">scales =</span> <span class="st">"free_x"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Histograms of Key Profitability Metrics"</span>,</span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Count"</span></span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="data-distribution-insight" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="data-distribution-insight"><span class="header-section-number">4.2</span> Data Distribution Insight</h2>
<p>Below is a condensed overview of the Ship Type–only ridgelines alongside the more detailed Ship + Route breakdown:</p>
<ol type="1">
<li>Ship Type–Only Distributions</li>
</ol>
<ul>
<li>Offers a high‐level look at how each vessel class trends in terms of net profit, operational costs, and revenue. For example, Tankers may peak at higher costs, whereas Bulk Carriers might sit somewhere in the moderate range. This macro view quickly shows which ship types are consistently profitable (distribution shifted to the right) or face more variance.</li>
</ul>
<ol start="2" type="1">
<li>Ship &amp; Route Combined Distributions</li>
</ol>
<ul>
<li>Drills further into route type (short‐haul, long‐haul, etc.) within each ship class. You see not only how the vessel itself behaves financially, but also how those finances change according to route demands. Some short‐haul routes might yield fewer outliers or tighter profit margins, while long‐haul or transoceanic trips could show peaks at higher revenue but potentially higher costs.</li>
</ul>
<p>Key Insights</p>
<ul>
<li><p>Profitability Gaps: Net profit and profit margin curves highlight where certain ships/routes excel or struggle.</p></li>
<li><p>Cost vs.&nbsp;Revenue: Operational cost curves often correlate with higher revenues—but not always enough to guarantee top‐tier profit.</p></li>
<li><p>Revenue Leakage: Sharp right‐skew in weekly or per‐voyage leakage indicates a small subset of voyages experiencing disproportionately high lost revenue.</p></li>
</ul>
<p>Overall, ship‐only plots are great for broad, fleet‐wide comparisons, while the ship‐route ridgelines pinpoint exactly which combinations drive or drain profitability. This dual perspective helps direct strategic decisions: from general fleet allocation (which ship types to expand or optimize) down to route‐level optimization (improving high‐cost or under‐utilized segments).</p>
<section id="by-ship" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="by-ship"><span class="header-section-number">4.2.1</span> By Ship</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Choose 8 key profitability-related columns</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>my_columns <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Total_Profit"</span>,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Total_Revenue"</span>,</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Total_Operational_Cost"</span>,</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Revenue_Leakage"</span>,</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Net_Profit"</span>,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Profit_Margin"</span>,</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Revenue_per_Voyage_USD"</span>,</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Operational_Cost_USD"</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform data into long format for plotting</span></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>ship_data_long <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Ship_Type, <span class="fu">all_of</span>(my_columns)) <span class="sc">%&gt;%</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span>Ship_Type,  <span class="co"># Keep Ship_Type as a category</span></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"Metric"</span>,</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"Value"</span></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot ridgeline density distributions</span></span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ship_data_long, <span class="fu">aes</span>(<span class="at">x =</span> Value, <span class="at">y =</span> Ship_Type, <span class="at">fill =</span> Ship_Type)) <span class="sc">+</span></span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">scale =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Metric, <span class="at">scales =</span> <span class="st">"free_x"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span>  <span class="co"># Display 2 columns for better spacing</span></span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Ridgeline Density of Key Profitability Metrics by Ship Type"</span>,</span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb54-32"><a href="#cb54-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Ship Type"</span></span>
<span id="cb54-33"><a href="#cb54-33" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb54-34"><a href="#cb54-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb54-35"><a href="#cb54-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="by-ship_type-and-route_type" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="by-ship_type-and-route_type"><span class="header-section-number">4.2.2</span> By Ship_Type and Route_Type</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Choose 8 key profitability-related columns</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>my_columns <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Total_Profit"</span>,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Total_Revenue"</span>,</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Total_Operational_Cost"</span>,</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Weekly_Revenue_Leakage"</span>,</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Net_Profit"</span>,</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Profit_Margin"</span>,</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Revenue_per_Voyage_USD"</span>,</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Operational_Cost_USD"</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Combine Ship_Type and Route_Type into one column, then select + pivot</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>ship_data_long <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ShipRoute =</span> <span class="fu">paste</span>(Ship_Type, Route_Type, <span class="at">sep =</span> <span class="st">" - "</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ShipRoute, <span class="fu">all_of</span>(my_columns)) <span class="sc">%&gt;%</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span>ShipRoute,</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"Metric"</span>,</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"Value"</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Plot ridgeline density distributions, faceted by each metric</span></span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ship_data_long, <span class="fu">aes</span>(<span class="at">x =</span> Value, <span class="at">y =</span> ShipRoute, <span class="at">fill =</span> ShipRoute)) <span class="sc">+</span></span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">scale =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Metric, <span class="at">scales =</span> <span class="st">"free_x"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span>  </span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Ridgeline Density of Key Profitability Metrics by Ship &amp; Route"</span>,</span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Ship - Route"</span></span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="pairwise-correlation-of-key-profit-cost-features" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="pairwise-correlation-of-key-profit-cost-features"><span class="header-section-number">4.3</span> Pairwise Correlation of Key Profit &amp; Cost Features</h2>
<p>rom the scatterplot matrix and correlation coefficients, we see a strong positive relationship between weekly revenue and weekly profit, indicating that higher revenue strongly elevates profitability. Operational cost also correlates positively with weekly revenue—implying more expensive voyages tend to generate higher revenue, but not necessarily an equivalent rise in net profit. Profit margin shows a clear positive link with net profit as well, though it seems less influenced by distance or cargo weight. Seasonal impact and distance traveled have only mild correlations with these profit/cost variables, suggesting that while factors like seasonal conditions or route length do matter, they’re not the primary drivers of overall profitability. These insights highlight revenue and cost management—and maintaining a high profit margin—as pivotal to boosting total profits in the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Update your numeric features with those most relevant to profit and cost:</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>ship_data_num <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    Weekly_Total_Profit,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    Weekly_Total_Operational_Cost,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    Weekly_Total_Revenue,</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    Net_Profit,        <span class="co"># or Profit_per_Voyage_USD if you prefer per-voyage metrics</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>    Profit_Margin,</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>    Cargo_Weight_tons,</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>    Seasonal_Impact_Score,</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>    Distance_Traveled_nm</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate the pairwise scatterplot matrix with correlation coefficients</span></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggpairs</span>(ship_data_num)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="k-mean-clustering" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="k-mean-clustering"><span class="header-section-number">4.4</span> K-Mean Clustering</h2>
<p>Below is a high‐level approach to perform K‐means clustering on Ship_Type and Route_Type but based on numeric profitability metrics (like revenue, cost, and profit). Because K‐means requires numeric features,first is to aggregate the dataset by (Ship_Type, Route_Type) and compute relevant revenue and cost statistics. Then clustering these route‐type/ship‐type combinations to discover natural groupings (e.g., high‐profit vs.&nbsp;low‐profit segments).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>ship_agg <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Ship_Type, Route_Type) <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Revenue    =</span> <span class="fu">mean</span>(Revenue_per_Voyage_USD, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Cost       =</span> <span class="fu">mean</span>(Operational_Cost_USD, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Profit     =</span> <span class="fu">mean</span>(Net_Profit, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Weekly_Rev =</span> <span class="fu">mean</span>(Weekly_Total_Revenue, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Weekly_Cost=</span> <span class="fu">mean</span>(Weekly_Total_Operational_Cost, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_Weekly_Prof=</span> <span class="fu">mean</span>(Weekly_Total_Profit, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>ship_agg_numeric <span class="ot">&lt;-</span> ship_agg <span class="sc">%&gt;%</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Ship_Type, <span class="sc">-</span>Route_Type)  <span class="co"># just keep numeric columns</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale using base R (or use tidymodels recipe)</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>ship_agg_scaled <span class="ot">&lt;-</span> <span class="fu">scale</span>(ship_agg_numeric) <span class="sc">%&gt;%</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>()  <span class="co"># convert matrix back to data frame</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># reproducibility</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>k <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>kmeans_model <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(ship_agg_scaled, <span class="at">centers =</span> k, <span class="at">nstart =</span> <span class="dv">10</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Store cluster assignments</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>ship_agg<span class="sc">$</span>Cluster <span class="ot">&lt;-</span> <span class="fu">factor</span>(kmeans_model<span class="sc">$</span>cluster)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>ship_agg <span class="sc">%&gt;%</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Cluster) <span class="sc">%&gt;%</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Ship_Type, Route_Type, Cluster, Avg_Revenue, Avg_Cost, Avg_Profit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 6
   Ship_Type      Route_Type   Cluster Avg_Revenue Avg_Cost Avg_Profit
   &lt;chr&gt;          &lt;chr&gt;        &lt;fct&gt;         &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
 1 Bulk Carrier   Short-haul   1           528879.  252698.    276182.
 2 Container Ship Coastal      1           506958.  244700.    262258.
 3 Container Ship Transoceanic 1           516478.  269646.    246832.
 4 Tanker         Coastal      1           491895.  245949.    245946.
 5 Tanker         Long-haul    1           513297.  255736.    257561.
 6 Tanker         Short-haul   1           503680.  242336.    261345.
 7 Bulk Carrier   Long-haul    2           542952.  241694.    301258.
 8 Container Ship Short-haul   2           555488.  250784.    304704.
 9 Fish Carrier   Coastal      2           556015.  248327.    307687.
10 Fish Carrier   Long-haul    2           547880.  248427.    299453.
11 Bulk Carrier   Coastal      3           504851.  265976.    238875.
12 Bulk Carrier   Transoceanic 3           514263.  262084.    252179.
13 Container Ship Long-haul    3           525549.  276498.    249051.
14 Fish Carrier   Short-haul   3           528934.  292335.    236599.
15 Fish Carrier   Transoceanic 3           508785.  250480.    258305.
16 Tanker         Transoceanic 3           540962.  264517.    276446.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>ship_agg <span class="sc">%&gt;%</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Cluster) <span class="sc">%&gt;%</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_of_Avg_Revenue =</span> <span class="fu">mean</span>(Avg_Revenue),</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_of_Avg_Cost    =</span> <span class="fu">mean</span>(Avg_Cost),</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_of_Avg_Profit  =</span> <span class="fu">mean</span>(Avg_Profit),</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
  Cluster Avg_of_Avg_Revenue Avg_of_Avg_Cost Avg_of_Avg_Profit
  &lt;fct&gt;                &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;
1 1                  510198.         251844.           258354.
2 2                  550584.         247308.           303276.
3 3                  520557.         268648.           251909.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_cluster</span>(</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">object    =</span> kmeans_model,</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">data      =</span> ship_agg_scaled,</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">geom      =</span> <span class="st">"point"</span>,</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ellipse.type =</span> <span class="st">"norm"</span>,</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">main      =</span> <span class="fu">paste</span>(<span class="st">"K-Means Clustering (k ="</span>, k, <span class="st">")"</span>)</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="clustering-conclusion" class="level3" data-number="4.4.1">
<h3 data-number="4.4.1" class="anchored" data-anchor-id="clustering-conclusion"><span class="header-section-number">4.4.1</span> Clustering Conclusion</h3>
<p>By clustering Ship_Type + Route_Type combinations on their average revenue, cost, and profit, three distinct groups emerged: - Cluster 1 exhibits moderate revenue (around 510k) and cost (about 252k), resulting in a middle‐of‐the‐pack average profit. - Cluster 2 stands out for relatively higher average revenue (~551k) and the lowest cost (~247k), yielding the highest profit among the three clusters. - Cluster 3 shows slightly lower revenue (~521k) than Cluster 2 but higher cost (~269k), which lowers average profit compared to Cluster 2. Overall, Cluster 2 represents the most profitable “sweet spot,” suggesting that those ship–route combinations manage cost and generate revenue more effectively. Cluster 1 also operates decently, but may have room to optimize revenue or reduce costs further. Cluster 3, with elevated costs, may need special attention—either via cost‐reduction measures or route adjustments—to improve profit margins.</p>
</section>
</section>
<section id="numeric-variable-distributions" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="numeric-variable-distributions"><span class="header-section-number">4.5</span> Numeric Variable Distributions</h2>
<p>These univariate density plots serve primarily as context for understanding how the numeric data is shaped—whether it’s skewed, multimodal, or contains extreme outliers. While they don’t directly solve profitability or operational questions, they do inform how best to prepare and interpret variables. For instance, highly skewed distributions (like Cost_per_NM) might require log transformations or outlier handling before further modeling. Beyond that, these plots act as a reference—helping confirm which metrics have mostly normal or uniform ranges, and which demand extra caution or pre‐processing steps in advanced analyses.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ExpNumViz</span>(<span class="at">target=</span><span class="cn">NULL</span>,</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">nlim=</span><span class="dv">10</span>,</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">Page=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`0`</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-31-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-31-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-31-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-31-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-31-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-31-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="pairwise-visualization-with-net-profit" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="pairwise-visualization-with-net-profit"><span class="header-section-number">4.6</span> Pairwise Visualization with Net Profit</h2>
<p>These scatter plots compare Net_Profit to each numeric variable, giving a quick look at how profit relates (or doesn’t) to operational metrics such as distance traveled, cost, or revenue. Most features show no strong linear pattern with Net Profit, though some variables—like Operational_Cost_USD and Revenue_per_Voyage_USD—naturally form clearer positive or negative relationships (for example, higher revenue tends to coincide with higher net profit, while high operational costs often correlate with lower or negative net profit). By scanning across all charts, you can identify any notable clusters, outliers, or trends, guiding further analysis into which operational factors drive or hinder profitability.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ExpNumViz</span>(<span class="at">target=</span><span class="st">"Net_Profit"</span>,</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">nlim=</span><span class="dv">10</span>,</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">Page=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>)) <span class="co">#, theme="default")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`0`</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-32-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-32-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-32-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-32-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-32-6.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-32-7.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="categorical-feature-summary" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="categorical-feature-summary"><span class="header-section-number">4.7</span> Categorical Feature Summary</h2>
<p>Most categorical features appear fairly balanced, with Ship_Type, Engine_Type, and Route_Type all splitting near evenly among their categories. Weather_Condition also has no single category overwhelmingly dominant, though “Calm” and “Moderate” lead slightly. Notably, Weekly_Frequency_Utilization_Label is highly skewed, with nearly 80% of voyages classified as “High,” while Voyage_Performance_Label is similarly dominated by “High” at around 69%. Weekly_Voyage_Count spreads evenly from 1 to 9 (about 10–12% each), indicating no single frequency bucket stands out significantly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>ship_data <span class="sc">%&gt;%</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ExpCatViz</span>(<span class="at">target=</span><span class="cn">NULL</span>,</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">col =</span> <span class="st">"sky blue"</span>,</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">clim=</span><span class="dv">10</span>,</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">margin=</span><span class="dv">2</span>,</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">Page=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>),</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">sample=</span><span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`0`</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-33-2.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="boxplots-of-key-financial-metrics" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="boxplots-of-key-financial-metrics"><span class="header-section-number">4.8</span> Boxplots of Key Financial Metrics</h2>
<p>These boxplots provide a concise overview of the distribution and potential outliers in net profit, revenue, operational cost, and profit margin. Visually, you can see where most voyages cluster (the boxes) along with any extreme values (the outliers). For instance, if the net profit boxplot shows a long upper whisker or multiple outliers, it suggests a small number of highly profitable voyages skewing the distribution. Conversely, a collection of outliers below the box indicates that certain voyages are particularly unprofitable or costly. Such deviations from the bulk of the data prompt further investigation into route choices, operational constraints, or pricing strategies that may be causing significant performance differences.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Determine a common scale range for Net Profit, Revenue, and Cost</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>common_min <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>common_max <span class="ot">&lt;-</span> <span class="fu">max</span>(</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  ship_data<span class="sc">$</span>Net_Profit,</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  ship_data<span class="sc">$</span>Revenue_per_Voyage_USD,</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  ship_data<span class="sc">$</span>Operational_Cost_USD,</span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Build the boxplots for p1, p2, p3 with the same y-axis limits</span></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">y =</span> Net_Profit)) <span class="sc">+</span></span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="dv">19</span>) <span class="sc">+</span></span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(common_min, common_max),</span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">comma_format</span>(<span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">suffix =</span> <span class="st">"K"</span>),</span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> <span class="st">"Net Profit (in thousands USD)"</span></span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb71-22"><a href="#cb71-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb71-23"><a href="#cb71-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Net Profit"</span>)</span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">y =</span> Revenue_per_Voyage_USD)) <span class="sc">+</span></span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"salmon"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="dv">19</span>) <span class="sc">+</span></span>
<span id="cb71-27"><a href="#cb71-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb71-28"><a href="#cb71-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(common_min, common_max),</span>
<span id="cb71-29"><a href="#cb71-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">comma_format</span>(<span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">suffix =</span> <span class="st">"K"</span>),</span>
<span id="cb71-30"><a href="#cb71-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> <span class="st">"Revenue (in thousands USD)"</span></span>
<span id="cb71-31"><a href="#cb71-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb71-32"><a href="#cb71-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb71-33"><a href="#cb71-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Revenue per Voyage"</span>)</span>
<span id="cb71-34"><a href="#cb71-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-35"><a href="#cb71-35" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">y =</span> Operational_Cost_USD)) <span class="sc">+</span></span>
<span id="cb71-36"><a href="#cb71-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"darkgreen"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="dv">19</span>) <span class="sc">+</span></span>
<span id="cb71-37"><a href="#cb71-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb71-38"><a href="#cb71-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(common_min, common_max),</span>
<span id="cb71-39"><a href="#cb71-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">comma_format</span>(<span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">suffix =</span> <span class="st">"K"</span>),</span>
<span id="cb71-40"><a href="#cb71-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">name   =</span> <span class="st">"Cost (in thousands USD)"</span></span>
<span id="cb71-41"><a href="#cb71-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb71-42"><a href="#cb71-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb71-43"><a href="#cb71-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Operational Cost per Voyage"</span>)</span>
<span id="cb71-44"><a href="#cb71-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-45"><a href="#cb71-45" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Profit Margin uses its original scale</span></span>
<span id="cb71-46"><a href="#cb71-46" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">y =</span> Profit_Margin)) <span class="sc">+</span></span>
<span id="cb71-47"><a href="#cb71-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"orchid"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="dv">19</span>) <span class="sc">+</span></span>
<span id="cb71-48"><a href="#cb71-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb71-49"><a href="#cb71-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Profit Margin"</span>,</span>
<span id="cb71-50"><a href="#cb71-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Ratio (e.g., 0.2 = 20%)"</span></span>
<span id="cb71-51"><a href="#cb71-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb71-52"><a href="#cb71-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb71-53"><a href="#cb71-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-54"><a href="#cb71-54" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Arrange p1, p2, p3 in one row, and p4 in another</span></span>
<span id="cb71-55"><a href="#cb71-55" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">+</span> p2 <span class="sc">+</span> p3) <span class="sc">/</span></span>
<span id="cb71-56"><a href="#cb71-56" aria-hidden="true" tabindex="-1"></a>  p4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/shared-scales-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="weekly-totals-revenue-leakage-boxplots" class="level2" data-number="4.9">
<h2 data-number="4.9" class="anchored" data-anchor-id="weekly-totals-revenue-leakage-boxplots"><span class="header-section-number">4.9</span> Weekly Totals &amp; Revenue Leakage Boxplots</h2>
<p>These four boxplots give a clear snapshot of how each voyage’s weekly revenue, costs, profit, and potential revenue loss compare across the dataset. The Weekly Total Revenue and Weekly Total Operational Cost plots help identify whether certain weeks stand out for unusually high or low financial throughput, while the Weekly Total Profit plot highlights weeks where cost efficiency translates into strong bottom lines—or where repeated unprofitable voyages magnify losses. The Revenue Leakage boxplot pinpoints how much potential revenue is lost if load factors are suboptimal, shining a light on opportunities to better utilize capacity.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Compute a shared y-range based on the max across all columns of interest</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>y_min <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>y_max <span class="ot">&lt;-</span> <span class="fu">max</span>(</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>  ship_data<span class="sc">$</span>Weekly_Total_Revenue,</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  ship_data<span class="sc">$</span>Weekly_Total_Operational_Cost,</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>  ship_data<span class="sc">$</span>Weekly_Total_Profit,</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>  ship_data<span class="sc">$</span>Weekly_Revenue_Leakage,</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Define helper for scale in thousands</span></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>scale_thousands <span class="ot">&lt;-</span> <span class="fu">scale_y_continuous</span>(</span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">limits =</span> <span class="fu">c</span>(y_min, y_max),</span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">comma_format</span>(<span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">suffix =</span> <span class="st">"K"</span>)</span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Build each boxplot using the common y scale</span></span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">y =</span> Weekly_Total_Revenue)) <span class="sc">+</span></span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"steelblue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="dv">19</span>) <span class="sc">+</span></span>
<span id="cb72-24"><a href="#cb72-24" aria-hidden="true" tabindex="-1"></a>  scale_thousands <span class="sc">+</span></span>
<span id="cb72-25"><a href="#cb72-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb72-26"><a href="#cb72-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Weekly Total Revenue"</span>,</span>
<span id="cb72-27"><a href="#cb72-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revenue (in thousands USD)"</span></span>
<span id="cb72-28"><a href="#cb72-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb72-29"><a href="#cb72-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb72-30"><a href="#cb72-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-31"><a href="#cb72-31" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">y =</span> Weekly_Total_Operational_Cost)) <span class="sc">+</span></span>
<span id="cb72-32"><a href="#cb72-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"salmon"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="dv">19</span>) <span class="sc">+</span></span>
<span id="cb72-33"><a href="#cb72-33" aria-hidden="true" tabindex="-1"></a>  scale_thousands <span class="sc">+</span></span>
<span id="cb72-34"><a href="#cb72-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb72-35"><a href="#cb72-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Weekly Total Operational Cost"</span>,</span>
<span id="cb72-36"><a href="#cb72-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Cost (in thousands USD)"</span></span>
<span id="cb72-37"><a href="#cb72-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb72-38"><a href="#cb72-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb72-39"><a href="#cb72-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-40"><a href="#cb72-40" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">y =</span> Weekly_Total_Profit)) <span class="sc">+</span></span>
<span id="cb72-41"><a href="#cb72-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"darkgreen"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="dv">19</span>) <span class="sc">+</span></span>
<span id="cb72-42"><a href="#cb72-42" aria-hidden="true" tabindex="-1"></a>  scale_thousands <span class="sc">+</span></span>
<span id="cb72-43"><a href="#cb72-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb72-44"><a href="#cb72-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Weekly Total Profit"</span>,</span>
<span id="cb72-45"><a href="#cb72-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Profit (in thousands USD)"</span></span>
<span id="cb72-46"><a href="#cb72-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb72-47"><a href="#cb72-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb72-48"><a href="#cb72-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-49"><a href="#cb72-49" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">y =</span> Weekly_Revenue_Leakage)) <span class="sc">+</span></span>
<span id="cb72-50"><a href="#cb72-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"orchid"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">outlier.shape =</span> <span class="dv">19</span>) <span class="sc">+</span></span>
<span id="cb72-51"><a href="#cb72-51" aria-hidden="true" tabindex="-1"></a>  scale_thousands <span class="sc">+</span></span>
<span id="cb72-52"><a href="#cb72-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb72-53"><a href="#cb72-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Weekly Revenue Leakage"</span>,</span>
<span id="cb72-54"><a href="#cb72-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Leakage (in thousands USD)"</span></span>
<span id="cb72-55"><a href="#cb72-55" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb72-56"><a href="#cb72-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb72-57"><a href="#cb72-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-58"><a href="#cb72-58" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Arrange them in a single row (4 columns)</span></span>
<span id="cb72-59"><a href="#cb72-59" aria-hidden="true" tabindex="-1"></a>(p1 <span class="sc">+</span> p2 <span class="sc">+</span> p3 <span class="sc">+</span> p4) <span class="sc">+</span></span>
<span id="cb72-60"><a href="#cb72-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_layout</span>(<span class="at">ncol =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/boxplots-uniform-scale-1.png" class="img-fluid figure-img" width="1536"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="revenue-distribution-across-ship-type-route-engine-type-and-weather-conditions" class="level2" data-number="4.10">
<h2 data-number="4.10" class="anchored" data-anchor-id="revenue-distribution-across-ship-type-route-engine-type-and-weather-conditions"><span class="header-section-number">4.10</span> Revenue Distribution Across Ship Type, Route, Engine Type, and Weather Conditions</h2>
<p>These boxplots illustrate how revenue per voyage varies across Ship Type, Route Type, Engine Type, and Weather Conditions. The facets allow for a detailed comparison:</p>
<ul>
<li><p>Route Type (rows): Shows how different shipping routes impact revenue distribution.</p></li>
<li><p>Engine Type (columns): Compares revenue performance across Diesel, HFO, and Steam Turbine engines.</p></li>
<li><p>Weather Conditions (box colors): Highlights revenue variations under Calm, Moderate, and Rough conditions.</p></li>
</ul>
<p>This visualization helps identify which ship-route-engine-weather combinations yield higher or more stable revenue and where variability or inefficiencies may exist.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">x =</span> Ship_Type, <span class="at">y =</span> Revenue_per_Voyage_USD <span class="sc">/</span> <span class="fl">1e6</span>, <span class="at">fill =</span> Ship_Type)) <span class="sc">+</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Route_Type <span class="sc">~</span> Engine_Type, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span>  <span class="co"># Split by Route &amp; Engine Type</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Revenue Distribution by Ship Type, Route Type, and Engine Type"</span>,</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ship Type"</span>,</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Revenue per Voyage (Million USD)"</span>) <span class="sc">+</span>  <span class="co"># Updated y-axis label</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))  <span class="co"># Rotate x-axis labels for readability</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="1536"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">x =</span> Ship_Type, <span class="at">y =</span> Revenue_per_Voyage_USD <span class="sc">/</span> <span class="fl">1e6</span>, <span class="at">fill =</span> Weather_Condition)) <span class="sc">+</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(Route_Type <span class="sc">~</span> Engine_Type, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span>  <span class="co"># Facet by Route Type (rows) &amp; Engine Type (columns)</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Revenue Distribution by Ship Type, Route Type, Engine Type, and Weather Condition"</span>,</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Ship Type"</span>,</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Revenue per Voyage (Million USD)"</span>,</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Weather Condition"</span>) <span class="sc">+</span>  <span class="co"># Updated legend title</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))  <span class="co"># Rotate x-axis labels for readability</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="2304"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="smoothed-revenue-trends-by-operational-cost-overall-and-faceted-by-ship-type" class="level2" data-number="4.11">
<h2 data-number="4.11" class="anchored" data-anchor-id="smoothed-revenue-trends-by-operational-cost-overall-and-faceted-by-ship-type"><span class="header-section-number">4.11</span> Smoothed Revenue Trends by Operational Cost (Overall and Faceted by Ship Type)</h2>
<p>This visualization presents smoothed revenue trends relative to operational costs, first across all ship types and then faceted by individual ship categories.</p>
<ol type="1">
<li><p>Overall Trends (First Plot)</p>
<ul>
<li><p>Shows how revenue per voyage changes with operational costs for different ship types (Bulk Carrier, Container Ship, Fish Carrier, Tanker).</p></li>
<li><p>Some ships, like Fish Carriers, exhibit nonlinear revenue patterns, while others, like Bulk Carriers, maintain relatively stable trends.</p></li>
</ul></li>
<li><p>Faceted Trends by Ship Type (Second Plot)</p>
<ul>
<li><p>Splits the analysis by ship type, making it easier to compare the impact of route types (Coastal, Long-haul, Short-haul, Transoceanic) within each ship category.</p></li>
<li><p>This helps identify whether certain routes consistently maximize revenue at specific cost levels.</p></li>
</ul></li>
</ol>
<p>Key Insights</p>
<ul>
<li><p>Fish Carriers and Container Ships show volatile trends, with sharp peaks and dips, suggesting cost-sensitive revenue swings.</p></li>
<li><p>Tankers and Bulk Carriers follow more gradual revenue shifts, indicating that their operational costs and revenue generation may be more stable.</p></li>
<li><p>Route Type Differences: Coastal routes often have lower operational costs, while transoceanic routes may require higher spending but can also yield higher revenue.</p></li>
</ul>
<p>This analysis provides valuable insights for cost optimization and route planning, helping decision-makers refine pricing strategies, fleet deployment, and operational efficiency across different ship and route types.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">x =</span> Operational_Cost_USD, <span class="at">y =</span> Revenue_per_Voyage_USD, <span class="at">color =</span> Ship_Type)) <span class="sc">+</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span>  <span class="co"># LOESS smooth to capture trends</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Smoothed Revenue Trends by Operational Cost"</span>,</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Operational Cost (K USD)"</span>,</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revenue per Voyage (K USD)"</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">suffix =</span> <span class="st">"K"</span>)) <span class="sc">+</span> </span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">suffix =</span> <span class="st">"K"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new column combining Ship_Type and Route_Type</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>ship_data <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ShipRoute =</span> <span class="fu">paste</span>(Route_Type, <span class="at">sep =</span> <span class="st">" - "</span>))</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ship_data, <span class="fu">aes</span>(<span class="at">x =</span> Operational_Cost_USD, <span class="at">y =</span> Revenue_per_Voyage_USD, <span class="at">color =</span> ShipRoute)) <span class="sc">+</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span>  <span class="co"># LOESS smoothing</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Ship_Type, <span class="at">scales =</span> <span class="st">"free_x"</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span>  <span class="co"># Facet by Ship Type, 2 columns</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Smoothed Revenue Trends by Operational Cost (Faceted by Ship Type)"</span>,</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Operational Cost (K USD)"</span>,</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revenue per Voyage (K USD)"</span>,</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Route Type"</span></span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">suffix =</span> <span class="st">"K"</span>)) <span class="sc">+</span> </span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_number</span>(<span class="at">scale =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">suffix =</span> <span class="st">"K"</span>)) <span class="sc">+</span></span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),  <span class="co"># Increase facet label size</span></span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">"lines"</span>)  <span class="co"># Add spacing between facets</span></span>
<span id="cb76-21"><a href="#cb76-21" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex01_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="quarterly-sales-vs.-profit-by-ship-route" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Quarterly Sales vs.&nbsp;Profit by Ship-Route</h1>
<p>This bubble chart not only shows which ship–route pairs generate high or low revenue and profit, but also how deeply each segment impacts overall performance (via bubble size). Large, dark‐blue bubbles in the top‐right reflect routes delivering both strong sales and robust profit, signaling prime candidates for fleet expansion or replication of best practices. Conversely, large, dark‐red bubbles in the bottom‐left highlight routes draining resources—high‐priority for cost reduction, operational fixes, or reallocation of assets.</p>
<p>Several key insights emerge:</p>
<ol type="1">
<li><p>Clustered High Performers: If you see multiple ship–route combos grouped together in the top‐right quadrant, it suggests common traits (e.g., route distance, cargo type, or maintenance strategy) that drive success. Replicating these traits in underperforming areas can boost overall margins.</p></li>
<li><p>Unexpected Low Profit Despite High Sales: Bubbles in the bottom‐right quadrant indicate possible inefficiencies (fuel cost, cargo handling, or port fees) that erode profits. Tackling these inefficiencies can turn high‐revenue voyages into solid profit contributors.</p></li>
<li><p>Niche Profit Scenarios: Small, dark‐blue bubbles in the top‐left quadrant show voyages that quietly generate healthy margins without massive sales. These might be specialized cargo or short‐haul routes where cost discipline yields strong returns.</p></li>
<li><p>Strategic Repositioning: Large red bubbles anywhere indicate hefty losses. Whether that’s due to low sales or negative profit, management should consider route optimization, pricing changes, or even withdrawing service from unsustainably unprofitable segments.</p></li>
</ol>
<p>Overall, the chart provides actionable intelligence for allocating resources, refining pricing, and guiding fleet deployment decisions. By pinpointing exactly which ship–route combos drive or undermine profitability, stakeholders can focus investment on the strongest segments and rapidly address cost drivers in underperforming ones—ensuring better operational efficiency and maximized returns in the quarters to come.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Date to a proper Date object if necessary (assumes "YYYY-MM-DD" format)</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>ship_data <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">as.Date</span>(Date, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>))</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Aggregate data quarterly by Ship_Type and Route_Type</span></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>ship_data_quarterly <span class="ot">&lt;-</span> ship_data <span class="sc">%&gt;%</span></span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Quarter =</span> <span class="fu">paste0</span>(<span class="fu">year</span>(Date), <span class="st">"-Q"</span>, <span class="fu">quarter</span>(Date)),</span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">ShipRoute =</span> <span class="fu">paste</span>(Ship_Type, Route_Type, <span class="at">sep =</span> <span class="st">" - "</span>)</span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Quarter, Ship_Type, Route_Type, ShipRoute) <span class="sc">%&gt;%</span></span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">Quarterly_Total_Revenue =</span> <span class="fu">sum</span>(Weekly_Total_Revenue, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fl">1e6</span>,  <span class="co"># in Million USD</span></span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">Quarterly_Net_Profit    =</span> <span class="fu">sum</span>(Net_Profit, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fl">1e6</span>            <span class="co"># in Million USD</span></span>
<span id="cb77-21"><a href="#cb77-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb77-22"><a href="#cb77-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb77-23"><a href="#cb77-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb77-24"><a href="#cb77-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sales_Percentile  =</span> <span class="fu">percent_rank</span>(Quarterly_Total_Revenue) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb77-25"><a href="#cb77-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">Profit_Percentile =</span> <span class="fu">percent_rank</span>(Quarterly_Net_Profit)    <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb77-26"><a href="#cb77-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb77-27"><a href="#cb77-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-28"><a href="#cb77-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Create Bubble Chart:</span></span>
<span id="cb77-29"><a href="#cb77-29" aria-hidden="true" tabindex="-1"></a><span class="co">#  - X-axis: Sales_Percentile</span></span>
<span id="cb77-30"><a href="#cb77-30" aria-hidden="true" tabindex="-1"></a><span class="co">#  - Y-axis: Profit_Percentile</span></span>
<span id="cb77-31"><a href="#cb77-31" aria-hidden="true" tabindex="-1"></a><span class="co">#  - Bubble size: absolute profit magnitude</span></span>
<span id="cb77-32"><a href="#cb77-32" aria-hidden="true" tabindex="-1"></a><span class="co">#  - Bubble color: sign and magnitude of profit (red for negative, blue for positive)</span></span>
<span id="cb77-33"><a href="#cb77-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-34"><a href="#cb77-34" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ship_data_quarterly, <span class="fu">aes</span>(</span>
<span id="cb77-35"><a href="#cb77-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">x    =</span> Sales_Percentile,</span>
<span id="cb77-36"><a href="#cb77-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">y    =</span> Profit_Percentile,</span>
<span id="cb77-37"><a href="#cb77-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> <span class="fu">abs</span>(Quarterly_Net_Profit),        <span class="co"># Bubble size: absolute profit</span></span>
<span id="cb77-38"><a href="#cb77-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> Quarterly_Net_Profit,           <span class="co"># Bubble color: negative to positive</span></span>
<span id="cb77-39"><a href="#cb77-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="fu">paste</span>(</span>
<span id="cb77-40"><a href="#cb77-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ship-Route:"</span>, ShipRoute, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb77-41"><a href="#cb77-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Quarter:"</span>, Quarter, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb77-42"><a href="#cb77-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sales (M):"</span>, <span class="fu">round</span>(Quarterly_Total_Revenue, <span class="dv">2</span>), <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb77-43"><a href="#cb77-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Profit (M):"</span>, <span class="fu">round</span>(Quarterly_Net_Profit, <span class="dv">2</span>)</span>
<span id="cb77-44"><a href="#cb77-44" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb77-45"><a href="#cb77-45" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">+</span></span>
<span id="cb77-46"><a href="#cb77-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Slight transparency to reduce overlap</span></span>
<span id="cb77-47"><a href="#cb77-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb77-48"><a href="#cb77-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-49"><a href="#cb77-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Quadrant reference lines</span></span>
<span id="cb77-50"><a href="#cb77-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">50</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"gray40"</span>) <span class="sc">+</span></span>
<span id="cb77-51"><a href="#cb77-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">50</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"gray40"</span>) <span class="sc">+</span></span>
<span id="cb77-52"><a href="#cb77-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-53"><a href="#cb77-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Quadrant labels (slightly smaller text)</span></span>
<span id="cb77-54"><a href="#cb77-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span>  <span class="dv">5</span>, <span class="at">y =</span> <span class="dv">90</span>, <span class="at">label =</span> <span class="st">"Low Sales</span><span class="sc">\n</span><span class="st">High Profits"</span>,  <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb77-55"><a href="#cb77-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">75</span>, <span class="at">y =</span> <span class="dv">90</span>, <span class="at">label =</span> <span class="st">"High Sales</span><span class="sc">\n</span><span class="st">High Profits"</span>, <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb77-56"><a href="#cb77-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span>  <span class="dv">5</span>, <span class="at">y =</span> <span class="dv">10</span>, <span class="at">label =</span> <span class="st">"Low Sales</span><span class="sc">\n</span><span class="st">Low Profits"</span>,   <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb77-57"><a href="#cb77-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">75</span>, <span class="at">y =</span> <span class="dv">10</span>, <span class="at">label =</span> <span class="st">"High Sales</span><span class="sc">\n</span><span class="st">Low Profits"</span>,  <span class="at">hjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb77-58"><a href="#cb77-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-59"><a href="#cb77-59" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Percent-based axes</span></span>
<span id="cb77-60"><a href="#cb77-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>(<span class="at">scale =</span> <span class="dv">1</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb77-61"><a href="#cb77-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">label_percent</span>(<span class="at">scale =</span> <span class="dv">1</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">120</span>)) <span class="sc">+</span></span>
<span id="cb77-62"><a href="#cb77-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-63"><a href="#cb77-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Bubble size &amp; color scales</span></span>
<span id="cb77-64"><a href="#cb77-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">12</span>), <span class="at">name =</span> <span class="st">"Profit Magnitude (Million)"</span>) <span class="sc">+</span></span>
<span id="cb77-65"><a href="#cb77-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_gradient2</span>(</span>
<span id="cb77-66"><a href="#cb77-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">low =</span> <span class="st">"red"</span>, <span class="at">mid =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"blue"</span>,</span>
<span id="cb77-67"><a href="#cb77-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">midpoint =</span> <span class="dv">0</span>,</span>
<span id="cb77-68"><a href="#cb77-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Profit (Million)"</span></span>
<span id="cb77-69"><a href="#cb77-69" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb77-70"><a href="#cb77-70" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-71"><a href="#cb77-71" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Labels &amp; theme</span></span>
<span id="cb77-72"><a href="#cb77-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb77-73"><a href="#cb77-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Quarterly Sales vs Profit by Ship &amp; Route"</span>,</span>
<span id="cb77-74"><a href="#cb77-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">x     =</span> <span class="st">"Percentile of Quarterly Sales"</span>,</span>
<span id="cb77-75"><a href="#cb77-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">y     =</span> <span class="st">"Percentile of Quarterly Profit"</span></span>
<span id="cb77-76"><a href="#cb77-76" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb77-77"><a href="#cb77-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb77-78"><a href="#cb77-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb77-79"><a href="#cb77-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"right"</span>,</span>
<span id="cb77-80"><a href="#cb77-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()  <span class="co"># Remove minor grid lines for less clutter</span></span>
<span id="cb77-81"><a href="#cb77-81" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb77-82"><a href="#cb77-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-83"><a href="#cb77-83" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to interactive plot with hover tooltips</span></span>
<span id="cb77-84"><a href="#cb77-84" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-8e1fe96c0688a849169a" style="width:100%;height:487px;"></div>
<script type="application/json" data-for="htmlwidget-8e1fe96c0688a849169a">{"x":{"data":[{"x":[15.18987341772152,10.126582278481013,8.8607594936708853,3.79746835443038,0,5.0632911392405067,13.924050632911392,6.3291139240506329,7.59493670886076,1.2658227848101267,17.721518987341771,21.518987341772153,12.658227848101266,16.455696202531644,11.39240506329114,2.5316455696202533,37.974683544303801,100,79.74683544303798,50.632911392405063,18.9873417721519,82.278481012658233,32.911392405063289,20.253164556962027,25.316455696202532,22.784810126582279,75.949367088607602,87.341772151898738,45.569620253164558,63.291139240506332,60.75949367088608,58.22784810126582,62.025316455696199,34.177215189873415,97.468354430379748,24.050632911392405,94.936708860759495,93.670886075949369,70.886075949367083,56.962025316455701,65.822784810126578,78.48101265822784,43.037974683544306,46.835443037974684,30.37974683544304,39.24050632911392,77.215189873417728,41.77215189873418,64.556962025316452,53.164556962025308,59.493670886075947,81.012658227848107,49.367088607594937,74.683544303797461,40.506329113924053,89.87341772151899,88.60759493670885,69.620253164556971,35.443037974683541,68.35443037974683,48.101265822784811,96.202531645569621,36.708860759493675,44.303797468354425,86.075949367088612,92.405063291139243,72.151898734177209,67.088607594936718,51.898734177215189,91.139240506329116,31.645569620253166,54.430379746835442,73.417721518987349,98.734177215189874,27.848101265822784,83.544303797468359,55.696202531645568,26.582278481012654,29.11392405063291,84.810126582278471],"y":[16.455696202531644,11.39240506329114,8.8607594936708853,1.2658227848101267,3.79746835443038,6.3291139240506329,12.658227848101266,10.126582278481013,2.5316455696202533,0,15.18987341772152,21.518987341772153,7.59493670886076,17.721518987341771,13.924050632911392,5.0632911392405067,41.77215189873418,100,89.87341772151899,39.24050632911392,37.974683544303801,93.670886075949369,18.9873417721519,27.848101265822784,49.367088607594937,29.11392405063291,34.177215189873415,75.949367088607602,74.683544303797461,82.278481012658233,65.822784810126578,43.037974683544306,53.164556962025308,36.708860759493675,97.468354430379748,32.911392405063289,91.139240506329116,63.291139240506332,87.341772151898738,40.506329113924053,68.35443037974683,70.886075949367083,58.22784810126582,22.784810126582279,26.582278481012654,51.898734177215189,56.962025316455701,31.645569620253166,60.75949367088608,30.37974683544304,81.012658227848107,62.025316455696199,45.569620253164558,72.151898734177209,69.620253164556971,92.405063291139243,94.936708860759495,88.60759493670885,35.443037974683541,67.088607594936718,64.556962025316452,79.74683544303798,73.417721518987349,54.430379746835442,48.101265822784811,96.202531645569621,46.835443037974684,83.544303797468359,78.48101265822784,59.493670886075947,20.253164556962027,44.303797468354425,84.810126582278471,98.734177215189874,25.316455696202532,55.696202531645568,77.215189873417728,24.050632911392405,50.632911392405063,86.075949367088612],"text":["Ship-Route: Bulk Carrier - Coastal <br> Quarter: 2023-Q2 <br> Sales (M): 38.03 <br> Profit (M): 3.73","Ship-Route: Bulk Carrier - Long-haul <br> Quarter: 2023-Q2 <br> Sales (M): 20.92 <br> Profit (M): 2.86","Ship-Route: Bulk Carrier - Short-haul <br> Quarter: 2023-Q2 <br> Sales (M): 20.59 <br> Profit (M): 2.5","Ship-Route: Bulk Carrier - Transoceanic <br> Quarter: 2023-Q2 <br> Sales (M): 14.93 <br> Profit (M): 0.94","Ship-Route: Container Ship - Coastal <br> Quarter: 2023-Q2 <br> Sales (M): 5.4 <br> Profit (M): 1.81","Ship-Route: Container Ship - Long-haul <br> Quarter: 2023-Q2 <br> Sales (M): 16.36 <br> Profit (M): 2.4","Ship-Route: Container Ship - Short-haul <br> Quarter: 2023-Q2 <br> Sales (M): 32.67 <br> Profit (M): 2.96","Ship-Route: Container Ship - Transoceanic <br> Quarter: 2023-Q2 <br> Sales (M): 16.96 <br> Profit (M): 2.76","Ship-Route: Fish Carrier - Coastal <br> Quarter: 2023-Q2 <br> Sales (M): 17.5 <br> Profit (M): 1.72","Ship-Route: Fish Carrier - Long-haul <br> Quarter: 2023-Q2 <br> Sales (M): 8.17 <br> Profit (M): 0.76","Ship-Route: Fish Carrier - Short-haul <br> Quarter: 2023-Q2 <br> Sales (M): 40.37 <br> Profit (M): 3.49","Ship-Route: Fish Carrier - Transoceanic <br> Quarter: 2023-Q2 <br> Sales (M): 52.75 <br> Profit (M): 5.52","Ship-Route: Tanker - Coastal <br> Quarter: 2023-Q2 <br> Sales (M): 26.61 <br> Profit (M): 2.41","Ship-Route: Tanker - Long-haul <br> Quarter: 2023-Q2 <br> Sales (M): 39.16 <br> Profit (M): 4.85","Ship-Route: Tanker - Short-haul <br> Quarter: 2023-Q2 <br> Sales (M): 25.62 <br> Profit (M): 3.18","Ship-Route: Tanker - Transoceanic <br> Quarter: 2023-Q2 <br> Sales (M): 10.93 <br> Profit (M): 1.98","Ship-Route: Bulk Carrier - Coastal <br> Quarter: 2023-Q3 <br> Sales (M): 67.42 <br> Profit (M): 6.69","Ship-Route: Bulk Carrier - Long-haul <br> Quarter: 2023-Q3 <br> Sales (M): 123.03 <br> Profit (M): 14.15","Ship-Route: Bulk Carrier - Short-haul <br> Quarter: 2023-Q3 <br> Sales (M): 88.73 <br> Profit (M): 10.24","Ship-Route: Bulk Carrier - Transoceanic <br> Quarter: 2023-Q3 <br> Sales (M): 73.76 <br> Profit (M): 6.59","Ship-Route: Container Ship - Coastal <br> Quarter: 2023-Q3 <br> Sales (M): 50.52 <br> Profit (M): 6.57","Ship-Route: Container Ship - Long-haul <br> Quarter: 2023-Q3 <br> Sales (M): 91.88 <br> Profit (M): 11.13","Ship-Route: Container Ship - Short-haul <br> Quarter: 2023-Q3 <br> Sales (M): 61.09 <br> Profit (M): 5","Ship-Route: Container Ship - Transoceanic <br> Quarter: 2023-Q3 <br> Sales (M): 51.79 <br> Profit (M): 6.03","Ship-Route: Fish Carrier - Coastal <br> Quarter: 2023-Q3 <br> Sales (M): 57.61 <br> Profit (M): 7.13","Ship-Route: Fish Carrier - Long-haul <br> Quarter: 2023-Q3 <br> Sales (M): 55.48 <br> Profit (M): 6.05","Ship-Route: Fish Carrier - Short-haul <br> Quarter: 2023-Q3 <br> Sales (M): 87.28 <br> Profit (M): 6.26","Ship-Route: Fish Carrier - Transoceanic <br> Quarter: 2023-Q3 <br> Sales (M): 94.06 <br> Profit (M): 8.65","Ship-Route: Tanker - Coastal <br> Quarter: 2023-Q3 <br> Sales (M): 72.49 <br> Profit (M): 8.52","Ship-Route: Tanker - Long-haul <br> Quarter: 2023-Q3 <br> Sales (M): 80.9 <br> Profit (M): 9.75","Ship-Route: Tanker - Short-haul <br> Quarter: 2023-Q3 <br> Sales (M): 79.68 <br> Profit (M): 8.29","Ship-Route: Tanker - Transoceanic <br> Quarter: 2023-Q3 <br> Sales (M): 77.21 <br> Profit (M): 6.88","Ship-Route: Bulk Carrier - Coastal <br> Quarter: 2023-Q4 <br> Sales (M): 80.21 <br> Profit (M): 7.46","Ship-Route: Bulk Carrier - Long-haul <br> Quarter: 2023-Q4 <br> Sales (M): 65.04 <br> Profit (M): 6.55","Ship-Route: Bulk Carrier - Short-haul <br> Quarter: 2023-Q4 <br> Sales (M): 109.67 <br> Profit (M): 12","Ship-Route: Bulk Carrier - Transoceanic <br> Quarter: 2023-Q4 <br> Sales (M): 55.87 <br> Profit (M): 6.2","Ship-Route: Container Ship - Coastal <br> Quarter: 2023-Q4 <br> Sales (M): 105.67 <br> Profit (M): 10.25","Ship-Route: Container Ship - Long-haul <br> Quarter: 2023-Q4 <br> Sales (M): 104.68 <br> Profit (M): 8.23","Ship-Route: Container Ship - Short-haul <br> Quarter: 2023-Q4 <br> Sales (M): 84.27 <br> Profit (M): 10.16","Ship-Route: Container Ship - Transoceanic <br> Quarter: 2023-Q4 <br> Sales (M): 77.21 <br> Profit (M): 6.6","Ship-Route: Fish Carrier - Coastal <br> Quarter: 2023-Q4 <br> Sales (M): 82.41 <br> Profit (M): 8.38","Ship-Route: Fish Carrier - Long-haul <br> Quarter: 2023-Q4 <br> Sales (M): 88.59 <br> Profit (M): 8.42","Ship-Route: Fish Carrier - Short-haul <br> Quarter: 2023-Q4 <br> Sales (M): 69.54 <br> Profit (M): 7.69","Ship-Route: Fish Carrier - Transoceanic <br> Quarter: 2023-Q4 <br> Sales (M): 72.63 <br> Profit (M): 5.55","Ship-Route: Tanker - Coastal <br> Quarter: 2023-Q4 <br> Sales (M): 60.83 <br> Profit (M): 6.02","Ship-Route: Tanker - Long-haul <br> Quarter: 2023-Q4 <br> Sales (M): 68.23 <br> Profit (M): 7.43","Ship-Route: Tanker - Short-haul <br> Quarter: 2023-Q4 <br> Sales (M): 88.16 <br> Profit (M): 7.63","Ship-Route: Tanker - Transoceanic <br> Quarter: 2023-Q4 <br> Sales (M): 69.19 <br> Profit (M): 6.14","Ship-Route: Bulk Carrier - Coastal <br> Quarter: 2024-Q1 <br> Sales (M): 81.38 <br> Profit (M): 8","Ship-Route: Bulk Carrier - Long-haul <br> Quarter: 2024-Q1 <br> Sales (M): 74.82 <br> Profit (M): 6.13","Ship-Route: Bulk Carrier - Short-haul <br> Quarter: 2024-Q1 <br> Sales (M): 79.45 <br> Profit (M): 9.35","Ship-Route: Bulk Carrier - Transoceanic <br> Quarter: 2024-Q1 <br> Sales (M): 91.24 <br> Profit (M): 8.03","Ship-Route: Container Ship - Coastal <br> Quarter: 2024-Q1 <br> Sales (M): 73.75 <br> Profit (M): 7.05","Ship-Route: Container Ship - Long-haul <br> Quarter: 2024-Q1 <br> Sales (M): 87.18 <br> Profit (M): 8.46","Ship-Route: Container Ship - Short-haul <br> Quarter: 2024-Q1 <br> Sales (M): 68.87 <br> Profit (M): 8.39","Ship-Route: Container Ship - Transoceanic <br> Quarter: 2024-Q1 <br> Sales (M): 95.91 <br> Profit (M): 10.7","Ship-Route: Fish Carrier - Coastal <br> Quarter: 2024-Q1 <br> Sales (M): 95.88 <br> Profit (M): 11.22","Ship-Route: Fish Carrier - Long-haul <br> Quarter: 2024-Q1 <br> Sales (M): 83.67 <br> Profit (M): 10.22","Ship-Route: Fish Carrier - Short-haul <br> Quarter: 2024-Q1 <br> Sales (M): 67.07 <br> Profit (M): 6.39","Ship-Route: Fish Carrier - Transoceanic <br> Quarter: 2024-Q1 <br> Sales (M): 83.52 <br> Profit (M): 8.3","Ship-Route: Tanker - Coastal <br> Quarter: 2024-Q1 <br> Sales (M): 72.72 <br> Profit (M): 8.25","Ship-Route: Tanker - Long-haul <br> Quarter: 2024-Q1 <br> Sales (M): 105.8 <br> Profit (M): 9.03","Ship-Route: Tanker - Short-haul <br> Quarter: 2024-Q1 <br> Sales (M): 67.27 <br> Profit (M): 8.5","Ship-Route: Tanker - Transoceanic <br> Quarter: 2024-Q1 <br> Sales (M): 72.43 <br> Profit (M): 7.5","Ship-Route: Bulk Carrier - Coastal <br> Quarter: 2024-Q2 <br> Sales (M): 93.26 <br> Profit (M): 7.08","Ship-Route: Bulk Carrier - Long-haul <br> Quarter: 2024-Q2 <br> Sales (M): 102.71 <br> Profit (M): 11.87","Ship-Route: Bulk Carrier - Short-haul <br> Quarter: 2024-Q2 <br> Sales (M): 84.37 <br> Profit (M): 7.06","Ship-Route: Bulk Carrier - Transoceanic <br> Quarter: 2024-Q2 <br> Sales (M): 83.04 <br> Profit (M): 9.76","Ship-Route: Container Ship - Coastal <br> Quarter: 2024-Q2 <br> Sales (M): 74.21 <br> Profit (M): 8.94","Ship-Route: Container Ship - Long-haul <br> Quarter: 2024-Q2 <br> Sales (M): 98.04 <br> Profit (M): 7.89","Ship-Route: Container Ship - Short-haul <br> Quarter: 2024-Q2 <br> Sales (M): 60.96 <br> Profit (M): 5.48","Ship-Route: Container Ship - Transoceanic <br> Quarter: 2024-Q2 <br> Sales (M): 76.18 <br> Profit (M): 6.99","Ship-Route: Fish Carrier - Coastal <br> Quarter: 2024-Q2 <br> Sales (M): 85.62 <br> Profit (M): 10.02","Ship-Route: Fish Carrier - Long-haul <br> Quarter: 2024-Q2 <br> Sales (M): 119.59 <br> Profit (M): 14.09","Ship-Route: Fish Carrier - Short-haul <br> Quarter: 2024-Q2 <br> Sales (M): 59.58 <br> Profit (M): 5.99","Ship-Route: Fish Carrier - Transoceanic <br> Quarter: 2024-Q2 <br> Sales (M): 92.67 <br> Profit (M): 7.63","Ship-Route: Tanker - Coastal <br> Quarter: 2024-Q2 <br> Sales (M): 77.08 <br> Profit (M): 8.74","Ship-Route: Tanker - Long-haul <br> Quarter: 2024-Q2 <br> Sales (M): 58.91 <br> Profit (M): 5.78","Ship-Route: Tanker - Short-haul <br> Quarter: 2024-Q2 <br> Sales (M): 60.36 <br> Profit (M): 7.16","Ship-Route: Tanker - Transoceanic <br> Quarter: 2024-Q2 <br> Sales (M): 92.83 <br> Profit (M): 10.12"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(218,193,255,1)","rgba(227,208,255,1)","rgba(231,214,255,1)","rgba(246,239,255,1)","rgba(238,225,255,1)","rgba(232,215,255,1)","rgba(226,206,255,1)","rgba(228,209,255,1)","rgba(239,226,255,1)","rgba(248,242,255,1)","rgba(221,197,255,1)","rgba(198,164,255,1)","rgba(232,215,255,1)","rgba(206,175,255,1)","rgba(224,202,255,1)","rgba(236,222,255,1)","rgba(184,145,255,1)","rgba(0,0,255,1)","rgba(133,88,255,1)","rgba(185,147,255,1)","rgba(185,147,255,1)","rgba(117,73,255,1)","rgba(204,173,255,1)","rgba(192,156,255,1)","rgba(178,138,255,1)","rgba(192,156,255,1)","rgba(189,152,255,1)","rgba(158,114,255,1)","rgba(159,116,255,1)","rgba(141,96,255,1)","rgba(163,120,255,1)","rgba(181,142,255,1)","rgba(174,133,255,1)","rgba(185,148,255,1)","rgba(98,57,255,1)","rgba(190,153,255,1)","rgba(133,88,255,1)","rgba(163,121,255,1)","rgba(134,89,255,1)","rgba(185,147,255,1)","rgba(161,118,255,1)","rgba(161,118,255,1)","rgba(171,129,255,1)","rgba(198,164,255,1)","rgba(192,156,255,1)","rgba(174,134,255,1)","rgba(172,130,255,1)","rgba(191,154,255,1)","rgba(167,124,255,1)","rgba(191,154,255,1)","rgba(147,102,255,1)","rgba(166,124,255,1)","rgba(179,140,255,1)","rgba(160,117,255,1)","rgba(161,118,255,1)","rgba(125,80,255,1)","rgba(115,71,255,1)","rgba(133,88,255,1)","rgba(187,150,255,1)","rgba(162,119,255,1)","rgba(163,120,255,1)","rgba(152,108,255,1)","rgba(160,116,255,1)","rgba(173,132,255,1)","rgba(179,139,255,1)","rgba(101,60,255,1)","rgba(179,140,255,1)","rgba(141,96,255,1)","rgba(153,109,255,1)","rgba(168,126,255,1)","rgba(198,165,255,1)","rgba(180,141,255,1)","rgba(136,91,255,1)","rgba(12,3,255,1)","rgba(192,157,255,1)","rgba(172,130,255,1)","rgba(156,112,255,1)","rgba(195,160,255,1)","rgba(178,138,255,1)","rgba(135,90,255,1)"],"opacity":0.59999999999999998,"size":[25.380122086887283,22.553843309348967,21.190384414340826,11.997909537913301,18.138063081657567,20.780798745295655,22.886184030427788,22.166877375726592,17.691579421051152,7.559055118110237,24.616933582629017,30.085738644976345,20.857055946450117,28.449466728428366,23.627477332624416,19.000259647416755,32.72093420939423,45.354330708661422,39.365846252557937,32.499148549477901,32.463323988248476,40.821703231033091,28.822951925063908,31.274205017617081,33.630421330350359,31.307200495783654,31.787239928555213,36.568631180038381,36.330468973123665,38.519787958995359,35.899859648200639,33.106078086520995,34.288739958543289,32.415339030172184,42.179539248535988,31.655568059433413,39.371923181146578,35.789838315533594,39.230914087280794,32.526949931328424,36.061750370960311,36.144347598587046,34.741867217974978,30.171073646077897,31.247453611349531,34.228803141679094,34.62540560806729,31.521882417093675,35.354538336820525,31.50361476159576,37.832660918499329,35.403758069378235,33.47179709495861,36.213336208361568,36.091028904991092,40.114789281105047,40.954123209165296,39.324594066103238,32.070547280988073,35.926698504463808,35.822255695465486,37.254542959935883,36.29590411443688,34.364780100793119,33.517019488998315,41.98152353367648,33.478202677189273,38.545095505770512,37.091791929397317,35.132986029068604,30.005369525740779,33.333475264179313,38.984079257514644,45.257287569944602,31.175037798441807,34.622384122343739,36.731771193773397,30.704940269345958,33.694784124620583,39.159390051109149],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(218,193,255,1)","rgba(227,208,255,1)","rgba(231,214,255,1)","rgba(246,239,255,1)","rgba(238,225,255,1)","rgba(232,215,255,1)","rgba(226,206,255,1)","rgba(228,209,255,1)","rgba(239,226,255,1)","rgba(248,242,255,1)","rgba(221,197,255,1)","rgba(198,164,255,1)","rgba(232,215,255,1)","rgba(206,175,255,1)","rgba(224,202,255,1)","rgba(236,222,255,1)","rgba(184,145,255,1)","rgba(0,0,255,1)","rgba(133,88,255,1)","rgba(185,147,255,1)","rgba(185,147,255,1)","rgba(117,73,255,1)","rgba(204,173,255,1)","rgba(192,156,255,1)","rgba(178,138,255,1)","rgba(192,156,255,1)","rgba(189,152,255,1)","rgba(158,114,255,1)","rgba(159,116,255,1)","rgba(141,96,255,1)","rgba(163,120,255,1)","rgba(181,142,255,1)","rgba(174,133,255,1)","rgba(185,148,255,1)","rgba(98,57,255,1)","rgba(190,153,255,1)","rgba(133,88,255,1)","rgba(163,121,255,1)","rgba(134,89,255,1)","rgba(185,147,255,1)","rgba(161,118,255,1)","rgba(161,118,255,1)","rgba(171,129,255,1)","rgba(198,164,255,1)","rgba(192,156,255,1)","rgba(174,134,255,1)","rgba(172,130,255,1)","rgba(191,154,255,1)","rgba(167,124,255,1)","rgba(191,154,255,1)","rgba(147,102,255,1)","rgba(166,124,255,1)","rgba(179,140,255,1)","rgba(160,117,255,1)","rgba(161,118,255,1)","rgba(125,80,255,1)","rgba(115,71,255,1)","rgba(133,88,255,1)","rgba(187,150,255,1)","rgba(162,119,255,1)","rgba(163,120,255,1)","rgba(152,108,255,1)","rgba(160,116,255,1)","rgba(173,132,255,1)","rgba(179,139,255,1)","rgba(101,60,255,1)","rgba(179,140,255,1)","rgba(141,96,255,1)","rgba(153,109,255,1)","rgba(168,126,255,1)","rgba(198,165,255,1)","rgba(180,141,255,1)","rgba(136,91,255,1)","rgba(12,3,255,1)","rgba(192,157,255,1)","rgba(172,130,255,1)","rgba(156,112,255,1)","rgba(195,160,255,1)","rgba(178,138,255,1)","rgba(135,90,255,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-5,105],"y":[50,50],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(102,102,102,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[50,50],"y":[-6,126],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(102,102,102,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5],"y":[90],"text":"Low Sales<br />High Profits","hovertext":"","textfont":{"size":15.118110236220474,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[75],"y":[90],"text":"High Sales<br />High Profits","hovertext":"","textfont":{"size":15.118110236220474,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5],"y":[10],"text":"Low Sales<br />Low Profits","hovertext":"","textfont":{"size":15.118110236220474,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[75],"y":[10],"text":"High Sales<br />Low Profits","hovertext":"","textfont":{"size":15.118110236220474,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0],"y":[0],"name":"62261b052f083c2c9cf3319a8f4afeb6","type":"scatter","mode":"markers","opacity":0,"hoverinfo":"skip","showlegend":false,"marker":{"color":[0,1],"colorscale":[[0,"#F8F2FF"],[0.0033444816053511683,"#F7F2FF"],[0.0066889632107023454,"#F7F1FF"],[0.010033444816053514,"#F7F0FF"],[0.013377926421404682,"#F6EFFF"],[0.016722408026755849,"#F6EFFF"],[0.020066889632107017,"#F5EEFF"],[0.023411371237458185,"#F5EDFF"],[0.026755852842809354,"#F4ECFF"],[0.030100334448160522,"#F4ECFF"],[0.033444816053511711,"#F4EBFF"],[0.03678929765886288,"#F3EAFF"],[0.040133779264214048,"#F3E9FF"],[0.043478260869565216,"#F2E9FF"],[0.046822742474916398,"#F2E8FF"],[0.050167224080267567,"#F1E7FF"],[0.053511705685618735,"#F1E6FF"],[0.056856187290969903,"#F1E6FF"],[0.060200668896321072,"#F0E5FF"],[0.06354515050167224,"#F0E4FF"],[0.066889632107023408,"#EFE3FF"],[0.070234113712374577,"#EFE3FF"],[0.073578595317725745,"#EEE2FF"],[0.0769230769230769,"#EEE1FF"],[0.080267558528428068,"#EEE1FF"],[0.083612040133779236,"#EDE0FF"],[0.086956521739130405,"#EDDFFF"],[0.090301003344481573,"#ECDEFF"],[0.093645484949832783,"#ECDEFF"],[0.096989966555183951,"#EBDDFF"],[0.10033444816053512,"#EBDCFF"],[0.10367892976588629,"#EADBFF"],[0.10702341137123746,"#EADBFF"],[0.11036789297658862,"#E9DAFF"],[0.11371237458193979,"#E9D9FF"],[0.11705685618729096,"#E9D8FF"],[0.12040133779264213,"#E8D8FF"],[0.1237458193979933,"#E8D7FF"],[0.12709030100334445,"#E7D6FF"],[0.13043478260869562,"#E7D5FF"],[0.13377926421404679,"#E6D5FF"],[0.13712374581939796,"#E6D4FF"],[0.14046822742474913,"#E5D3FF"],[0.14381270903010029,"#E5D2FF"],[0.14715719063545152,"#E4D2FF"],[0.15050167224080269,"#E4D1FF"],[0.15384615384615385,"#E4D0FF"],[0.15719063545150502,"#E3D0FF"],[0.16053511705685619,"#E3CFFF"],[0.16387959866220736,"#E2CEFF"],[0.16722408026755853,"#E2CDFF"],[0.1705685618729097,"#E1CDFF"],[0.17391304347826086,"#E1CCFF"],[0.17725752508361203,"#E0CBFF"],[0.1806020066889632,"#E0CAFF"],[0.18394648829431437,"#DFCAFF"],[0.18729096989966557,"#DFC9FF"],[0.19063545150501673,"#DEC8FF"],[0.1939799331103679,"#DEC7FF"],[0.19732441471571907,"#DDC7FF"],[0.20066889632107024,"#DDC6FF"],[0.20401337792642141,"#DDC5FF"],[0.20735785953177258,"#DCC5FF"],[0.21070234113712374,"#DCC4FF"],[0.21404682274247491,"#DBC3FF"],[0.21739130434782608,"#DBC2FF"],[0.22073578595317725,"#DAC2FF"],[0.22408026755852842,"#DAC1FF"],[0.22742474916387959,"#D9C0FF"],[0.23076923076923075,"#D9BFFF"],[0.23411371237458192,"#D8BFFF"],[0.23745819397993309,"#D8BEFF"],[0.24080267558528426,"#D7BDFF"],[0.24414715719063546,"#D7BDFF"],[0.24749163879598662,"#D6BCFF"],[0.25083612040133779,"#D6BBFF"],[0.25418060200668896,"#D5BAFF"],[0.25752508361204013,"#D5BAFF"],[0.2608695652173913,"#D4B9FF"],[0.26421404682274247,"#D4B8FF"],[0.26755852842809363,"#D3B7FF"],[0.2709030100334448,"#D3B7FF"],[0.27424749163879597,"#D2B6FF"],[0.27759197324414714,"#D2B5FF"],[0.28093645484949831,"#D1B4FF"],[0.28428093645484948,"#D1B4FF"],[0.28762541806020064,"#D0B3FF"],[0.29096989966555181,"#D0B2FF"],[0.29431438127090298,"#CFB2FF"],[0.29765886287625415,"#CFB1FF"],[0.30100334448160537,"#CEB0FF"],[0.30434782608695654,"#CEAFFF"],[0.30769230769230771,"#CDAFFF"],[0.31103678929765888,"#CDAEFF"],[0.31438127090301005,"#CCADFF"],[0.31772575250836121,"#CCACFF"],[0.32107023411371238,"#CBACFF"],[0.32441471571906355,"#CBABFF"],[0.32775919732441472,"#CAAAFF"],[0.33110367892976589,"#CAAAFF"],[0.33444816053511706,"#C9A9FF"],[0.33779264214046822,"#C9A8FF"],[0.34113712374581939,"#C8A7FF"],[0.34448160535117056,"#C8A7FF"],[0.34782608695652173,"#C7A6FF"],[0.3511705685618729,"#C7A5FF"],[0.35451505016722407,"#C6A5FF"],[0.35785953177257523,"#C6A4FF"],[0.3612040133779264,"#C5A3FF"],[0.36454849498327757,"#C5A2FF"],[0.36789297658862874,"#C4A2FF"],[0.37123745819397991,"#C3A1FF"],[0.37458193979933113,"#C3A0FF"],[0.3779264214046823,"#C29FFF"],[0.38127090301003347,"#C29FFF"],[0.38461538461538464,"#C19EFF"],[0.38795986622073581,"#C19DFF"],[0.39130434782608697,"#C09DFF"],[0.39464882943143814,"#C09CFF"],[0.39799331103678931,"#BF9BFF"],[0.40133779264214048,"#BF9AFF"],[0.40468227424749165,"#BE9AFF"],[0.40802675585284282,"#BE99FF"],[0.41137123745819398,"#BD98FF"],[0.41471571906354515,"#BC97FF"],[0.41806020066889632,"#BC97FF"],[0.42140468227424749,"#BB96FF"],[0.42474916387959866,"#BB95FF"],[0.42809364548494983,"#BA95FF"],[0.43143812709030099,"#BA94FF"],[0.43478260869565216,"#B993FF"],[0.43812709030100333,"#B992FF"],[0.4414715719063545,"#B892FF"],[0.44481605351170567,"#B791FF"],[0.44816053511705684,"#B790FF"],[0.451505016722408,"#B690FF"],[0.45484949832775917,"#B68FFF"],[0.45819397993311034,"#B58EFF"],[0.46153846153846151,"#B58DFF"],[0.46488294314381268,"#B48DFF"],[0.46822742474916385,"#B38CFF"],[0.47157190635451501,"#B38BFF"],[0.47491638795986618,"#B28BFF"],[0.47826086956521735,"#B28AFF"],[0.48160535117056852,"#B189FF"],[0.48494983277591974,"#B188FF"],[0.48829431438127091,"#B088FF"],[0.49163879598662208,"#AF87FF"],[0.49498327759197325,"#AF86FF"],[0.49832775919732442,"#AE85FF"],[0.50167224080267558,"#AE85FF"],[0.50501672240802675,"#AD84FF"],[0.50836120401337792,"#AC83FF"],[0.51170568561872909,"#AC83FF"],[0.51505016722408026,"#AB82FF"],[0.51839464882943143,"#AB81FF"],[0.52173913043478259,"#AA80FF"],[0.52508361204013376,"#A980FF"],[0.52842809364548493,"#A97FFF"],[0.5317725752508361,"#A87EFF"],[0.53511705685618727,"#A87EFF"],[0.53846153846153844,"#A77DFF"],[0.54180602006688972,"#A67CFF"],[0.54515050167224088,"#A67BFF"],[0.54849498327759205,"#A57BFF"],[0.55183946488294322,"#A57AFF"],[0.55518394648829439,"#A479FF"],[0.55852842809364556,"#A378FF"],[0.56187290969899673,"#A378FF"],[0.56521739130434789,"#A277FF"],[0.56856187290969906,"#A176FF"],[0.57190635451505023,"#A176FF"],[0.5752508361204014,"#A075FF"],[0.57859531772575257,"#A074FF"],[0.58193979933110374,"#9F73FF"],[0.5852842809364549,"#9E73FF"],[0.58862876254180607,"#9E72FF"],[0.59197324414715724,"#9D71FF"],[0.59531772575250841,"#9C70FF"],[0.59866220735785958,"#9C70FF"],[0.60200668896321075,"#9B6FFF"],[0.60535117056856191,"#9A6EFF"],[0.60869565217391308,"#9A6EFF"],[0.61204013377926425,"#996DFF"],[0.61538461538461542,"#986CFF"],[0.61872909698996659,"#986BFF"],[0.62207357859531776,"#976BFF"],[0.62541806020066892,"#966AFF"],[0.62876254180602009,"#9669FF"],[0.63210702341137126,"#9568FF"],[0.63545150501672243,"#9468FF"],[0.6387959866220736,"#9467FF"],[0.64214046822742477,"#9366FF"],[0.64548494983277593,"#9266FF"],[0.6488294314381271,"#9265FF"],[0.65217391304347827,"#9164FF"],[0.65551839464882944,"#9063FF"],[0.65886287625418061,"#8F63FF"],[0.66220735785953178,"#8F62FF"],[0.66555183946488294,"#8E61FF"],[0.66889632107023411,"#8D60FF"],[0.67224080267558528,"#8D60FF"],[0.67558528428093645,"#8C5FFF"],[0.67892976588628762,"#8B5EFF"],[0.68227424749163879,"#8A5DFF"],[0.68561872909698995,"#8A5DFF"],[0.68896321070234112,"#895CFF"],[0.69230769230769229,"#885BFF"],[0.69565217391304346,"#875BFF"],[0.69899665551839463,"#875AFF"],[0.7023411371237458,"#8659FF"],[0.70568561872909696,"#8558FF"],[0.70903010033444813,"#8458FF"],[0.7123745819397993,"#8457FF"],[0.71571906354515047,"#8356FF"],[0.71906354515050164,"#8255FF"],[0.72240802675585281,"#8155FF"],[0.72575250836120397,"#8154FF"],[0.72909698996655514,"#8053FF"],[0.73244147157190631,"#7F52FF"],[0.73578595317725748,"#7E52FF"],[0.73913043478260865,"#7D51FF"],[0.74247491638795982,"#7D50FF"],[0.74581939799331098,"#7C4FFF"],[0.74916387959866226,"#7B4FFF"],[0.75250836120401343,"#7A4EFF"],[0.7558528428093646,"#794DFF"],[0.75919732441471577,"#784CFF"],[0.76254180602006694,"#784BFF"],[0.76588628762541811,"#774BFF"],[0.76923076923076927,"#764AFF"],[0.77257525083612044,"#7549FF"],[0.77591973244147161,"#7448FF"],[0.77926421404682278,"#7348FF"],[0.78260869565217395,"#7247FF"],[0.78595317725752512,"#7246FF"],[0.78929765886287628,"#7145FF"],[0.79264214046822745,"#7044FF"],[0.79598662207357862,"#6F44FF"],[0.79933110367892979,"#6E43FF"],[0.80267558528428096,"#6D42FF"],[0.80602006688963213,"#6C41FF"],[0.80936454849498329,"#6B41FF"],[0.81270903010033446,"#6A40FF"],[0.81605351170568563,"#693FFF"],[0.8193979933110368,"#683EFF"],[0.82274247491638797,"#673DFF"],[0.82608695652173914,"#663DFF"],[0.8294314381270903,"#653CFF"],[0.83277591973244147,"#643BFF"],[0.83612040133779264,"#633AFF"],[0.83946488294314381,"#6239FF"],[0.84280936454849498,"#6138FF"],[0.84615384615384615,"#6038FF"],[0.84949832775919731,"#5F37FF"],[0.85284280936454848,"#5E36FF"],[0.85618729096989965,"#5D35FF"],[0.85953177257525082,"#5C34FF"],[0.86287625418060199,"#5B33FF"],[0.86622073578595316,"#5A32FF"],[0.86956521739130432,"#5932FF"],[0.87290969899665549,"#5731FF"],[0.87625418060200666,"#5630FF"],[0.87959866220735783,"#552FFF"],[0.882943143812709,"#542EFF"],[0.88628762541806017,"#532DFF"],[0.88963210702341133,"#512CFF"],[0.8929765886287625,"#502BFF"],[0.89632107023411367,"#4F2AFF"],[0.89966555183946484,"#4E29FF"],[0.90301003344481601,"#4C28FF"],[0.90635451505016718,"#4B28FF"],[0.90969899665551834,"#4A27FF"],[0.91304347826086951,"#4826FF"],[0.91638795986622068,"#4725FF"],[0.91973244147157185,"#4524FF"],[0.92307692307692302,"#4423FF"],[0.92642140468227419,"#4221FF"],[0.92976588628762535,"#4120FF"],[0.93311036789297652,"#3F1FFF"],[0.93645484949832769,"#3D1EFF"],[0.93979933110367886,"#3C1DFF"],[0.94314381270903003,"#3A1CFF"],[0.9464882943143812,"#381BFF"],[0.94983277591973236,"#361AFF"],[0.95317725752508353,"#3418FF"],[0.9565217391304347,"#3217FF"],[0.95986622073578587,"#3016FF"],[0.96321070234113704,"#2E14FF"],[0.96655518394648832,"#2B13FF"],[0.96989966555183948,"#2911FF"],[0.97324414715719065,"#2610FF"],[0.97658862876254182,"#230EFF"],[0.97993311036789299,"#200CFF"],[0.98327759197324416,"#1D0AFF"],[0.98662207357859533,"#1908FF"],[0.98996655518394649,"#1506FF"],[0.99331103678929766,"#0F04FF"],[0.99665551839464883,"#0802FF"],[1,"#0000FF"]],"colorbar":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"thickness":23.039999999999996,"title":"Profit (Million)","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286},"tickmode":"array","ticktext":["5","10"],"tickvals":[0.31737229881731954,0.68929771247416838],"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":14.87754254877543},"ticklen":2,"len":0.5}},"xaxis":"x","yaxis":"y","frame":null}],"layout":{"margin":{"t":50.714265947142664,"r":9.2984640929846432,"b":50.521654905216565,"l":62.299709422997111},"font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286},"title":{"text":"Quarterly Sales vs Profit by Ship & Route","font":{"color":"rgba(0,0,0,1)","family":"","size":22.316313823163139},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5,105],"tickmode":"array","ticktext":["0%","25%","50%","75%","100%"],"tickvals":[0,24.999999999999996,50,75,100],"categoryorder":"array","categoryarray":["0%","25%","50%","75%","100%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923216,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.87754254877543},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.8453149175440583,"zeroline":false,"anchor":"y","title":{"text":"Percentile of Quarterly Sales","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-6,126],"tickmode":"array","ticktext":["0%","25%","50%","75%","100%","125%"],"tickvals":[0,25,50,75,100,125],"categoryorder":"array","categoryarray":["0%","25%","50%","75%","100%","125%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":4.6492320464923216,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":14.87754254877543},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.8453149175440583,"zeroline":false,"anchor":"x","title":{"text":"Percentile of Quarterly Profit","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.87754254877543},"title":{"text":"Profit (Million)<br />Profit Magnitude (Million)","font":{"color":"rgba(0,0,0,1)","family":"","size":18.596928185969286}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"8f3337198017":{"x":{},"y":{},"size":{},"colour":{},"text":{},"type":"scatter"},"8f336b288243":{"yintercept":{}},"8f33308033ab":{"xintercept":{}},"8f3330c0386d":{"x":{},"y":{}},"8f331bb8951c":{"x":{},"y":{}},"8f3373456f7b":{"x":{},"y":{}},"8f33539a2f5c":{"x":{},"y":{}}},"cur_data":"8f3337198017","visdat":{"8f3337198017":["function (y) ","x"],"8f336b288243":["function (y) ","x"],"8f33308033ab":["function (y) ","x"],"8f3330c0386d":["function (y) ","x"],"8f331bb8951c":["function (y) ","x"],"8f3373456f7b":["function (y) ","x"],"8f33539a2f5c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="summary-conclusion" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Summary &amp; Conclusion</h1>
<p>A broad exploratory data analysis (EDA) was conducted to evaluate shipping performance from multiple perspectives—including operational cost structures, revenue patterns, load utilization, and overall profitability. Throughout the analysis, a key assumption was that maintenance, fuel, and other overhead expenses were already embedded in each voyage’s operational cost. This allowed a focused look at profitability and ship–route performance without dissecting individual expense types.</p>
<p>Key Insights</p>
<ol type="1">
<li><p>Profitability Distribution</p>
<ul>
<li><p>Certain voyages deliver consistently high net profit, while others demonstrate significant negative margins. This gap underscores how effectively cost efficiency and route selection drive financial outcomes.</p></li>
<li><p>High revenue does not necessarily guarantee strong profit, suggesting that cost factors—even if aggregated—can still erode otherwise promising voyages.</p></li>
</ul></li>
<li><p>Route &amp; Ship Type Variations</p>
<ul>
<li><p>Examining metrics by route type and ship type illuminates distinct operational profiles: some routes thrive with higher revenue or profit, while others reveal cost inefficiencies or require cargo optimization.</p></li>
<li><p>Maintenance status, if reflected in cost, may still affect performance differently across the fleet, indicating a need for ongoing upkeep and operational improvements.</p></li>
</ul></li>
<li><p>Load Utilization &amp; Revenue Leakage</p>
<ul>
<li>Insights into average load percentage and potential revenue leakage highlight the financial cost of underutilized capacity. Demand consolidation or dynamic pricing can alleviate partially filled voyages. This includes weekly increase of usage of ships that have low utilization.</li>
</ul></li>
<li><p>Visual Analytics &amp; Bivariate Trends</p>
<ul>
<li>Bubble charts and other visual analyses, such as sales vs.&nbsp;profit distributions, reveal clear quadrant patterns. Ship–route combinations in the top‐right quadrant (high revenue, high profit) represent operational success, while those in the bottom‐left require immediate attention or potential route realignment.</li>
</ul></li>
</ol>
<section id="overall-conclusion" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="overall-conclusion"><span class="header-section-number">6.1</span> Overall Conclusion</h2>
<p>Under the assumption that all relevant costs (maintenance, fuel, etc.) are wrapped into a single operational cost, the focus on voyage profitability clearly identifies which ship–route combinations achieve strong margins and which underperform. High‐performing segments are candidates for scaling or replicating best practices, whereas weaker routes—especially those with large negative profit—may demand cost‐reduction strategies, improved cargo strategies, or potential withdrawal from service. Leveraging these findings enables more precise allocation of resources and targeted optimizations in scheduling and pricing, ultimately strengthening both efficiency and profitability across shipping operations.</p>
</section>
</section>
<section id="future-research" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Future Research</h1>
<p>Future research could delve deeper by disaggregating operational costs (e.g., separating maintenance, fuel, and overheads) to pinpoint specific inefficiencies, while also investigating route demand patterns (seasonal fluctuations or market changes) for better cargo allocation and analyzing additional ship attributes (engine efficiency, capacity) to isolate optimal configurations. Integrating predictive modeling would provide forward‐looking cost and revenue forecasts under different operational scenarios, further supporting data‐driven decisions. Beyond profitability, evaluating Environmental, Social, and Governance (ESG) criteria—such as emissions intensity, alternative fuel adoption, and crew welfare—could reveal how green energy solutions and sustainable practices might reduce a vessel’s carbon footprint and comply with evolving regulatory standards. Combining these approaches would produce a holistic assessment of financial performance and environmental responsibility, guiding shipping operations toward both greater profitability and long‐term sustainability.</p>
</section>
<section id="appendix" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Appendix:</h1>
<p>The list of libraries used for the assignment.</p>
<ul>
<li><p><a href="https://www.tidyverse.org/"><strong>tidyverse</strong></a>: A collection of R packages (including dplyr, tidyr, readr, purrr, and more) for data manipulation, exploration, and visualization that share an underlying design philosophy.</p></li>
<li><p><strong>ggplot2</strong>: The foundation of the Tidyverse visualization framework, implementing the grammar of graphics to create flexible, layered plots.</p></li>
<li><p><strong>skimr</strong>: Provides a convenient summary of data frames, including descriptive statistics for each column.</p></li>
<li><p><strong>janitor</strong>: Helps clean and format data frames, particularly useful for making column names consistent and removing duplicates.</p></li>
<li><p><strong>SmartEDA</strong>: Automates Exploratory Data Analysis tasks, generating summary statistics, univariate distributions, and more with minimal effort.</p></li>
<li><p><strong>easystats</strong>: A suite of packages (e.g., performance, parameters, effectsize) that unify and streamline statistical analyses in R.</p></li>
<li><p><strong>gtsummary</strong>: Creates publication-ready summary tables of regression models, descriptive statistics, and more.</p></li>
<li><p><strong>ggstatsplot</strong>: Extends ggplot2 by adding statistical details (p-values, confidence intervals) into plots, streamlining the creation of exploratory data visualizations with statistical results.</p></li>
<li><p><strong>knitr</strong>: Powers dynamic report generation, allowing R code to be woven into documents (e.g., R Markdown) with embedded outputs and plots.</p></li>
<li><p><strong>kableExtra</strong>: Enhances knitr’s kable function, adding styling, formatting, and complex features (like scrollable boxes) to HTML/LaTeX tables.</p></li>
<li><p><a href="https://patchwork.data-imaginist.com/"><strong>patchwork</strong></a>: Simplifies the arrangement of multiple ggplot2-based visualizations into composite figures for improved storytelling.</p></li>
<li><p><strong>GGally</strong>: Extends ggplot2 by offering several functions to plot correlation matrices, pairwise scatterplots, parallel coordinate plots, and more.</p></li>
<li><p><a href="https://wilkelab.org/ggridges/"><strong>ggridges</strong></a>: Enables creation of ridgeline plots, useful for visualizing distribution changes over time or across categories.</p></li>
<li><p><strong>lubridate</strong>: Facilitates working with dates and times in R, providing intuitive functions to parse, extract, and manipulate time components.</p></li>
<li><p><a href="https://scales.r-lib.org/"><strong>scales</strong></a>: Supports improved data labeling, annotation, and scale transformations for ggplot2, including formatters for percentages, currency, and more.</p></li>
<li><p><a href="https://jrnold.github.io/ggthemes/"><strong>ggthemes</strong></a>: Provides additional themes, scales, and geoms to enhance the appearance of ggplot2 visualizations.</p></li>
<li><p><a href="https://rpkgs.datanovia.com/ggpubr/"><strong>ggpubr</strong></a>: Supplies functions for creating publication-ready plots with minimal effort, facilitating tasks like adding p-values or significance bars.</p></li>
<li><p><a href="https://gganimate.com/"><strong>gganimate</strong></a>: Extends ggplot2 to include animation capabilities, making it possible to visualize dynamic changes over time.</p></li>
<li><p><a href="https://mjskay.github.io/ggdist/"><strong>ggdist</strong></a>: Offers tools for visualizing statistical distributions and uncertainties, such as interval and distribution geoms for ggplot2.</p></li>
<li><p><a href="https://wilkelab.org/ggtext/"><strong>ggtext</strong></a>: Enhances text rendering and formatting in ggplot2, enabling rich markdown/HTML styling within plot labels.</p></li>
<li><p><a href="https://github.com/hrbrmstr/ggalt"><strong>ggalt</strong></a>: A collection of geoms, coordinates, and statistics extending ggplot2 (e.g., dumbbell plots, polar coordinate enhancements).</p></li>
<li><p><a href="https://cran.r-project.org/package=ggExtra"><strong>ggextra</strong></a>: Adds marginal plots and supplementary visual elements (histograms, density plots) to ggplot2 graphics.</p></li>
<li><p><a href="https://wilkelab.org/cowplot/"><strong>cowplot</strong></a>: Offers tools for creating publication-quality ggplot2 figures, including alignment functions and consistent themes.</p></li>
<li><p><a href="https://github.com/eliocamp/ggnewscale"><strong>ggnewscale</strong></a>: Allows definition of multiple independent scales within a single ggplot2 visualization, helpful for complex multivariate displays.</p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>